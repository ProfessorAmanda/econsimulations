{"version":3,"sources":["lib/constants.js","lib/types.js","components/SimBarOption.js","components/SimBar.js","components/StartHere.js","components/Collapsable.js","components/ScatterPlot.js","components/DotPlot.js","components/DataTable.js","components/ChartContainer.js","components/SampleSizeInput.js","lib/stats-utils.js","components/SimulateSamples.js","components/LawOfLargeNumbers/LawOfLargeNumbers.js","components/SimulationIntro.js","components/SelectorButtonGroup.js","components/LawOfLargeNumbers/LawOfLargeNumbersContainer.js","components/CentralLimitTheorem/SampleMeanChart.js","components/CentralLimitTheorem/SampleMeansSimulator.js","components/CentralLimitTheorem/CentralLimitTheorem.js","components/CentralLimitTheorem/CentralLimitTheoremContainer.js","components/JointDistributions/MeanSDInput.js","components/JointDistributions/JointChart.js","components/JointDistributions/JDCharts.js","components/InputSlider.js","components/JointDistributions/JointDistributions.js","components/JointDistributions/JointDistributionsContainer.js","components/LeastSquares/NewPointsInput.js","components/LeastSquares/LeastSquaresChart.js","components/LeastSquares/PlotLine.js","components/LeastSquares/LeastSquares.js","components/LeastSquares/LeastSquaresContainer.js","components/OmittedVariableBias/CoefficientInput.js","components/OmittedVariableBias/OmittedVariableChart.js","components/OmittedVariableBias/OmittedVariableBias.js","components/OmittedVariableBias/OmittedVariableBiasContainer.js","components/ConfidenceIntervals/ConfidenceInputs.js","components/ConfidenceIntervals/ConfidenceIntervalsChart.js","components/ConfidenceIntervals/ManySamplesInput.js","components/ConfidenceIntervals/PopulationChart.js","components/ConfidenceIntervals/ConfidenceIntervals.js","components/ConfidenceIntervals/ConfidenceIntervalsContainer.js","components/HypothesisTesting/Conclusion.js","components/HypothesisTesting/PopulationChartReveal.js","components/HypothesisTesting/ResultsDisplay.js","components/HypothesisTesting/SampleSizeAlphaInput.js","components/HypothesisTesting/NormalCurve.js","components/HypothesisTesting/ManySamplesInput.js","components/HypothesisTesting/StdNormalCurve.js","components/HypothesisTesting/SimulateTypeOneError.js","components/HypothesisTesting/PerformTest.js","components/HypothesisTesting/TestInputs.js","components/HypothesisTesting/HypothesisSelector.js","components/HypothesisTesting/HypothesisTesting.js","components/HypothesisTesting/HypothesisTestingContainer.js","components/SampleDistributionOLSEstimators/PopulationAndSampleCharts.js","components/SampleDistributionOLSEstimators/StandardNormalOLS.js","components/SampleDistributionOLSEstimators/SlopeDistributionPlot.js","components/SampleDistributionOLSEstimators/InterceptDistributionPlot.js","components/SampleDistributionOLSEstimators/MultipleSamplesInput.js","lib/data-utils.js","components/SampleDistributionOLSEstimators/SampleDistributionOLSEstimators.js","components/JobCorpsDataPopup.js","components/SampleDistributionOLSEstimators/SampleDistributionOLSEstimatorsContainer.js","components/MultipleRegression/Scatter3D.js","components/MultipleRegression/MultipleRegression.js","components/MultipleRegression/MultipleRegressionContainer.js","components/OLSEstimatorsAreConsistent/PopulationPlot.js","components/OLSEstimatorsAreConsistent/SampleInput.js","components/OLSEstimatorsAreConsistent/SamplePlot.js","components/OLSEstimatorsAreConsistent/OLSEstimatorsAreConsistent.js","components/OLSEstimatorsAreConsistent/OLSEstimatorsAreConsistentContainer.js","components/ANOVA/FTest.js","components/ANOVA/PopulationRow.js","components/LabeledSelector.js","components/ANOVA/PopulationMeanInput.js","components/LabeledInput.js","components/ANOVA/PopulationSampleSizeInput.js","components/ANOVA/PopulationSettings.js","components/ANOVA/DistributionOfFStatistic.js","components/ANOVA/SimulationPopulationsDisplay.js","components/ANOVA/SimulationPopulationSettings.js","components/ANOVA/SimulationSampleSettings.js","components/ANOVA/SimulateType1Error.js","components/ANOVA/ANOVA.js","components/ANOVA/ANOVAContainer.js","components/FixedEffects/EffectsToggle.js","components/FixedEffects/FixedEffectsPlot.js","components/FixedEffects/MeansTable.js","components/FixedEffects/FixedEffects.js","components/FixedEffects/FixedEffectsContainer.js","components/SimulationContainer.js","components/Footer.js","components/SimulationMenu.js","App.js","registerServiceWorker.js","index.js"],"names":["VALUES","Normal","xmaxval","xminval","ymaxval","title","xLabel","tableCol","Uniform","Exponential","Mystery","VALUES_ALT","OLSE_VALUES","Continuous","xMin","xMax","yMin","yMax","yLabel","xCategories","slopeMin","slopeMax","interceptMin","interceptMax","yTickInterval","Binary","MULTIPLE_REGRESSION_VALUES","xAbbr","xRange","yAbbr","yRange","buttonLabel","zLabel","zAbbr","zRange","path","citation","href","target","rel","xtickvals","xticktext","ytickvals","yticktext","TEXTS","TEXTS_ALT","HYPOTHESIS_OPTIONS","oneSample","type","hypoText","nullH","math","alterH","sides","twoSample","OLS_ASSUMPTIONS_OPTIONS","OLS_ASSUMPTIONS_TEXTS","MODULES","name","description","distributionType","PropTypes","oneOf","dataObjectArrayType","arrayOf","shape","x","number","y","id","stringOrNumberType","size","mean","string","isRequired","data","color","enableMouseTracking","bool","showInLegend","visible","label","oneOfType","object","marker","animation","lowerConf","upperConf","confidenceLevel","distribution","reject","slope","intercept","element","sampleSize","sample","_","keys","1","2","periods","entities","SimBarOption","section","setSection","Card","border","className","data-testid","onClick","Header","Body","Text","SimBar","sections","map","Col","Row","xs","sm","md","lg","StartHere","start","showApp","Fade","in","Button","variant","Collapsable","children","style","margin","width","textAlign","backgroundColor","marginBottom","isOpened","springConfig","presets","gentle","height","padding","ScatterPlot","series","zoom","allowDecimalsY","tooltipFormat","useState","chart","setChart","useEffect","newChart","zoomType","legend","symbolHeight","symbolWidth","symbolRadius","xAxis","min","max","enabled","text","startOnTick","endOnTick","categories","yAxis","tickInterval","allowDecimals","seriesObject","length","turboThreshold","tooltip","pointFormat","highcharts","Highcharts","options","DotPlot","DataTable","headers","setSelected","setRowColor","determineRowColor","dataTable","row","values","isNaN","toUpperCase","round","reverse","Table","hover","striped","cursor","ChartContainer","popArray","popMean","sampled","sampleMean","popShape","undefined","format","Container","fluid","Alert","obj","includes","SampleSizeInput","maxSize","minSize","handleClick","setSampleSize","InputGroup","Form","Control","align","placeholder","value","onChange","event","disabled","getCounts","counts","entries","countBy","forEach","amt","count","i","push","generateNormal","standardDev","precision","PD","rnorm","num","generateUniform","low","hi","runif","generateExponential","lambda","rexp","generateChiSquared","degreesOfFreedom","rchisq","generateMystery","mysteryMean1","mysteryMean2","mysterySD1","mysterySD2","normal1","normal2","dataFromDistribution","distType","getDistributionFunction","population","shuffle","index","populationMean","attr","p","populationStandardDev","std","calculateOneSampleTestStatistic","mu0","jStat","zscore","sqrt","tscore","calculateTwoSampleTestStatistic","sampleMean1","sampleMean2","standardDev1","standardDev2","sampleSize1","sampleSize2","calculatePValue","testStat","equality","pval","ztest","ttest","convertToStandardNormal","array","popSD","linearRegression","parsedData","every","elem","isArray","isObject","Error","regression","linear","equation","SimulateSamples","mathTitle","sampleSeriesName","popValSeriesName","sampleFn","yFn","setSampled","meanLine","setMeanLine","setStart","plotOptions","states","timer","useRef","clearInterval","current","toggleSim","n","setInterval","iteration","newSamples","currSampled","currMeanLine","startSim","body","LawOfLargeNumbers","stage","setStage","setPopArray","newPop","classname","popValue","toFixed","SimulationIntro","Heading","SelectorButtonGroup","select","selected","buttons","option","ButtonGroup","LawOfLargeNumbersContainer","setPopType","SampleMeanChart","sampleMeans","sd","normalized","setNormalized","newSampleMeans","sampleMeansPoints","onlyValues","onlyCounts","Check","checked","inline","SampleMeansSimulator","addSamples","numberResamples","setNumberResamples","resampleSize","setResampleSize","resample","samplePop","runSim","CentralLimitTheorem","mainSampleSize","setSampleMeans","newMeans","means","CentralLimitTheoremContainer","MeanSDInput","setMean","setSD","step","aria-label","JointChart","jointData","sharedOptions","nodeId","position","float","marginLeft","colors","node","yScale","yFormat","e","formattedX","formattedY","axisBottom","tickSize","legendPosition","legendOffset","axisLeft","JDCharts","parentData","childData","setNodeId","handleMouseMove","useCallback","handleMouseLeave","animate","top","right","bottom","left","xScale","blendMode","xFormat","nodeSize","useMemo","enableGridX","enableGridY","onMouseMove","onMouseLeave","marginRight","InputSlider","custom","JointDistributions","parentMean","setParentMean","childMean","setChildMean","parentSD","setParentSD","childSD","setChildSD","correlation","setCorrelation","parent","child","joint","allData","setAllData","xl","covariance","abs","covMatrix","MultivariateNormal","jointSeries","parentHeight","childHeight","parentCounts","parentSeries","childCounts","childSeries","generate","JointDistributionsContainer","NewPointsInput","generatePoints","numPoints","setNumPoints","LeastSquaresChart","points","addPoint","linePoints","setSquareAreas","enableClick","setEnableClick","headerFormat","myChart","setMyChart","pairs","p1","p2","areas","buildSquare","dist","lowestPt","squares","dashStyle","fill","plotBorderColor","plotBorderWidth","events","click","caption","fontSize","verticalAlign","radius","fillColor","annotations","draggable","shapes","PlotLine","squareAreas","generateBestLine","reduce","a","b","LeastSquares","setPoints","setLinePoints","setSlope","setIntercept","point","linearPts","sort","span","offset","paddingTop","newPoints","random","newSlope","newIntercept","LeastSquaresContainer","require","CoefficientInput","beta","setBeta","delta","setDelta","OmittedVariableChart","dataPoints","naiveLine","correctedLine","zoomtype","OmittedVariableBias","setSeries","showCorrect","setShowCorrect","OBS","epsilon","ones","colOne","colTwo","scores","scorePoint","studyScores","X","transpose","matrix","Y","inverse","inv","multiply","bHat","int","range","parseFloat","get","Badge","covarianceMatrix","stdX","stdY","seriesArr","generateSeries","active","OmittedVariableBiasContainer","ConfidenceInputs","setDistType","confLevel","setConfLevel","pct","slice","ConfidenceIntervalsChart","samples","containsMean","doesntContainMean","sampleObject","high","outside","borderColor","inverted","selection","this","duration","reversed","tickPixelInterval","tickWidth","lineWidth","centerInCategory","allowPointSelect","inactive","symbol","zIndex","toString","ManySamplesInput","populationSize","PopulationChart","ConfidenceIntervals","setSamples","unselect","charts","generateSamples","replications","sampleObjects","ciFunction","normalci","tci","indexedSamples","filter","ConfidenceIntervalsContainer","Conclusion","result","relation","firstMean","secondMean","testType","PopulationChartReveal","popArr","popArr2","popMean2","popArrMax","popArr2Max","maxHeight","lineColor","ResultsDisplay","mean2","testStatistic","pValue","alpha","toPrecision","SampleSizeAlphaInputs","setAlpha","popSize","setSampleSize2","showSecondInput","NormalCurve","popStandardDev","setPopulation","easing","meanCounts","rejects","accepts","defaultTo","meanObject","baseSeries","StdNormalCurve","SimulateTypeOneError","sd1","sd2","population2","setPopulation2","standardized","setStandardized","dotPlotSeries","marginTop","clear","sample2","PerformTest","setPopArr","setSample","originalPop","setOriginalPop","originalPopSample","setOriginalPopSample","originalPopSampleSize","setOriginalPopSampleSize","popMean1","sampleSD","populationSD","originalSampleMean","originalSampleSD","originalPopSD","twoSampleSD1","twoSampleSD2","TestInputs","setTestType","paddingBottom","HypothesisSelector","setHypothesis","setMu0","menuOptions","Dropdown","Item","DropdownButton","HypothesisTesting","setPopShape","hypothesis","HypothesisTestingContainer","PopulationAndSampleCharts","selectSample","regressorType","mainSeries","sampleSeries","StandardNormalOLS","seriesName","SlopeDistributionPlot","slopeMean","slopeSD","standardizedData","plotData","InterceptDistributionPlot","interceptMean","interceptSD","MultipleSamplesInput","fetchCSV","callback","Papa","parse","download","skipEmptyLines","complete","results","SampleDistributionOLSEstimators","setData","meanX","meanY","corr","clamp","generateScatter","process","category","uniq","JobCorpsDataPopup","showButton","showDataInfo","setShowDataInfo","Modal","show","onHide","centered","Title","Footer","SampleDistributionOLSEstimatorsContainer","setRegressorType","Scatter3D","z","dataSet","display","setDisplay","showBestFit","setShowBestFit","mode","line","hovertemplate","A","zip","theta","column","bestFitPlane","floor","ceil","yi","temp","xi","showscale","opacity","hoverinfo","colorscale","displayPointsMap","unzip","lineX","lineY","layout","yanchor","l","r","t","showlegend","xaxis","tickvals","ticktext","yaxis","scene","zaxis","camera","eye","config","scrollZoom","displayModeBar","modeBarButtonsToRemove","paddingLeft","axes","MultipleRegression","setDataSet","val","MultipleRegressionContainer","PopulationPlot","assumption","showViolation","setShowViolation","sampleData","altered","originalX","originalY","SampleInput","addSample","showMessage","SamplePlot","originalIntercept","originalSlope","OLSEstimatorsAreConsistent","setShowMessage","samplingFunction","medianValue","median","belowMedian","belowMedianSample","belowMedianResample","sampleJobCorps","randomIndices","alteredJobCorps","idx","remainingSample","some","sampleControlAboveMedian","protocolBreakers","randomNormal","dev","getBestFitSlope","getBestFitIntercept","violationSlope","violationIntercept","OLSEstimatorsAreConsistentContainer","setAssumption","assumptionAsString","invert","FTest","populations","overallSampleMean","flatten","SSTR","sum","MSTR","SSE","MSE","F","anovaftest","borderless","PopulationRow","popSeries","LabeledSelector","setValue","Group","as","Label","PopulationMeanInput","LabeledInput","PopulationSampleSizeInput","PopulationSettings","setPopulations","stdDev","setStdDev","setPopulationAttr","newPopulations","pop","numPops","newPops","randomInt","resetPopulations","DistributionOfFStatistic","numSamples","setNumSamples","setAccepts","setRejects","fStats","fCounts","newRejects","newAccepts","fObject","runSimulation","SimulationPopulationsDisplay","SimulationPopulationSettings","setNumPops","generatePopulations","SimulationSampleSettings","SimulateType1Error","showSim","setShowSim","ANOVA","showResults","setShowResults","ANOVAContainer","EffectsToggle","effects","toggleEffect","toggleMean","olsLines","toggleOLSLine","ListGroup","PLOT_MAX","PLOT_MIN","FixedEffectsPlot","demean","dim","newVal","newData","periodColorMap","0","entityColorMap","xMeans","yMeans","demeanForOLS","bestFitLines","zippedPoints","lineMin","lineMax","dataMidpoints","orig","now","firstArrows1","secondArrows1","firstArrows2","secondArrows2","textposition","itemclick","itemdoubleclick","transition","xref","yref","showarrow","arrowside","arrowcolor","arrowwidth","ax","ay","axref","ayref","MeansTable","getMean","FixedEffects","setEffects","setMeans","setOLSLines","effect","newEffects","m","newLines","FixedEffectsContainer","SimulationContainer","setMode","SimulationMenu","logo","setLogo","setTimeout","clearTimeout","App","Boolean","window","location","hostname","match","navigator","serviceWorker","ready","then","registration","unregister","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3657614c.chunk.js","sourcesContent":["import { InlineMath } from 'react-katex';\n\nexport const SAMPLE_SIZE = 2000;\n\nexport const VALUES = {\n  Normal: { xmaxval: 75, xminval: 50, ymaxval: 40, title: 'Milk Production', xLabel: 'Gallons', tableCol: 'Cow' },\n  Uniform: { xmaxval: 10, xminval: -10, ymaxval: 25, title: 'Lottery Outcome', xLabel: 'Dollars', tableCol: 'Person' },\n  Exponential: { xmaxval: 500, xminval: 0, ymaxval: 10, title: 'Duration of Telemarketer Call', xLabel: 'Duration (s)', tableCol: 'Call' },\n  'Chi-Squared': { xmaxval: 30, xminval: 0, ymaxval: 40, title: 'Money Spent on Lunch', xLabel: 'Dollars', tableCol: 'Worker' },\n  Mystery: { xmaxval: 80, xminval: 50, ymaxval: 60, title: 'Alien Female Height', xLabel: 'Height (in)', tableCol: 'Alien' }\n}\n\nexport const VALUES_ALT = {\n  Normal: { xmaxval: 75, xminval: 50, title: 'Milk Production', xLabel: 'Gallons' },\n  Uniform: { xmaxval: 75, xminval: 55, title: 'Alien Female Height', xLabel: 'Height (in)' },\n  Exponential: { xmaxval: 500, xminval: 0, title: 'Duration of Telemarketer Call', xLabel: 'Duration (seconds)' },\n  'Chi-Squared': { xmaxval: 30, xminval: 0, title: 'Money Spent on Lunch', xLabel: 'Dollars' }\n}\n\nexport const OLSE_VALUES = {\n  Continuous: { xMin: 0, xMax: 15, yMin: 20, yMax: 100, xLabel: 'Study Hours', yLabel: 'Test Score', xCategories: null, slopeMin: -5, slopeMax: 5, interceptMin: 20, interceptMax: 100, yTickInterval: 20 },\n  Binary: { xMin: 0, xMax: 1, yMin: 50, yMax: 350, yLabel: 'Weekly Earnings', xCategories: ['Control Group', 'Job Corps'], title: 'Sample', slopeMin: -10, slopeMax: 30, interceptMin: 175, interceptMax: 225, yTickInterval: 50 }\n}\n\nexport const MULTIPLE_REGRESSION_VALUES = {\n  'California Schools Data': {\n    'XY': { xLabel: 'Student-Teacher Ratio', xAbbr: 'StudentTeacherRatio', xRange: [10, 30], yLabel: 'Percent English Learners', yAbbr: 'PercentEngLearners' , yRange: [0, 100], buttonLabel: <p>Percent English Learners<br/>vs<br/>Student-Teacher Ratio</p> },\n    'XZ': { xLabel: 'Student-Teacher Ratio', xAbbr: 'StudentTeacherRatio', xRange: [10, 30], yLabel: 'Test Scores', yAbbr: 'TestScores', yRange: [600, 720], buttonLabel: <p>Test Scores<br/>vs<br/>Student-Teacher Ratio</p> },\n    'YZ': { xLabel: 'Percent English Learners', xAbbr: 'PercentEngLearners', xRange: [0, 100], yLabel: 'Test Scores', yAbbr: 'TestScores', yRange: [600, 720], buttonLabel: <p>Test Scores<br/>vs<br/>Percent English Learners</p> },\n    '3D': { xLabel: 'Student-Teacher Ratio', xAbbr: 'StudentTeacherRatio', xRange: [10, 30], yLabel: 'Percent English Learners', yAbbr: 'PercentEngLearners' , yRange: [0, 100], zLabel: 'Test Scores', zAbbr: 'TestScores', zRange: [600, 720], buttonLabel: <p>Test Scores<br/>vs<br/>Percent English Learners<br/>vs<br/>Student-Teacher Ratio</p> },\n    path: 'california_schools_data.csv',\n    citation: <>This data is California Standardized Testing and Reporting data for 420 elementary school districts in California for 1999. This dataset is used throughout Stock and Watson, Introduction to Econometrics and was originally obtained from the California Department of Education (<a href=\"https://www.cde.ca.gov/\" target=\"_blank\" rel=\"noopener noreferrer\">www.cde.ca.gov</a>).</>\n  },\n  'CPS Earnings Data': {\n    'XY': { xLabel: '', xAbbr: 'College', yLabel: '', yAbbr: 'Female', buttonLabel: <p>Gender (Female)<br/>vs<br/>College</p>, xtickvals: [0, 1], xticktext: ['No College', 'College'], ytickvals: [0, 1], yticktext: ['Male', 'Female'] },\n    'XZ': { xLabel: '', xAbbr: 'College', yLabel: 'Weekly Earnings', yAbbr: 'Earnings', buttonLabel: <p>Earnings<br/>vs<br/>College</p>, xtickvals: [0, 1], xticktext: ['No College', 'College'] },\n    'YZ': { xLabel: '', xAbbr: 'Female', yLabel: 'Weekly Earnings', yAbbr: 'Earnings', buttonLabel: <p>Earnings<br/>vs<br/>Gender (Female)</p>, xtickvals: [0, 1], xticktext: ['Male', 'Female'] },\n    '3D': { xLabel: '', xAbbr: 'College', xRange: [-0.5, 1.5], yLabel: '', yAbbr: 'Female', yRange: [-0.5, 1.5], zLabel: 'Weekly Earnings', zAbbr: 'Earnings', buttonLabel: <p>Earnings<br/>vs<br/>Gender (Female)<br/>vs<br/>College</p>, xtickvals: [0, 1], xticktext: ['No College', 'College'], ytickvals: [0, 1], yticktext: ['Male', 'Female'] },\n    path: 'CPS_earnings_data.csv',\n    citation: <>The data is a random sample from the CPS Outgoing Rotation group earner study in March 2019.<br/><cite>(Sarah Flood, Miriam King, Renae Rodgers, Steven Ruggles and J. Robert Warren. Integrated Public Use Microdata Series, Current Population Survey: Version 8.0 [dataset]. Minneapolis, MN: IPUMS, 2020. <a href=\"https://doi.org/10.18128/D030.V8.0\" target=\"_blank\" rel=\"noopener noreferrer\">https://doi.org/10.18128/D030.V8.0</a>)</cite></>\n  },\n  'CPS Log Earnings Data': {\n    'XY': { yLabel: 'Years of Education', yAbbr: 'Years_of_Ed', xLabel: '', xAbbr: 'Female', buttonLabel: <p>Years of Education<br/>vs<br/>Gender (Female)</p>, xtickvals: [0, 1], xticktext: ['Male', 'Female'] },\n    'YZ': { xLabel: 'Years of Education', xAbbr: 'Years_of_Ed', yLabel: 'Log Weekly Earnings', yAbbr: 'ln(Earnings)', buttonLabel: <p>Log Earnings<br/>vs<br/>Years of Education</p> },\n    'XZ': { xLabel: '', xAbbr: 'Female', yLabel: 'Log Weekly Earnings', yAbbr: 'ln(Earnings)', buttonLabel: <p>Log Earnings<br/>vs<br/>Gender (Female)</p>, xtickvals: [0, 1], xticktext: ['Male', 'Female'] },\n    '3D': { yLabel: 'Years of Education', yAbbr: 'Years_of_Ed', xLabel: '', xAbbr: 'Female', xRange: [-0.5, 1.5], zLabel: 'Log Weekly Earnings', zAbbr: 'ln(Earnings)', buttonLabel: <p>Log Earnings<br/>vs<br/>Gender (Female)<br/>vs<br/>Years of Education</p>, xtickvals: [0, 1], xticktext: ['Male', 'Female'] },\n    path: 'CPS_log_earnings_data.csv',\n    citation: <>The data is a random sample from the CPS Outgoing Rotation group earner study in March 2019.<br/><cite>(Sarah Flood, Miriam King, Renae Rodgers, Steven Ruggles and J. Robert Warren. Integrated Public Use Microdata Series, Current Population Survey: Version 8.0 [dataset]. Minneapolis, MN: IPUMS, 2020. <a href=\"https://doi.org/10.18128/D030.V8.0\" target=\"_blank\" rel=\"noopener noreferrer\">https://doi.org/10.18128/D030.V8.0</a>)</cite></>\n  }\n}\n\nexport const TEXTS = {\n  Normal: ['monthly Milk Production', 'cows', 'produced', ' gallons a month.'],\n  // Uniform: [\"the wait time\", \"people at the DMV in VT\", \"reported a total time of\", \" minutes.\"],\n  Exponential: ['duration', 'Telemarketer Calls', 'reported a duration of', ' seconds on a call.'],\n  'Chi-Squared': ['expenditure', 'workers on lunch', 'reported an expenditure of', ' dollars on lunch.'],\n  Mystery: ['the height', 'Alien Females from planet Stata', 'reported a height of', ' inches.'],\n}\n\nexport const TEXTS_ALT = {\n  Normal: ['monthly Milk Production', 'cows'],\n  Uniform: ['the height', 'Alien Females from planet Stata'],\n  Exponential: ['duration', 'Telemarketer Calls'],\n  'Chi-Squared': ['expenditure', 'workers on lunch']\n}\n\nexport const HYPOTHESIS_OPTIONS = {\n  oneSample: [\n    {\n      type: '>',\n      hypoText: 'Option 1: These cows produce more than ',\n      nullH: <InlineMath math=\"H_0: \\mu \\leq \"/>,\n      alterH: <InlineMath math=\"H_a: \\mu \\gt \"/>,\n      sides: 1\n    },\n    {\n      type: '<',\n      hypoText: 'Option 2: These cows produce less than ',\n      nullH: <InlineMath math=\"H_0: \\mu \\geq \"/>,\n      alterH: <InlineMath math=\"H_a: \\mu \\lt \"/>,\n      sides: 1\n    },\n    {\n      type: '!=',\n      hypoText: 'Option 3: These cows produce an amount not equal to ',\n      nullH: <InlineMath math=\"H_0: \\mu = \"/>,\n      alterH: <InlineMath math=\"H_a: \\mu \\neq \"/>,\n      sides: 2\n    }\n  ],\n  twoSample: [\n    {\n      type: '<',\n      hypoText: 'Option 1: These cows produce more than they did before.',\n      nullH: <InlineMath math=\"H_0: \\mu_1 - \\mu_2 \\geq 0\"/>,\n      alterH: <InlineMath math=\"H_a: \\mu_1 - \\mu_2 \\lt 0\"/>,\n      sides: 1\n    },\n    {\n      type: '>',\n      hypoText: 'Option 2: These cows produce less than they did before',\n      nullH: <InlineMath math=\"H_0: \\mu_1 - \\mu_2 \\leq 0\"/>,\n      alterH: <InlineMath math=\"H_a: \\mu_1 - \\mu_2 \\gt 0\"/>,\n      sides: 1\n    },\n    {\n      type: '!=',\n      hypoText: 'Option 3: These cows produce a different amount now compared to before.',\n      nullH: <InlineMath math=\"H_0: \\mu_1 - \\mu_2 = 0\"/>,\n      alterH: <InlineMath math=\"H_a: \\mu_1 - \\mu_2 \\neq 0\"/>,\n      sides: 2\n    }\n  ]\n}\n\nexport const OLS_ASSUMPTIONS_OPTIONS = {\n  'OLS Assumptions Hold': 'OLS Assumptions Hold',\n  'Non-Random Sample': 'Non-Random Sample',\n  'Large Outliers': 'Large Outliers',\n  'E(u|x) != 0': <InlineMath key=\"E(u|x)\\neq 0\" math=\"E(u|x)\\neq 0\"/>\n};\n\nexport const OLS_ASSUMPTIONS_TEXTS = {\n  'OLS Assumptions Hold': '',\n  'Non-Random Sample': 'Researchers collect their sample by randomly calling people from the list of people in the study population. BUT, people who are not working are much more likely to answer the phone to respond to the survey. This means that the sample is not actually random and draws people from the bottom half of the earnings distribution (those working fewer hours or without steady jobs). Note that we need to sample with replacement for any sample size over 1000 (half of the population size).',\n  'Large Outliers': 'The technician hired to enter earnings from the sample respondents makes data entry errors when recording a batch of earnings data from the treatment group, accidently inflating the values.',\n  'E(u|x) != 0': 'Some people who were randomized into the control group are very ambitious and well-connected and find a way to get into the Job Corps program. This is an example of “failure to follow treatment protocol.” In this scenario, the regressor (X=indicator for being in Job Corps) in no longer uncorrelated with other characteristics (eg. motivation, connections) of the individual.'\n}\n\nexport const MODULES = [\n  {\n    name: 'Law of Large Numbers',\n    description: 'The Law of Large Numbers tells us that that the sample mean approaches the mean of the population as we increase the sample size. This simulation investigates the behavior of the sample mean as we change the sample size.',\n  },\n  {\n    name: 'Central Limit Theorem',\n    description: 'The Central Limit Theorem states that, for sufficiently large samples, the sample mean is approximately normally distributed, even if the underlying population is not normally distributed (or if we have no idea what the underlying population looks like). This simulation investigates how the distribution of the sample mean is affected by the sample size and the shape of the population distribution.',\n  },\n  {\n    name: 'Confidence Intervals',\n    description: 'A confidence interval provides a range of values for the likely location of the true population mean, based on information gathered from a sample.',\n  },\n  {\n    name: 'Hypothesis Testing',\n    description: 'Hypothesis testing is a procedure that allows us to form conclusions based on information derived from a sample.',\n  },\n  {\n    name: 'ANOVA',\n    description: 'The module presents a simple version of ANOVA (Analysis of Variance), in which we test the null hypothesis that the means of two or more populations are equal.',\n  },\n  {\n    name: 'Joint Distributions',\n    description: 'A joint probability distribution describes the simultaneous behavior of two random variables.',\n  },\n  {\n    name: 'Least Squares',\n    description: 'Ordinary least squares regression estimates the slope(s) and intercept of a line to best fit data for two (or more) variables by minimizing the sum of the squared distances from the data points to the line.',\n  },\n  {\n    name: 'Sample Distribution of OLS Estimators',\n    description: <>The sampling distributions of the OLS estimators <InlineMath math=\"\\hat{\\beta}_0\"/> and <InlineMath math=\"\\hat{\\beta}_1\"/> are approximately normal.</>\n  },\n  {\n    name: 'The OLS Estimators are Consistent',\n    description: <> If the least squares assumptions hold, the OLS estimators, <InlineMath math=\"\\hat{\\beta}_0\"/> and <InlineMath math=\"\\hat{\\beta}_1\"/>, converge to the population intercept and slope when the sample is large.</>\n  },\n  {\n    name: 'Omitted Variable Bias',\n    description: 'Omitted variable bias (OVB) arises when a variable that is i) correlated with the outcome and ii) correlated with one of the included regressors is omitted from the regression model.',\n  },\n  {\n    name: 'Multiple Regression',\n    description: <>OLS regression with multiple regressors (<InlineMath math=\"k\"/>) estimates the <InlineMath math=\"k+1\"/> dimensional plane that best fits the data.</>\n  },\n  // {\n  //   name: 'Fixed Effects',\n  //   description: 'In Progress',\n  // }\n];\n","import _ from 'lodash';\nimport PropTypes from 'prop-types';\nimport { OLS_ASSUMPTIONS_OPTIONS } from './constants';\n\nexport const popShapeType = PropTypes.oneOf([\n  'Normal',\n  'Uniform',\n  'Exponential',\n  'Chi-Squared',\n  'Mystery'\n]);\n\nexport const distributionType = PropTypes.oneOf(['Z', 'T']);\n\nexport const dataObjectArrayType = PropTypes.arrayOf(\n  PropTypes.shape({\n    x: PropTypes.number,\n    y: PropTypes.number,\n    id: PropTypes.number\n  })\n);\n\nexport const sampleMeanArrayType = PropTypes.arrayOf(\n  PropTypes.shape({\n    size: PropTypes.number,\n    mean: PropTypes.number,\n    id: PropTypes.number\n  })\n);\n\nexport const highchartsSeriesType = PropTypes.arrayOf(\n  PropTypes.shape({\n    name: PropTypes.string.isRequired,\n    data: dataObjectArrayType.isRequired,\n    type: PropTypes.string,\n    color: PropTypes.string,\n    enableMouseTracking: PropTypes.bool,\n    showInLegend: PropTypes.bool,\n    visible: PropTypes.bool,\n    label: PropTypes.oneOfType([PropTypes.object, PropTypes.bool]),\n    marker: PropTypes.oneOfType([PropTypes.object, PropTypes.bool]),\n    animation: PropTypes.oneOfType([PropTypes.object, PropTypes.bool])\n  })\n);\n\nexport const confidenceIntervalsSampleType = PropTypes.shape({\n  data: dataObjectArrayType.isRequired,\n  size: PropTypes.number.isRequired,\n  mean: PropTypes.number.isRequired,\n  lowerConf: PropTypes.number.isRequired,\n  upperConf: PropTypes.number.isRequired,\n  confidenceLevel: PropTypes.number.isRequired,\n  distribution: distributionType.isRequired,\n  label: PropTypes.bool.isRequired,\n  id: PropTypes.number.isRequired\n});\n\nexport const stringOrNumberType = PropTypes.oneOfType([PropTypes.string, PropTypes.number]);\n\nexport const hypothesisTestingSampleArrayType = PropTypes.arrayOf(\n  PropTypes.shape({\n    mean: PropTypes.number.isRequired,\n    reject: PropTypes.bool.isRequired\n  })\n);\n\nexport const testTypeType = PropTypes.oneOf(['oneSample', 'twoSample']);\n\nexport const olsSampleType = PropTypes.shape({\n  data: dataObjectArrayType.isRequired,\n  slope: PropTypes.number.isRequired,\n  intercept: PropTypes.number.isRequired,\n  id: PropTypes.number.isRequired\n});\n\nexport const hypothesisEqualityType = PropTypes.oneOf(['<', '>', '!=']);\n\nexport const optionalLaTeXType = PropTypes.oneOfType([PropTypes.element, PropTypes.string]);\n\nexport const anovaPopulationObjectType = PropTypes.shape({\n  id: PropTypes.number.isRequired,\n  mean: PropTypes.number,\n  sampleSize: stringOrNumberType.isRequired,\n  data: dataObjectArrayType.isRequired,\n  sample: dataObjectArrayType\n});\n\nexport const olsAssumptionType = PropTypes.oneOf(_.keys(OLS_ASSUMPTIONS_OPTIONS));\n\nexport const fixedEffectsDataType = PropTypes.shape({\n  1: PropTypes.shape({\n    x: PropTypes.arrayOf(PropTypes.number).isRequired,\n    y: PropTypes.arrayOf(PropTypes.number).isRequired\n  }).isRequired,\n  2: PropTypes.shape({\n    x: PropTypes.arrayOf(PropTypes.number).isRequired,\n    y: PropTypes.arrayOf(PropTypes.number).isRequired\n  }).isRequired\n});\n\nexport const fixedEffectsToggleType = PropTypes.shape({\n  periods: PropTypes.arrayOf(PropTypes.number).isRequired,\n  entities: PropTypes.arrayOf(PropTypes.number).isRequired\n})\n","import { Card } from 'react-bootstrap';\nimport PropTypes from 'prop-types';\nimport { optionalLaTeXType } from '../lib/types';\n\nexport default function SimBarOption({ section, setSection }) {\n  return (\n    <Card border=\"primary\" className=\"menu-item\" data-testid={`module-${section.name}`} onClick={() => setSection(section.name)}>\n      <Card.Header className=\"menu-item-title\">{section.name}</Card.Header>\n      <Card.Body>\n        <Card.Text className=\"menu-item-text\">{section.description}</Card.Text>\n      </Card.Body>\n    </Card>\n  );\n}\n\nSimBarOption.propTypes = {\n  setSection: PropTypes.func.isRequired,\n  section: PropTypes.shape({\n    name: PropTypes.string.isRequired,\n    description: optionalLaTeXType.isRequired\n  }).isRequired,\n}\n","import SimBarOption from './SimBarOption';\nimport PropTypes from 'prop-types'\nimport { MODULES } from '../lib/constants';\nimport { Col, Row } from 'react-bootstrap';\n\nexport default function SimBar({ setSection }) {\n  const sections = MODULES.map((section) => (\n    <Col key={section.name}>\n      <SimBarOption section={section} setSection={setSection}/>\n    </Col>\n  ));\n\n  return (\n    <div className=\"menu\" data-testid=\"menu\">\n      <div className=\"mini-logo\"/>\n      <br/>\n      <Row xs={1} sm={2} md={3} lg={4} className=\"g-4\">{sections}</Row>\n    </div>\n  );\n}\n\nSimBar.propTypes = {\n  setSection: PropTypes.func.isRequired,\n}\n","import { Button, Fade } from 'react-bootstrap';\nimport PropTypes from 'prop-types';\n\nexport default function StartHere({ start, showApp }) {\n  return (\n    <Fade in={start}>\n      <div className=\"jumbotron\">\n        <p className=\"lead\">\n          This website is an interactive educational application developed to simulate and visualize various statistical concepts.\n        </p>\n        <p>\n          Project of Professor Tanya Byker and Professor Amanda Gregg at Middlebury College, with research assistants Kevin Serrao, Class of 2018, Dylan Mortimer, Class of 2019, Ammar Almahdy, Class of 2020, Jacqueline Palacios, Class of 2020, Siyuan Niu, Class of 2021, David Gikoshvili, Class of 2021, and Ethan Saxenian, Class of 2022.\n        </p>\n        <Button variant=\"outline-danger\" onClick={() => showApp()}>Start!</Button>\n      </div>\n    </Fade>\n  );\n}\n\nStartHere.propTypes = {\n  start: PropTypes.bool.isRequired,\n  showApp: PropTypes.func.isRequired,\n}\n","import Collapse from 'react-collapse';\nimport { presets } from 'react-motion';\nimport '../styles/MarzEg.css';\nimport PropTypes from 'prop-types';\n\nexport default function Collapsable({ children }) {\n  return (\n    <div>\n      <Collapse\n        style={{\n          margin: 'auto',\n          width: '100%',\n          textAlign: 'center',\n          backgroundColor: 'rgba(255,255,255,0.4)',\n          marginBottom: '1em'\n        }}\n        isOpened\n        springConfig={{ ...presets.gentle }}\n      >\n        <div style={{ height: '100%', padding: '2em' }}>\n          <div style={{ padding: '2em' }}>\n            {children}\n          </div>\n        </div>\n      </Collapse>\n    </div>\n  );\n}\n\nCollapsable.propTypes = {\n  children: PropTypes.element.isRequired,\n}\n","import { useState, useEffect } from 'react';\nimport '../styles/dark-unica.css';\nimport Highcharts from 'highcharts';\nimport HighchartsReact from 'highcharts-react-official';\nimport PropTypes from 'prop-types';\nimport { highchartsSeriesType, stringOrNumberType } from '../lib/types';\n\nexport default function ScatterPlot({\n  series,\n  title,\n  xMin,\n  xMax,\n  yMin,\n  yMax,\n  xLabel,\n  yLabel,\n  animation,\n  zoom,\n  height,\n  xCategories,\n  yTickInterval,\n  allowDecimalsY,\n  tooltipFormat,\n}) {\n  const [chart, setChart] = useState({});\n\n  useEffect(() => {\n    const newChart = {\n      chart: {\n        type: 'scatter',\n        animation: !!animation,\n        height,\n        zoomType: zoom ? 'xy' : ''\n      },\n      legend: {\n        symbolHeight: 12,\n        symbolWidth: 12,\n        symbolRadius: 6\n      },\n      xAxis: {\n        min: xMin,\n        max: xMax,\n        title: {\n          enabled: true,\n          text: xLabel\n        },\n        startOnTick: true,\n        endOnTick: true,\n        categories: xCategories\n      },\n      title: {\n        text: title\n      },\n      yAxis: {\n        min: yMin,\n        max: yMax,\n        startOnTick: true,\n        endOnTick: true,\n        title: {\n          text: yLabel\n        },\n        tickInterval: yTickInterval,\n        allowDecimals: allowDecimalsY\n      },\n      series: series.map((seriesObject) => (\n        {\n          showInLegend: seriesObject.data.length > 0,\n          turboThreshold: 0,\n          tooltip: {\n            pointFormat: tooltipFormat || 'x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>'\n          },\n          ...seriesObject,\n          data: seriesObject.data.map(({ x, y }) => ({ x, y })), // don't want any other attributes\n        })\n      )\n    }\n    setChart(newChart);\n  }, [\n    series,\n    title,\n    xMin,\n    xMax,\n    yMin,\n    yMax,\n    xLabel,\n    yLabel,\n    animation,\n    zoom,\n    height,\n    xCategories,\n    yTickInterval,\n    allowDecimalsY,\n    tooltipFormat\n  ]);\n\n  return <HighchartsReact highcharts={Highcharts} options={chart}/>\n}\n\nScatterPlot.propTypes = {\n  series: highchartsSeriesType.isRequired,\n  title: PropTypes.string,\n  xMin: PropTypes.number,\n  xMax: PropTypes.number,\n  yMin: PropTypes.number,\n  yMax: PropTypes.number,\n  xLabel: PropTypes.string,\n  yLabel: PropTypes.string,\n  animation: PropTypes.bool,\n  zoom: PropTypes.bool,\n  height: stringOrNumberType,\n  xCategories: PropTypes.arrayOf(PropTypes.string),\n  yTickInterval: PropTypes.number,\n  allowDecimalsY: PropTypes.bool,\n  tooltipFormat: PropTypes.string\n}\n","import PropTypes from 'prop-types';\nimport { highchartsSeriesType } from '../lib/types';\nimport ScatterPlot from './ScatterPlot';\n\nexport default function DotPlot({ series, title, xMin, xMax, yMax, xLabel, yLabel, animation, zoom }) {\n  return (\n    <ScatterPlot\n      series={series}\n      title={title}\n      xMin={xMin}\n      xMax={xMax}\n      yMin={0}\n      yMax={yMax}\n      xLabel={xLabel}\n      yLabel={yLabel || 'Count'}\n      animation={animation}\n      zoom={zoom}\n      allowDecimalsY={false}\n      tooltipFormat={`${xLabel}: <b>{point.x}</b><br />`}\n    />\n  )\n}\n\nDotPlot.propTypes = {\n  series: highchartsSeriesType.isRequired,\n  title: PropTypes.string,\n  xMin: PropTypes.number,\n  xMax: PropTypes.number,\n  yMax: PropTypes.number,\n  xLabel: PropTypes.string,\n  yLabel: PropTypes.string,\n  animation: PropTypes.bool,\n  zoom: PropTypes.bool\n}\n","import { Table } from 'react-bootstrap';\nimport PropTypes from 'prop-types';\nimport _ from 'lodash';\n\nexport default function DataTable({ data, headers, height, setSelected, setRowColor }) {\n  const clickRow = (row) => {\n    if (setSelected) {\n      setSelected(row)\n    }\n  }\n\n  const determineRowColor = (object) => {\n    if (setRowColor) {\n      return setRowColor(object)\n    }\n    return undefined\n  }\n\n  const dataTable = data.map((object) => (\n    <tr\n      style={{ backgroundColor: determineRowColor(object) }}\n      key={object.id}\n      onClick={() => clickRow(object)}\n    >\n      {_.values(headers).map(\n        (name) => <td key={name}>{!isNaN(object[name]) ? _.round(object[name], 2) : object[name].toUpperCase()}</td>\n      )}\n    </tr>\n  ));\n\n  dataTable.reverse();\n\n  return (\n    <div className=\"data-table-container\" style={{height: `${height || 250}px`}}>\n      <Table hover={!!setSelected} striped className=\"data-table\" style={{cursor: setSelected ? 'pointer' : 'default'}}>\n        <thead>\n          <tr>\n            {_.keys(headers).map((name) => <th key={name}>{name}</th>)}\n          </tr>\n        </thead>\n        <tbody>\n          {dataTable}\n        </tbody>\n      </Table>\n    </div>\n  )\n}\n\nDataTable.propTypes = {\n  data: PropTypes.arrayOf(PropTypes.shape({id: PropTypes.number.isRequired})).isRequired,\n  headers: PropTypes.object.isRequired,\n  height: PropTypes.number,\n  setSelected: PropTypes.func,\n  setRowColor: PropTypes.func  // takes the current object as a parameter and returns a color or undefined\n}\n","import DotPlot from './DotPlot';\nimport { Alert, Container, Col, Row } from 'react-bootstrap';\nimport _ from 'lodash';\nimport PropTypes from 'prop-types';\nimport { dataObjectArrayType, popShapeType } from '../lib/types';\nimport { TEXTS, VALUES } from '../lib/constants';\nimport DataTable from './DataTable';\n\nexport default function ChartContainer({ popArray, popMean, sampled, sampleMean, popShape }) {\n  const { xmaxval, xminval, ymaxval, title, xLabel } = VALUES[popShape];\n\n  const series = [\n    {\n      name: 'Population Observations',\n      data: popArray\n    },\n    {\n      name: 'Sampled Observations',\n      data: sampled\n    },\n    {\n      type: 'line',\n      name: 'Sample Mean',\n      data: [{ x: sampleMean || 0, y: 0 }, { x: sampleMean || 0, y: ymaxval }],\n      color: 'red',\n      enableMouseTracking: false,\n      showInLegend: false,\n      visible: (sampleMean !== undefined) && (sampled.length > 0),\n      label: {\n        format: `<div>Sample Mean: ${sampleMean}</div>`\n      }\n    }\n  ];\n\n  return (\n    <div>\n      <Container fluid>\n        <Row>\n          <Alert variant=\"secondary\">\n            {(popShape !== 'Uniform') ? (\n              <p>\n                We queried the {TEXTS[popShape][0]} of {popArray.length} {TEXTS[popShape][1]} and plotted the results on the following chart.\n              </p>\n            ) : (\n              <p>\n                Behavioral economists studying loss aversion design a lottery among 2000 participants where each amount between -10 and +10 is equally likely.  We plotted the winnings and losses below.\n              </p>\n            )}\n          </Alert>\n        </Row>\n        <Row>\n          <Col lg={9} xs={12}>\n            <DotPlot\n              series={series}\n              title={`${title} <br /> Population Mean: ${_.round(popMean, 2)}`}\n              xMin={xminval}\n              xMax={xmaxval}\n              yMax={ymaxval}\n              xLabel={xLabel}\n              animation={false}\n            />\n          </Col>\n          <Col style={{width: 'fit-content', margin: 'auto'}}>\n            <DataTable\n              data={popArray}\n              headers={{\n                [VALUES[popShape].tableCol]: 'id',\n                [VALUES[popShape].xLabel]: 'x'\n              }}\n              height={350}\n              setRowColor={(object) => sampled.map((obj) => obj.id).includes(object.id) ? '#747EF2' : undefined}\n            />\n            <br/>\n          </Col>\n        </Row>\n      </Container>\n    </div>\n  );\n}\n\nChartContainer.propTypes = {\n  popArray: dataObjectArrayType.isRequired,\n  popMean: PropTypes.number.isRequired,\n  sampled: dataObjectArrayType.isRequired,\n  sampleMean: PropTypes.number,\n  popShape: popShapeType.isRequired,\n}\n","import { useEffect, useState } from 'react';\nimport { Button, Form, InputGroup } from 'react-bootstrap';\nimport PropTypes from 'prop-types'\n\nexport default function SampleSizeInput({ maxSize, minSize, handleClick }) {\n  const [sampleSize, setSampleSize] = useState('');\n\n  useEffect(() => {\n    setSampleSize('')\n  }, [maxSize]);\n\n  return (\n    <InputGroup className=\"sample-size-input\">\n      <Form.Control\n        align=\"right\"\n        type=\"number\"\n        placeholder=\"Sample Size:\"\n        min={minSize}\n        value={sampleSize}\n        max={maxSize}\n        onChange={(event) => setSampleSize(event.target.value)}\n      />\n      <Button\n        variant=\"secondary\"\n        disabled={!sampleSize || sampleSize > maxSize || sampleSize < minSize} onClick={() => handleClick(+sampleSize, 1, false)}\n      >\n        Sample\n      </Button>\n    </InputGroup>\n  );\n}\n\nSampleSizeInput.propTypes = {\n  maxSize: PropTypes.number.isRequired,\n  minSize: PropTypes.number.isRequired,\n  handleClick: PropTypes.func.isRequired,\n  classname: PropTypes.string\n}\n","import { mean, std, sqrt } from 'mathjs';\nimport PD from 'probability-distributions';\nimport _ from 'lodash';\nimport { jStat } from 'jstat';\nimport MultivariateNormal from 'multivariate-normal';\nimport regression from 'regression';\n\nexport const getCounts = (data) => {\n  const counts = [];\n  _.entries(_.countBy(data)).forEach(([amt, count]) => {\n    for (let i = 1; i <= count; i++) {\n      counts.push({ x: +amt, y: i })\n    }\n  });\n  return counts\n}\n\n// returns an array of values with a normal distribution\nexport const generateNormal = (sampleSize, mean, standardDev, precision = 5) => {\n  return PD.rnorm(sampleSize, mean, standardDev).map((num) => _.round(num, precision))\n}\n\n// returns an array of values with a uniform distribution\nexport const generateUniform = (sampleSize, low, hi, precision = 5) => {\n  return PD.runif(sampleSize, low, hi).map((num) => _.round(num, precision))\n}\n\n// returns an array of values with an exponential distribution\nexport const generateExponential = (sampleSize, lambda, precision = 5) => {\n  return PD.rexp(sampleSize, lambda).map((num) => _.round(num, precision))\n}\n\n// returns an array of values with a chi-squared distribution\nexport const generateChiSquared = (sampleSize, degreesOfFreedom, precision = 5) => {\n  return PD.rchisq(sampleSize, degreesOfFreedom).map((num) => _.round(num, precision))\n}\n\n// returns an array of values with a 'mystery' distribution (really points sampled randomly from two normal distributions)\nexport const generateMystery = (sampleSize, mysteryMean1, mysteryMean2, mysterySD1, mysterySD2, precision = 5) => {\n  const normal1 = PD.rnorm(sampleSize, mysteryMean1, mysterySD1).map((num) => _.round(num, precision));\n  const normal2 = PD.rnorm(sampleSize, mysteryMean2, mysterySD2).map((num) => _.round(num, precision));\n  return _.sampleSize([...normal1, ...normal2], 2000);\n}\n\n// returns the data set from the function corresponding with distType\n// objects in array are of shape {x, y, id}\nexport const dataFromDistribution = (\n  distType,\n  sampleSize,\n  {\n    mean = 64,\n    standardDev = 3,\n    low = -10,\n    hi = 10,\n    lambda = 1 / 64,\n    degreesOfFreedom = 8,\n    mysteryMean1 = 58,\n    mysteryMean2 = 70,\n    mysterySD1 = 1,\n    mysterySD2 = 3,\n    precision = 1\n  } = {}\n) => {\n  const getDistributionFunction = {\n    Normal: () => generateNormal(sampleSize, mean, standardDev, precision),\n    Uniform: () => generateUniform(sampleSize, low, hi, precision),\n    Exponential: () => generateExponential(sampleSize, lambda, precision),\n    'Chi-Squared': () => generateChiSquared(sampleSize, degreesOfFreedom, precision),\n    Mystery: () => generateMystery(sampleSize, mysteryMean1, mysteryMean2, mysterySD1, mysterySD2, precision)\n  }\n\n  const population = getDistributionFunction[distType]();\n\n  return _.shuffle(getCounts(population)).map((obj, index) => ({ ...obj, id: index + 1 }));\n}\n\n// returns the mean of popArray\nexport const populationMean = (popArray, attr = 'x') => {\n  return (popArray.length > 0) ? mean(popArray.map((p) => p[attr])) : undefined\n}\n\n// returns the std of popArray\nexport const populationStandardDev = (popArray, attr = 'x') => {\n  return (popArray.length > 0) ? std(popArray.map((p) => p[attr])) : undefined\n}\n\nexport const calculateOneSampleTestStatistic = (distType, sampleMean, mu0, standardDev, sampleSize) => ((distType === 'Z')\n  ? jStat.zscore(sampleMean, mu0, standardDev / sqrt(sampleSize))\n  : jStat.tscore(sampleMean, mu0, standardDev, sampleSize))\n\nexport const calculateTwoSampleTestStatistic = (\n  sampleMean1,\n  sampleMean2,\n  standardDev1,\n  standardDev2,\n  sampleSize1,\n  sampleSize2\n) => (sampleMean1 - sampleMean2) / sqrt(standardDev1 ** 2 / sampleSize1 + standardDev2 ** 2 / sampleSize2);\n\nexport const calculatePValue = (distType, testStat, equality, sampleSize, sides) => {\n  const pval = (distType === 'Z') ? jStat.ztest(testStat, sides) : jStat.ttest(testStat, sampleSize - 1, sides)\n  if (((equality === '>') && (testStat < 0)) || ((equality === '<') && (testStat >= 0))) {\n    return 1 - pval\n  } else {\n    return pval\n  }\n}\n\nexport const generateScatter = (size, meanX, meanY, stdX, stdY, corr) => {\n  const covarianceMatrix = [\n    [stdX * stdX, corr * stdX * stdY],\n    [corr * stdX * stdY, stdY * stdY]\n  ];\n  const distribution = MultivariateNormal([meanX, meanY], covarianceMatrix);\n  return PD.rnorm(size, 0, 5).map((epsilon) => {\n    const [x, y] = distribution.sample();\n    const scorePoint = 40 + 3 * x + 2.5 * y + epsilon;\n    return ({\n      x: _.clamp(_.round(x, 2), 0, 15),\n      y: _.clamp(_.round(scorePoint, 2), 0, 100)\n    });\n  });\n}\n\nexport const generateBinary = (size, mean1, mean2, std1, std2, precision = 2) => {\n  const control = generateNormal(size, mean1, std1, precision).map((num) => ({ x: 0, y: num, category: 'Control' }));\n  const jobCorps = generateNormal(size, mean2, std2, precision).map((num) => ({ x: 1, y: num, category: 'Job Corps' }));\n  return [...control, ...jobCorps].map((obj, id) => ({ ...obj, id }));\n}\n\nexport const convertToStandardNormal = (array, popMean, popSD, attr) => {\n  return array.map((p) => ({...p, [attr]: (p[attr] - popMean) / (popSD || 1)}));\n}\n\n// can take either an array of arrays or an array of objects\n// objects must be of shape { x, y }\nexport const linearRegression = (data, precision = 2) => {\n  let parsedData;\n  if (data.every((elem) => _.isArray(elem))) {\n    parsedData = data;\n  } else if (data.every((elem) => _.isObject(elem))) {\n    parsedData = data.map(({ x, y }) => [x, y]);\n  } else {\n    throw new Error();\n  }\n  const { equation } = regression.linear(parsedData, { precision });\n  return { slope: equation[0], intercept: equation[1] }\n}\n","import { useEffect, useRef, useState } from 'react';\nimport Highcharts from 'highcharts';\nimport HighchartsReact from 'highcharts-react-official';\nimport { Card, Button } from 'react-bootstrap';\nimport PropTypes from 'prop-types';\nimport { dataObjectArrayType, optionalLaTeXType } from '../lib/types.js';\n\nexport default function SimulateSamples({ title, mathTitle, popArray, sampleSeriesName, popValSeriesName, yLabel, sampleFn, yFn }) {\n  const [sampled, setSampled] = useState([]);\n  const [meanLine, setMeanLine] = useState([]);\n  const [start, setStart] = useState(false);\n  const [chart, setChart] = useState({\n    chart: {\n      type: 'line',\n      animation: false\n    },\n    plotOptions: {\n      series: {\n        states: {\n          hover: {\n            enabled: false\n          }\n        }\n      }\n    },\n    title: {\n      text: title || ''\n    },\n    xAxis: {\n      title: {\n        text: 'Sample Size'\n      },\n      min: 0\n    },\n    yAxis: {\n      title: {\n        text: yLabel\n      }\n    },\n    tooltip: {\n      enabled: false\n    }\n  });\n\n  const timer = useRef();\n\n  useEffect(() => {\n    setSampled([]);\n    setMeanLine([]);\n    setStart(false);\n    clearInterval(timer.current);\n  }, [mathTitle]);\n\n  useEffect(() => {\n    const newChart = {\n      series: [\n        {\n          name: popValSeriesName,\n          data: meanLine,\n          label: {\n            enabled: false\n          },\n          marker: {\n            enabled: false\n          },\n          color: 'red'\n        },\n        {\n          name: sampleSeriesName,\n          data: sampled,\n          label: {\n            enabled: false\n          },\n          marker: {\n            enabled: false\n          },\n          color: 'black'\n        }\n      ]\n    }\n\n    setChart(newChart);\n  }, [sampled, meanLine, popValSeriesName, sampleSeriesName]);\n\n  useEffect(() => {\n    return () => clearInterval(timer.current);\n  }, []);\n\n  const startSim = () => {\n    setSampled([]);\n    setMeanLine([]);\n    const simSpeeds = (iteration) => {\n      if (iteration < 200) {\n        return 1\n      } else if (iteration < 500) {\n        return 2\n      } else if (iteration < 1000) {\n        return 4\n      } else {\n        return 8\n      }\n    }\n    let n = 0;\n    timer.current = setInterval(() => {\n      const newSamples = [];\n      for (let i = 0; i < simSpeeds(n); i++) {\n        n += 1;\n        if (n >= 2000) {\n          clearInterval(timer.current);\n          setStart(false);\n          break;\n        }\n        const sample = sampleFn(popArray, n);\n        newSamples.push({ x: n, y: yFn(sample) });\n      }\n      setSampled((currSampled) => [...currSampled, ...newSamples]);\n      setMeanLine((currMeanLine) => [...currMeanLine, { x: n, y: yFn(popArray) }]);\n    }, n);\n  }\n\n  const toggleSim = () => {\n    if (!start) {\n      startSim()\n    } else {\n      clearInterval(timer.current)\n    }\n    setStart(!start)\n  }\n\n  return (\n    <Card body>\n      {mathTitle && mathTitle}\n      <HighchartsReact highcharts={Highcharts} options={chart}/>\n      <Button\n        variant={`outline-${start ? 'danger' : 'success'}`}\n        onClick={() => toggleSim()}\n      >\n        {start ? 'Stop' : 'Start'} Simulation\n      </Button>\n    </Card>\n  );\n}\n\nSimulateSamples.propTypes = {\n  title: PropTypes.string,\n  mathTitle: optionalLaTeXType,\n  popArray: dataObjectArrayType.isRequired,\n  sampleSeriesName: PropTypes.string.isRequired,\n  popValSeriesName: PropTypes.string.isRequired,\n  yLabel: PropTypes.string.isRequired,\n  sampleFn: PropTypes.func.isRequired,\n  yFn: PropTypes.func.isRequired\n}\n","import { useEffect, useState } from 'react';\nimport Collapsable from '../Collapsable.js';\nimport ChartContainer from '../ChartContainer.js';\nimport SampleSizeInput from '../SampleSizeInput.js';\nimport { Alert } from 'react-bootstrap';\nimport { populationMean, dataFromDistribution } from '../../lib/stats-utils.js';\nimport _ from 'lodash';\nimport PropTypes from 'prop-types';\nimport { popShapeType } from '../../lib/types.js';\nimport SimulateSamples from '../SimulateSamples.js';\n\nexport default function LawOfLargeNumbers({ popShape, sampleSize }) {\n  const [sampled, setSampled] = useState([]);\n  const [stage, setStage] = useState(1);\n  const [popArray, setPopArray] = useState([]);\n\n  useEffect(() => {\n    setStage(1);\n    const newPop = dataFromDistribution(popShape, sampleSize);\n    setPopArray(newPop);\n    setSampled([]);\n  }, [popShape, sampleSize]);\n\n  const handleClick = (size) => {\n    const sample = _.sampleSize(popArray, size);\n    setSampled(sample);\n    setStage(2);\n  }\n\n  const popMean = populationMean(popArray) || 0;\n  const sampleMean = _.round(populationMean(sampled), 2) || 0;\n\n  return (\n    <Collapsable>\n      <div data-testid=\"lln-sim\">\n        <ChartContainer popArray={popArray} popMean={popMean} sampled={sampled} sampleMean={sampleMean} popShape={popShape}/>\n        <p>Try a few different sample sizes and compare sample mean to population mean</p>\n        <SampleSizeInput maxSize={popArray.length} minSize={1} handleClick={handleClick} classname=\"sample-size-input\"/>\n        {(stage >= 2) && (\n          <div>\n            <Alert variant=\"success\">\n              Sample Mean: {_.round(sampleMean, 2) || ''}\n              <br/>\n              Difference of Means: {_.round(popMean - sampleMean, 2)}\n            </Alert>\n            <Alert variant=\"info\">\n              According to the law, the average of the results obtained from a large enough sample should be close to the total average of the population, and will tend to become closer the larger the sample is. Make sure to pick several samples, or see below for a simulation to see the law in action.\n            </Alert>\n            <SimulateSamples\n              title={`Population vs Sample Means <br /> (${popShape})`}\n              popArray={popArray}\n              popValue={_.round(popMean, 2)}\n              popValSeriesName={`Population Mean (${popMean.toFixed(2)})`}\n              sampleSeriesName=\"Sampled Means\"\n              yLabel=\"Mean\"\n              sampleFn={_.sampleSize}\n              yFn={(sample) => _.round(populationMean(sample), 2)}\n            />\n          </div>\n        )}\n      </div>\n    </Collapsable>\n  );\n}\n\nLawOfLargeNumbers.propTypes = {\n  popShape: popShapeType.isRequired,\n  sampleSize: PropTypes.number.isRequired,\n}\n","import { Alert } from 'react-bootstrap';\nimport PropTypes from 'prop-types';\nimport { optionalLaTeXType } from '../lib/types';\n\nexport default function SimulationIntro({ name, text }) {\n  return (\n    <Alert className=\"sim-description\" variant=\"primary\">\n      <Alert.Heading>{name}</Alert.Heading>\n      <hr/>\n      {text}\n    </Alert>\n  )\n}\n\nSimulationIntro.propTypes = {\n  name: PropTypes.string.isRequired,\n  text: optionalLaTeXType.isRequired\n}\n","import { ButtonGroup, Button } from 'react-bootstrap';\nimport PropTypes from 'prop-types';\nimport { optionalLaTeXType } from '../lib/types';\n\nexport default function SelectorButtonGroup({ options, select, selected }) {\n  const buttons = options.map((option) => (\n    <Button\n      variant={(selected === option) ? 'selected' : 'unselected'}\n      onClick={() => select(option)}\n      key={`${option}`}\n    >\n      {option}\n    </Button>\n  ));\n\n  return (\n    <ButtonGroup>\n      {buttons}\n    </ButtonGroup>\n  )\n}\n\nSelectorButtonGroup.propTypes = {\n  options: PropTypes.arrayOf(optionalLaTeXType).isRequired,\n  select: PropTypes.func.isRequired,\n  selected: optionalLaTeXType\n}\n","import { useState } from 'react';\nimport LawOfLargeNumbers from './LawOfLargeNumbers.js';\nimport { SAMPLE_SIZE } from '../../lib/constants.js';\nimport SimulationIntro from '../SimulationIntro.js';\nimport { InlineMath } from 'react-katex';\nimport SelectorButtonGroup from '../SelectorButtonGroup.js';\n\nexport default function LawOfLargeNumbersContainer() {\n  const [popShape, setPopType] = useState('');\n\n  return (\n    <div className=\"module-container\">\n      <SimulationIntro\n        name=\"Law of Large Numbers\"\n        text={<>The Law of Large Numbers (LLN) is a statement about the relationship between a population and a random sample drawn from that population. Let <InlineMath math=\"\\mu\"/> denote the true mean of a variable when calculated using the entire population, let <InlineMath math=\"\\sigma\"/> denote the true standard deviation of that variable when calculated using the entire population, let <InlineMath math=\"\\bar{x}\"/> denote the mean calculated from a sample drawn from that population, and let <InlineMath math=\"s\"/> denote the standard deviation calculated from that sample. We would like to use information from the sample to make conclusions about the population. The LLN is helpful in this endeavor, because it states that as the sample size gets larger, the sample mean approaches the true population mean. This simulation’s goal is to demonstrate this handy property.</>}\n      />\n      <br/>\n      <p>Pick a Population Distribution:</p>\n      <SelectorButtonGroup\n        options={['Normal', 'Uniform', 'Exponential', 'Chi-Squared']}\n        select={setPopType}\n        selected={popShape}\n      />\n      <br/>\n      <br/>\n      {popShape && <LawOfLargeNumbers popShape={popShape} sampleSize={SAMPLE_SIZE}/>}\n    </div>\n  );\n}\n","import { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport DotPlot from '../DotPlot.js';\nimport { VALUES } from '../../lib/constants.js';\nimport { max, min, sqrt } from 'mathjs';\nimport { popShapeType, sampleMeanArrayType } from '../../lib/types.js';\nimport _ from 'lodash';\nimport { Form } from 'react-bootstrap';\nimport { getCounts } from '../../lib/stats-utils.js';\n\nexport default function SampleMeanChart({ sampleMeans, popMean, sd, popShape }) {\n  const [normalized, setNormalized] = useState(false);\n\n  const newSampleMeans = normalized\n    ? sampleMeans.map(({ size, mean }) => _.round((mean - popMean) / (sd / sqrt(size)), 2))\n    : sampleMeans.map(({ mean }) => _.round(mean, 2));\n\n  const sampleMeansPoints = getCounts(newSampleMeans);\n\n  // these lists are used to determine axis sizing as more samples are added to the plot\n  const onlyValues = sampleMeansPoints.map((obj) => obj.x);\n  const onlyCounts = sampleMeansPoints.map((obj) => obj.y);\n\n  return (\n    <div>\n      <DotPlot\n        series={[{ name: 'Sample Means', data: sampleMeansPoints }]}\n        title=\"Sample Mean Distribution\"\n        xMin={normalized ? min(-3, ...onlyValues) : VALUES[popShape].xminval}\n        xMax={normalized ? max(3, ...onlyValues) : VALUES[popShape].xmaxval}\n        yMax={max(8, ...onlyCounts)}\n        xLabel={normalized ? 'Standard Deviations' : VALUES[popShape].xLabel}\n        yLabel=\"Observations of Sample Mean\"\n      />\n      <Form.Check\n        checked={normalized}\n        inline\n        className=\"form-switch\"\n        label=\"Convert to Standard Normal\"\n        onChange={() => setNormalized(!normalized)}\n      />\n    </div>\n  )\n}\n\nSampleMeanChart.propTypes = {\n  sampleMeans: sampleMeanArrayType.isRequired,\n  popMean: PropTypes.number,\n  sd: PropTypes.number,\n  popShape: popShapeType.isRequired\n}\n","import { useState } from 'react';\nimport { Button, Form } from 'react-bootstrap';\nimport _ from 'lodash';\nimport PropTypes from 'prop-types';\nimport { dataObjectArrayType } from '../../lib/types.js';\nimport { populationMean } from '../../lib/stats-utils.js';\n\nexport default function SampleMeansSimulator({ population, addSamples }) {\n  const [numberResamples, setNumberResamples] = useState(0);\n  const [resampleSize, setResampleSize] = useState(0);\n\n  const resample = () => {\n    const samplePop = _.sampleSize(population, resampleSize);\n    const sampleMean = populationMean(samplePop);\n    return { size: +resampleSize, mean: sampleMean };\n  }\n\n  const runSim = () => {\n    const newSamples = [];\n    for (let i = 0; i < numberResamples; i++) {\n      newSamples.push(resample())\n    }\n    addSamples(newSamples);\n  }\n\n  return (\n    <div>\n      <span> Sample Size: </span>\n      <Form.Control\n        style={{ width: '40%', margin: 'auto' }}\n        min={1}\n        type=\"number\"\n        placeholder=\"Sample Size:\"\n        onChange={(event) => setResampleSize(event.target.value)}\n        value={resampleSize}\n      />\n      <br/>\n      <span> Number of Replications: </span>\n      <Form.Control\n        style={{ width: '40%', margin: 'auto' }}\n        min={1}\n        type=\"number\"\n        placeholder=\"Number of Replications:\"\n        onChange={(event) => setNumberResamples(event.target.value)}\n        value={numberResamples}\n      />\n      <br/>\n      <Button\n        variant=\"secondary\"\n        onClick={() => runSim()} disabled={(resampleSize < 1) || (resampleSize > population.length) || (numberResamples < 1)}\n      >\n        Run\n      </Button>\n      <Button variant=\"secondary\" onClick={() => addSamples()}>Clear</Button>\n    </div>\n  );\n}\n\nSampleMeansSimulator.propTypes = {\n  population: dataObjectArrayType.isRequired,\n  addSamples: PropTypes.func.isRequired,\n}\n","import { useState, useEffect } from 'react';\nimport Collapsable from '../Collapsable.js';\nimport ChartContainer from '../ChartContainer.js';\nimport SampleMeanChart from './SampleMeanChart.js'\nimport SampleMeansSimulator from './SampleMeansSimulator.js'\nimport { Alert, Button, Col, Row } from 'react-bootstrap';\nimport { populationMean, dataFromDistribution, populationStandardDev } from '../../lib/stats-utils.js';\nimport SampleSizeInput from '../SampleSizeInput.js';\nimport _ from 'lodash';\nimport PropTypes from 'prop-types';\nimport { popShapeType } from '../../lib/types.js';\nimport DataTable from '../DataTable.js';\n\nexport default function CentralLimitTheorem({ popShape, mainSampleSize }) {\n  const [sampleMeans, setSampleMeans] = useState([]);\n  const [sampled, setSampled] = useState([]);\n  const [stage, setStage] = useState(1);\n  const [popArray, setPopArray] = useState([]);\n\n  useEffect(() => {\n    setStage(1);\n    const newPop = dataFromDistribution(popShape, mainSampleSize);\n    setPopArray(newPop);\n    setSampled([]);\n    setSampleMeans([]);\n  }, [popShape, mainSampleSize]);\n\n  const addSampleMeans = (means) => {\n    if (!means) { // calling addSampleMeans with no arguments clears the data\n      setSampleMeans([])\n    } else {\n      const newSampleMeans = means.map((mean, index) => ({ ...mean, id: index + 1 }));\n      setSampleMeans(newSampleMeans);\n    }\n  }\n\n  const handleClick = (size) => {\n    const sample = _.sampleSize(popArray, size);\n    setSampled(sample);\n    const newMeans = [...sampleMeans, { size, mean: populationMean(sample) }];\n    setSampleMeans(newMeans.map((mean, index) => ({ ...mean, id: index + 1 })));\n  }\n\n  const popMean = populationMean(popArray) || 0;\n\n  return (\n    <Collapsable>\n      <div>\n        <ChartContainer popArray={popArray} popMean={popMean} sampled={sampled} popShape={popShape}/>\n        <Button variant=\"success\" onClick={() => setStage(2)}>Continue</Button>\n        {(stage >= 2) && (\n          <div>\n            <Row>\n              <p style={{ margin: 15 }}>Try drawing some samples and calculating means</p>\n              <SampleSizeInput maxSize={popArray.length} minSize={1} handleClick={handleClick} classname=\"sample-size-input\"/>\n            </Row>\n            <Row>\n              <Col lg=\"8\">\n                <SampleMeanChart\n                  sampleMeans={sampleMeans}\n                  popMean={popMean}\n                  sd={populationStandardDev(popArray)}\n                  popShape={popShape}\n                />\n              </Col>\n              <Col lg=\"4\">\n                <DataTable\n                  data={sampleMeans}\n                  headers={{\n                    'Sample': 'id',\n                    'Size': 'size',\n                    'Mean': 'mean'\n                  }}\n                />\n              </Col>\n            </Row>\n            <Row>\n              <div>\n                <br/>\n                <Alert variant=\"primary\" style={{ width: '50%', margin: 'auto' }}>\n                  Simulate drawing many many samples\n                </Alert>\n                <br/>\n                <SampleMeansSimulator\n                  population={popArray}\n                  addSamples={addSampleMeans}\n                />\n              </div>\n            </Row>\n          </div>\n        )}\n\n      </div>\n    </Collapsable>\n  );\n}\n\nCentralLimitTheorem.propTypes = {\n  popShape: popShapeType.isRequired,\n  mainSampleSize: PropTypes.number.isRequired,\n}\n","import { useState } from 'react';\nimport CentralLimitTheorem from './CentralLimitTheorem.js';\nimport SimulationIntro from '../SimulationIntro.js';\nimport { InlineMath } from 'react-katex';\nimport SelectorButtonGroup from '../SelectorButtonGroup.js';\n\nconst SAMPLE_SIZE = 2000;\n\nexport default function CentralLimitTheoremContainer() {\n  const [popShape, setPopType] = useState('');\n\n  return (\n    <div className=\"module-container\">\n      <SimulationIntro\n        name=\"Central Limit Theorem\"\n        text={<>This simulation demonstrates the shape of the sampling distribution of the sample mean. Suppose I draw a large number of samples, each of size <InlineMath math=\"n\"/>, from some population. For each sample, I calculate a sample mean <InlineMath math=\"\\bar{x}\"/>. I now plot a histogram of those sample means. For a sufficiently large sample size, the shape of that histogram will look like a beautiful bell-shaped curve, no matter what shape the underlying population had.</>}\n      />\n      <br/>\n      <p>Pick a Population Distribution:</p>\n      <SelectorButtonGroup\n        options={['Normal', 'Uniform', 'Exponential', 'Chi-Squared', 'Mystery']}\n        select={setPopType}\n        selected={popShape}\n      />\n      <br/>\n      <br/>\n      {popShape && <CentralLimitTheorem popShape={popShape} mainSampleSize={SAMPLE_SIZE}/>}\n    </div>\n  );\n}\n","import { Form, InputGroup, } from 'react-bootstrap';\nimport PropTypes from 'prop-types';\nimport { stringOrNumberType } from '../../lib/types.js';\n\nexport default function MeanSDInput({ title, mean, setMean, sd, setSD }) {\n  return (\n    <div>\n      <p> Choose the Mean and Standard Deviation for {title} Height </p>\n      <InputGroup>\n        <InputGroup.Text>{title} Height Mean:</InputGroup.Text>\n        <Form.Control type=\"number\" min={60} max={80} step={1} value={mean} onChange={(event) => setMean(event.target.value)}/>\n      </InputGroup>\n      <br/>\n      <InputGroup>\n        <InputGroup.Text>{title} Height SD:</InputGroup.Text>\n        <Form.Control\n          type=\"number\"\n          min={1}\n          max={7}\n          value={sd}\n          onChange={(event) => setSD(event.target.value)}\n          aria-label={`${title}-SD`}\n        />\n      </InputGroup>\n    </div>\n  );\n}\n\nMeanSDInput.propTypes = {\n  title: PropTypes.string.isRequired,\n  mean: stringOrNumberType.isRequired,\n  setMean: PropTypes.func.isRequired,\n  sd: stringOrNumberType.isRequired,\n  setSD: PropTypes.func.isRequired,\n}\n","import { ResponsiveScatterPlot } from '@nivo/scatterplot';\nimport PropTypes from 'prop-types';\nimport { dataObjectArrayType } from '../../lib/types.js';\n\nexport default function JointChart({ jointData, sharedOptions, nodeId }) {\n  return (\n    <div style={{ height: 368, width: 366, position: 'inline-block', float: 'right', marginLeft: '0px', }} aria-label=\"plot\">\n      <ResponsiveScatterPlot\n        {...sharedOptions}\n        colors={(node) => ((nodeId && (node.id === nodeId)) ? '#0053a1' : '#00b3ff')}\n        data={[{ id: 'data', data: jointData }]}\n        yScale={{ type: 'linear', min: 40, max: 100 }}\n        yFormat={(e) => `${e} in.`}\n        tooltip={({ node }) => (\n          <div>\n            Parent Height: <strong>{node.data.formattedX}</strong>\n            <br/>\n            Child Height: <strong>{node.data.formattedY}</strong>\n          </div>\n        )}\n        axisBottom={{\n          tickSize: 10,\n          legendPosition: 'middle',\n          legendOffset: 46,\n          legend: 'Parent Height (inches)'\n        }}\n        axisLeft={{\n          tickSize: 10,\n          legendPosition: 'middle',\n          legendOffset: -38,\n          legend: 'Child Height (inches)'\n        }}\n      />\n    </div>\n  );\n}\n\nJointChart.propTypes = {\n  jointData: dataObjectArrayType.isRequired,\n  sharedOptions: PropTypes.objectOf(PropTypes.any).isRequired,\n  nodeId: PropTypes.string,\n}\n","import { useState, useCallback, useMemo } from 'react';\nimport { Row, Col } from 'react-bootstrap';\nimport JointChart from './JointChart.js';\nimport { ResponsiveScatterPlotCanvas } from '@nivo/scatterplot';\nimport { dataObjectArrayType } from '../../lib/types.js';\n\nexport default function JDCharts({ parentData, childData, jointData }) {\n  // these functions synchronize the plots - all three corresponding data points increase in size on mouse over\n  const [nodeId, setNodeId] = useState();\n  const handleMouseMove = useCallback((node) => setNodeId(node.id), [setNodeId]);\n  const handleMouseLeave = useCallback(() => setNodeId(), [setNodeId]);\n  const getNodeSize = useMemo(() => (node) => ((nodeId && (nodeId === node.id)) ? 15 : 5), [nodeId]);\n\n  // options common to all three plots\n  const sharedOptions = {\n    animate: false,\n    margin: { top: 60, right: 10, bottom: 70, left: 70 },\n    xScale: { type: 'linear', min: 40, max: 100 },\n    blendMode: 'darken',\n    xFormat: (e) => `${e} in.`,\n    nodeSize: getNodeSize,\n    enableGridX: false,\n    enableGridY: false,\n    onMouseMove: handleMouseMove,\n    onMouseLeave: handleMouseLeave,\n    axisBottom: {\n      tickSize: 10,\n      legendPosition: 'middle',\n      legendOffset: 46\n    },\n    axisLeft: {\n      tickSize: 10,\n      legendPosition: 'middle',\n      legendOffset: -30\n    }\n  }\n\n  return (\n    <Row>\n      <Col style={{ padding: '5px 0px 5px 0px', marginRight: '0px', marginLeft: '-60px' }}>\n        <div style={{ height: 368, width: 366, float: 'left', position: 'inline-block', }} aria-label=\"plot\">\n          <ResponsiveScatterPlotCanvas\n            data={[{ id: 'data', data: parentData }]}\n            tooltip={({ node }) => <div><strong>{node.data.formattedX}</strong></div>}\n            colors={(node) => ((node.id === nodeId) ? '#910000' : '#ff0000')}\n            {...sharedOptions}\n            yScale={{ type: 'linear', min: 0, max: 8 }}\n            axisBottom={{ ...sharedOptions.axisBottom, legend: 'Parent Height (inches)' }}\n            axisLeft={{ ...sharedOptions.axisLeft, legend: 'Count' }}\n          />\n        </div>\n      </Col>\n      <Col style={{ padding: '5px 0px 5px 0px', marginLeft: '-55px', marginRight: '0px', width: 'fit-content' }}>\n        <div style={{ height: 368, width: 366, float: 'left', position: 'inline-block', marginLeft: '0px', }} aria-label=\"plot\">\n          <ResponsiveScatterPlotCanvas\n            data={[{ id: 'data', data: childData }]}\n            tooltip={({ node }) => <div><strong>{node.data.formattedX}</strong></div>}\n            colors={(node) => ((node.id === nodeId) ? '#006607' : '#00ba0c')}\n            {...sharedOptions}\n            yScale={{ type: 'linear', min: 0, max: 8 }}\n            axisBottom={{ ...sharedOptions.axisBottom, legend: 'Child Height (inches)' }}\n            axisLeft={{ ...sharedOptions.axisLeft, legend: 'Count' }}\n          />\n        </div>\n      </Col>\n      <Col style={{ padding: '5px 0px 5px 0px', marginLeft: '-50px', marginRight: '0px', width: 'fit-content' }}>\n        <JointChart\n          jointData={jointData}\n          sharedOptions={sharedOptions}\n          nodeId={nodeId}\n        />\n      </Col>\n    </Row>\n  )\n}\n\nJDCharts.propTypes = {\n  parentData: dataObjectArrayType.isRequired,\n  childData: dataObjectArrayType.isRequired,\n  jointData: dataObjectArrayType.isRequired,\n}\n","import { Form, InputGroup } from 'react-bootstrap';\nimport PropTypes from 'prop-types';\nimport { stringOrNumberType } from '../lib/types';\n\nexport default function InputSlider({ value, min, max, step, onChange }) {\n  return (\n    <InputGroup className=\"input-slider-group\">\n      <Form.Control\n        type=\"range\"\n        custom\n        className=\"form-range custom-range\"\n        value={value}\n        min={min}\n        max={max}\n        step={step}\n        onChange={(event) => onChange(event.target.value)}\n      />\n      <Form.Control\n        type=\"number\"\n        className=\"input-group-append\"\n        value={value}\n        min={min}\n        max={max}\n        step={step}\n        onChange={(event) => onChange(event.target.value)}\n      />\n    </InputGroup>\n  );\n}\n\nInputSlider.propTypes = {\n  value: stringOrNumberType.isRequired,\n  min: PropTypes.number.isRequired,\n  max: PropTypes.number.isRequired,\n  step: PropTypes.number.isRequired,\n  onChange: PropTypes.func.isRequired,\n}\n","import { useEffect, useState } from 'react';\nimport MultivariateNormal from 'multivariate-normal';\nimport { Container, Row, Col, Button, InputGroup } from 'react-bootstrap';\nimport MeanSDInput from './MeanSDInput';\nimport JDCharts from './JDCharts';\nimport _ from 'lodash';\nimport InputSlider from '../InputSlider';\nimport { abs } from 'mathjs';\n\nexport default function JointDistributions() {\n  const [parentMean, setParentMean] = useState(70);\n  const [childMean, setChildMean] = useState(70);\n  const [parentSD, setParentSD] = useState(3);\n  const [childSD, setChildSD] = useState(3);\n  const [correlation, setCorrelation] = useState(0);\n  const [stage, setStage] = useState(1);\n  const [allData, setAllData] = useState({ parent: [], child: [], joint: [] });\n\n  useEffect(() => {\n    if ((allData.parent.length > 0) && (allData.child.length > 0) && (allData.joint.length > 0)) {\n      setStage(2)\n    }\n  }, [allData]);\n\n  // generate datapoints for parent height and child height in a normal distribution\n  const generate = () => {\n    const newCorrelation = ((abs(+correlation) === 1) ? (0.999999 * correlation) : correlation);\n    const covariance = newCorrelation * parentSD * childSD;\n    const covMatrix = [[parentSD ** 2, covariance], [covariance, childSD ** 2]];\n    const distribution = MultivariateNormal([+parentMean, +childMean], covMatrix);\n\n    const jointSeries = [];\n    for (let i = 0; i < 500; i++) {\n      const [parentHeight, childHeight] = distribution.sample();\n      jointSeries.push({ x: _.round(parentHeight, 2), y: _.round(childHeight, 2) });\n    }\n\n    const parentCounts = {};\n    const parentSeries = [];\n    const childCounts = {};\n    const childSeries = [];\n\n    jointSeries.forEach(({ x, y }) => {\n      if (parentCounts[x]) {\n        parentCounts[x] += 1\n      } else {\n        parentCounts[x] = 1\n      }\n      parentSeries.push({ x, y: parentCounts[x] });\n      if (childCounts[y]) {\n        childCounts[y] += 1\n      } else {\n        childCounts[y] = 1\n      }\n      childSeries.push({ x: y, y: childCounts[y] });\n    });\n\n    const data = { parent: parentSeries, child: childSeries, joint: jointSeries }\n    setAllData(data);\n  }\n\n  return (\n    <Container fluid>\n      <Row>\n        <Col xl={4} md={6} xs={12} style={{ padding: 10 }}>\n          <MeanSDInput title=\"Parent\" mean={parentMean} setMean={setParentMean} sd={parentSD} setSD={setParentSD}/>\n        </Col>\n        <Col xl={4} md={6} xs={12} style={{ padding: 10 }}>\n          <MeanSDInput title=\"Child\" mean={childMean} setMean={setChildMean} sd={childSD} setSD={setChildSD}/>\n        </Col>\n        <Col xl={4} md={12} style={{ padding: 10 }}>\n          <p>Set the Correlation</p>\n          <InputSlider value={correlation} min={-1} max={1} step={0.1} onChange={(value) => setCorrelation(value)}/>\n          <p style={{ margin: '15px' }}>Covariance</p>\n          <InputGroup.Text aria-label=\"covariance\">{(correlation * parentSD * childSD).toFixed(2)}</InputGroup.Text>\n        </Col>\n      </Row>\n      <Row>\n        <Button\n          variant=\"primary\"\n          style={{ width: 'fit-content', margin: 'auto' }}\n          disabled={!parentMean || !parentSD || !childMean || !childSD}\n          onClick={() => generate()}\n        >\n          Generate!\n        </Button>\n      </Row>\n      {(stage === 2) && <JDCharts parentData={allData.parent} childData={allData.child} jointData={allData.joint}/>}\n    </Container>\n  );\n}\n","import SimulationIntro from '../SimulationIntro.js';\nimport JointDistributions from './JointDistributions.js';\n\nexport default function JointDistributionsContainer() {\n  return (\n    <div className=\"module-container\">\n      <SimulationIntro\n        name=\"Joint Distributions\"\n        text=\"Covariance measures the extent to which two random variables move together, or “co-vary.” Correlation is an alternative measure of how two variables co-move that is scaled by the standard deviation of the variables and ranges between -1 and 1. The mean and variance of each individual random variable factor into the calculation of covariance (or correlation), but pairs of random variables with same underlying distributions could have very different correlations.\"\n      />\n      <br/>\n      <JointDistributions/>\n    </div>\n  );\n}\n","/*\n\n  Displays a slider for the user to choose a number of random points and a button to generate them\n\n*/\nimport { useState } from 'react';\nimport { Button, Form, InputGroup, } from 'react-bootstrap';\nimport PropTypes from 'prop-types';\n\nexport default function NewPointsInput({ generatePoints }) {\n  const [numPoints, setNumPoints] = useState(5);\n\n  return (\n    <InputGroup className=\"input-slider-group\">\n      <Form.Control\n        type=\"range\"\n        custom\n        className=\"form-range custom-range\"\n        data-testid=\"new-points-slider\"\n        style={{ width: '50%' }}\n        min={0}\n        max={10}\n        value={numPoints}\n        onChange={(event) => setNumPoints(event.target.value)}\n      />\n      <InputGroup.Text>{numPoints}</InputGroup.Text>\n      <Button variant=\"outline-primary\" onClick={() => generatePoints(numPoints)}>New Points</Button>\n    </InputGroup>\n  );\n}\n\nNewPointsInput.propTypes = {\n  generatePoints: PropTypes.func.isRequired,\n}\n","import { useEffect, useState } from 'react';\nimport Highcharts from 'highcharts';\nimport HighchartsReact from 'highcharts-react-official'\nimport { abs } from 'mathjs';\nimport PropTypes from 'prop-types';\nimport { dataObjectArrayType } from '../../lib/types.js'\nimport { Form } from 'react-bootstrap';\nrequire('highcharts/modules/annotations')(Highcharts);\n\nexport default function LeastSquaresChart({ points, addPoint, linePoints, setSquareAreas }) {\n  const [enableClick, setEnableClick] = useState(false);\n  const [myChart, setMyChart] = useState({\n    tooltip: {\n      headerFormat: '',\n      pointFormat: 'x: {point.x:.2f}<br/>y: {point.y:.2f}',\n    },\n    title: {\n      text: ''\n    },\n    xAxis: {\n      title: {\n        enabled: false\n      },\n      min: 0,\n      max: 20,\n      tickInterval: 2\n    },\n    yAxis: {\n      title: {\n        enabled: false\n      },\n      min: 0,\n      max: 20,\n      tickInterval: 2\n    },\n    legend: {\n      enabled: false\n    }\n  });\n\n  useEffect(() => {\n    // generate pairs for the corresponding points to create squares\n    const pairs = [];\n    linePoints.forEach((p1) => {\n      points.forEach((p2) => {\n        if (p1.x === p2.x) {\n          pairs.push({ p1, p2 })\n        }\n      });\n    });\n\n    const areas = pairs.map(({ p1, p2 }) => abs(p1.y - p2.y) ** 2);\n    setSquareAreas(areas);\n\n    // returns an array of points to create a square shape in highcharts\n    const buildSquare = (p1, p2) => {\n      const dist = abs(p1.y - p2.y);\n      const lowestPt = p1.y < p2.y ? p1 : p2;\n      return [{\n        x: lowestPt.x,\n        y: lowestPt.y,\n        xAxis: 0,\n        yAxis: 0\n      }, {\n        x: lowestPt.x + dist,\n        y: lowestPt.y,\n        xAxis: 0,\n        yAxis: 0\n      }, {\n        x: lowestPt.x + dist,\n        y: lowestPt.y + dist,\n        xAxis: 0,\n        yAxis: 0\n      }, {\n        x: lowestPt.x,\n        y: lowestPt.y + dist,\n        xAxis: 0,\n        yAxis: 0\n      }, {\n        x: lowestPt.x,\n        y: lowestPt.y,\n        xAxis: 0,\n        yAxis: 0\n      }];\n    }\n\n    // create the actual square objects for highcharts\n    const squares = pairs.map(({ p1, p2 }) => (\n      {\n        dashStyle: 'solid',\n        fill: 'rgba(255, 255, 255, 0)',\n        points: buildSquare(p1, p2),\n        type: 'path'\n      })\n    );\n\n    const newChart = {\n      chart: {\n        animation: false,\n        type: 'line',\n        plotBorderColor: '#000000',\n        plotBorderWidth: 1,\n        margin: [100, 100, 100, 100],\n        width: 600,\n        height: 600,\n        events: {\n          click: (e) => {  // click to add a point on the plot!\n            if (enableClick) {\n              const x = e.xAxis[0].value;\n              const y = e.yAxis[0].value;\n              addPoint({x, y});\n            }\n          }\n        }\n      },\n      caption: {\n        align: 'center',\n        y: 0,\n        style: {fontSize: 15},\n        text: enableClick ? 'Click on the chart to add a data point. <br/> Notice how it affects the slope and intercept of the estimated line.' : '',\n        verticalAlign: 'bottom'\n      },\n      series: [\n        {\n          type: 'scatter',\n          marker: {\n            radius: 5,\n          },\n          data: points,\n        },\n        {\n          type: 'line',\n          data: linePoints,\n          marker: {\n            enabled: true,\n            fillColor: 'orange'\n          },\n          label: {\n            enabled: false\n          }\n        }\n      ],\n      annotations: [{\n        draggable: '',\n        shapes: squares\n      }]\n    }\n\n    setMyChart(newChart);\n  }, [points, addPoint, linePoints, setSquareAreas, enableClick]);\n\n  return (\n    <>\n      <HighchartsReact highcharts={Highcharts} options={myChart}/>\n      <Form.Check\n        checked={enableClick}\n        inline\n        className=\"form-switch\"\n        label=\"Enable Click for New Points\"\n        onChange={() => setEnableClick(!enableClick)}\n      />\n    </>\n  );\n}\n\nLeastSquaresChart.propTypes = {\n  points: dataObjectArrayType.isRequired,\n  addPoint: PropTypes.func.isRequired,\n  linePoints: dataObjectArrayType.isRequired,\n  setSquareAreas: PropTypes.func.isRequired\n}\n","import { Button } from 'react-bootstrap';\nimport PropTypes from 'prop-types';\n\nexport default function PlotLine({ stage, setStage, squareAreas, generateBestLine }) {\n  return (\n    (stage === 2) ? (\n      <Button variant=\"outline-primary\" onClick={() => setStage(3)}>Plot Your Guess</Button>\n    ) : (\n      <div>\n        <p>Sum Squares: {squareAreas.reduce((a, b) => a + b, 0).toFixed(2)}</p>\n        <Button variant=\"outline-info\" onClick={() => generateBestLine()}>Reveal the Least Squares Line</Button>\n      </div>\n    )\n  );\n}\n\nPlotLine.propTypes = {\n  stage: PropTypes.number.isRequired,\n  setStage: PropTypes.func.isRequired,\n  squareAreas: PropTypes.arrayOf(PropTypes.number).isRequired,\n  generateBestLine: PropTypes.func.isRequired,\n}\n","import { useCallback, useEffect, useState } from 'react';\nimport { Row, Col } from 'react-bootstrap';\nimport NewPointsInput from './NewPointsInput';\nimport LeastSquaresChart from './LeastSquaresChart.js';\nimport PlotLine from './PlotLine.js';\nimport InputSlider from '../InputSlider.js';\nimport { random } from 'mathjs';\nimport { linearRegression } from '../../lib/stats-utils';\n\nexport default function LeastSquares() {\n  const [points, setPoints] = useState([]);\n  const [linePoints, setLinePoints] = useState([]);\n  const [stage, setStage] = useState(1);\n  const [squareAreas, setSquareAreas] = useState([]);\n  const [slope, setSlope] = useState(1);\n  const [intercept, setIntercept] = useState(1);\n\n  const addPoint = useCallback((point) => {\n    setPoints([...points, point]);\n  }, [points])\n\n  useEffect(() => {\n    if (stage === 2) {\n      setLinePoints([]);\n      setSquareAreas([]);\n      setSlope(1);\n      setIntercept(1);\n    }\n  }, [stage]);\n\n  useEffect(() => {\n    if (stage === 3) {\n      setSquareAreas([]);\n      const linearPts = [{ x: 0, y: 0 }, ...points].map((point) => ({ x: point.x, y: (point.x * +slope) + +intercept }));\n      linearPts.sort((a, b) => a.x - b.x);\n      setLinePoints(linearPts);\n    }\n  }, [stage, slope, intercept, points]);\n\n  const generatePoints = (num) => {\n    const newPoints = [];\n    for (let i = 0; i < num; i++) {\n      const x = random(2, 17);\n      const y = random(2, 17);\n      newPoints.push({ x: +x, y: +y });\n    }\n    setPoints(newPoints);\n    setStage(2);\n  }\n\n  const generateBestLine = () => {\n    const { slope: newSlope, intercept: newIntercept } = linearRegression(points, 1);\n    setSlope(newSlope);\n    setIntercept(newIntercept);\n  }\n\n  return (\n    <Row className=\"least-squares-container\">\n      <Col xs=\"auto\">\n        <LeastSquaresChart points={points} addPoint={addPoint} linePoints={linePoints} setSquareAreas={setSquareAreas}/>\n      </Col>\n      <Col xs={{ span: 3, offset: 3 }} md={{ span: 3, offset: 0 }} style={{ paddingTop: '100px' }}>\n        <NewPointsInput generatePoints={generatePoints}/>\n        <br/>\n        {(points.length > 0) && (\n          <>\n            {(stage === 2) && <p>Guess a Slope and Y-Intercept to fit the points</p>}\n            {(stage === 3) && <p>Want to try again? Guess a different slope and y-intercept to reduce the Sum of Squares!</p>}\n            {(stage >= 2) && (\n              <div>\n                <h4>Intercept</h4>\n                <InputSlider value={intercept} min={-20} max={20} step={0.1} onChange={(value) => setIntercept(value)}/>\n                <br/>\n                <h4>Slope</h4>\n                <InputSlider value={slope} min={-10} max={10} step={0.1} onChange={(value) => setSlope(value)}/>\n                <br/>\n                <PlotLine stage={stage} setStage={setStage} squareAreas={squareAreas} generateBestLine={generateBestLine}/>\n              </div>\n            )}\n          </>\n        )}\n      </Col>\n    </Row>\n  )\n}\n","import LeastSquares from './LeastSquares';\nimport SimulationIntro from '../SimulationIntro';\n\nexport default function LeastSquaresContainer() {\n  return (\n    <div className=\"module-container\">\n      <SimulationIntro\n        name=\"Least Squares\"\n        text=\"The Ordinary Least Squares method estimates the intercept and slope of a line that “best fits” the observed data by minimizing the sum of the squared distances between the points and the line.\"\n      />\n      <br/>\n      <LeastSquares/>\n    </div>\n  );\n}\n","import { Form, InputGroup } from 'react-bootstrap';\nimport PropTypes from 'prop-types';\nimport { InlineMath } from 'react-katex';\nimport { stringOrNumberType } from '../../lib/types';\n\nexport default function CoefficientInput({ beta, setBeta, delta, setDelta }) {\n  return (\n    <div>\n      <InputGroup>\n        <InputGroup.Text><InlineMath math=\"\\beta_1\"/>, the Coefficient on Study Hours:</InputGroup.Text>\n        <Form.Control\n          type=\"number\"\n          step={0.1}\n          value={beta}\n          min={-4}\n          max={4}\n          onChange={(event) => setBeta(event.target.value)}\n        />\n      </InputGroup>\n      <br/>\n      <InputGroup>\n        <InputGroup.Text><InlineMath math=\"\\delta_1\"/>, the Coefficient on Sleep Hours:</InputGroup.Text>\n        <Form.Control\n          type=\"number\"\n          step={0.1}\n          value={delta}\n          min={-4}\n          max={4}\n          onChange={(event) => setDelta(event.target.value)}\n        />\n      </InputGroup>\n    </div>\n  );\n}\n\nCoefficientInput.propTypes = {\n  beta: stringOrNumberType.isRequired,\n  setBeta: PropTypes.func.isRequired,\n  delta: stringOrNumberType.isRequired,\n  setDelta: PropTypes.func.isRequired,\n}\n","import { useEffect, useState } from 'react';\nimport Highcharts from 'highcharts';\nimport HighchartsReact from 'highcharts-react-official'\nimport PropTypes from 'prop-types';\nimport { dataObjectArrayType } from '../../lib/types.js';\n\nexport default function OmittedVariableChart({ dataPoints, naiveLine, correctedLine }) {\n  const [myChart, setMyChart] = useState({});\n\n  useEffect(() => {\n    const newChart = {\n      chart: {\n        type: 'scatter',\n        zoomtype: 'xy'\n      },\n      title: {\n        text: 'Study Hours vs. Test Score'\n      },\n      xAxis: {\n        min: 0,\n        max: 10,\n        title: {\n          text: 'Study Hours'\n        }\n      },\n      yAxis: {\n        min: 20,\n        max: 100,\n        title: {\n          text: 'Test Score'\n        }\n      },\n      series: [\n        {\n          type: 'scatter',\n          data: dataPoints,\n          name: 'Test Score',\n          color: '#33A5FF'\n        },\n        {\n          type: 'line',\n          data: naiveLine,\n          name: 'Naive Regression',\n          color: '#E30404',\n          label: {\n            enabled: false\n          }\n        },\n        {\n          type: 'line',\n          data: correctedLine,\n          name: 'Corrected Regression',\n          color: '#2AC208',\n          label: {\n            enabled: false\n          }\n        }\n      ]\n    }\n\n    setMyChart(newChart);\n  }, [dataPoints, naiveLine, correctedLine]);\n\n  return (\n    <HighchartsReact highcharts={Highcharts} options={myChart}/>\n  );\n}\n\nOmittedVariableChart.propTypes = {\n  dataPoints: dataObjectArrayType.isRequired,\n  naiveLine: PropTypes.arrayOf(PropTypes.number),\n  correctedLine: PropTypes.arrayOf(PropTypes.number)\n}\n","import { useState, useEffect } from 'react';\nimport { Row, Col, Button, Alert, Badge } from 'react-bootstrap';\nimport CoefficientInput from './CoefficientInput.js';\nimport MultivariateNormal from 'multivariate-normal';\nimport { round, transpose, matrix, multiply, inv } from 'mathjs';\nimport OmittedVariableChart from './OmittedVariableChart.js';\nimport PD from 'probability-distributions';\nimport _ from 'lodash';\nimport InputSlider from '../InputSlider.js';\nimport { linearRegression } from '../../lib/stats-utils.js';\n\nexport default function OmittedVariableBias() {\n  const [beta, setBeta] = useState(3);\n  const [delta, setDelta] = useState(3);\n  const [correlation, setCorrelation] = useState(0);\n  const [stage, setStage] = useState(1);\n  const [series, setSeries] = useState([]);\n  const [showCorrect, setShowCorrect] = useState(false);\n  const [allData, setAllData] = useState({ points: [], naiveLine: [], correctedLine: [] });\n\n  const stdX = 3;\n  const stdY = 6;\n  const OBS = 1000;\n\n  useEffect(() => {\n    if (series.length > 0) {\n      // TODO - simplify this\n\n      // generate epsilon\n      const epsilon = PD.rnorm(OBS, 0, 5);\n\n      // matrix data\n      const ones = [];\n      const colOne = [];\n      const colTwo = [];\n\n      // generate test score data\n      const scores = [];\n      for (let i = 0; i < OBS; i++) {\n        const scorePoint = 40 + beta * series[i][0] + delta * series[i][1] + epsilon[i];\n        scores.push(round(scorePoint * 100) / 100);\n        ones.push(1);\n        colOne.push(series[i][0]);\n        colTwo.push(series[i][1]);\n      }\n\n      // get series with study hours vs test scores\n      const studyScores = [];\n      for (let i = 0; i < OBS; i++) {\n        studyScores.push([series[i][0], scores[i]]);\n      }\n\n      // regress study hours with test scores\n      const { slope, intercept } = linearRegression(studyScores)\n\n      // Corrected regression\n\n      // using matrices\n      const X = transpose(matrix([ones, colOne, colTwo]));\n      const Y = transpose(matrix([scores]));\n      const inverse = inv(multiply(transpose(X), X));\n      const bHat = multiply(multiply(inverse, transpose(X)), Y);\n\n      const generatePoints = (slope, int) => _.range(0, 11).map((i) => _.round(int + i * slope, 2));\n\n      setAllData({\n        points: studyScores.map(([x, y]) => ({ x, y })),\n        naiveLine: generatePoints(slope, intercept),\n        correctedLine: generatePoints(parseFloat(bHat.get([1, 0])), parseFloat(bHat.get([0, 0])))\n      });\n      setShowCorrect(false);\n    }\n  }, [series]);  // eslint-disable-line\n\n  useEffect(() => {\n    if ((allData.points.length > 0) && (allData.naiveLine.length > 0)) {\n      setStage(2);\n    }\n  }, [allData]);\n\n  const generateSeries = () => {\n    // covariance between dimensions. This examples makes the first and third\n    // dimensions highly correlated, and the second dimension independent.\n    const covarianceMatrix = [\n      [stdX * stdX, correlation * stdX * stdY],\n      [correlation * stdX * stdY, stdY * stdY]\n    ];\n\n    // lets you sample from distribution\n    const distribution = MultivariateNormal([5, 2], covarianceMatrix);\n    const seriesArr = []\n\n    // samples 1000\n    for (let i = 0; i < OBS; i++) {\n      const [a, b] = distribution.sample()\n      seriesArr.push([_.round(a, 2), _.round(b, 2)]);\n    }\n\n    setSeries(seriesArr);\n  }\n\n  return (\n    <div>\n      <Row>\n        <p>Choose Population Parameters:</p>\n      </Row>\n      <br/>\n      <Row lg={2} sm={1}>\n        <Col style={{ margin: 'auto', padding: 10 }}>\n          <CoefficientInput beta={beta} setBeta={setBeta} delta={delta} setDelta={setDelta}/>\n        </Col>\n        <Col>\n          <div style={{ padding: 10 }}>Set the Correlation between Study Hours and Sleep Hours:</div>\n          <InputSlider value={correlation} min={-0.99} max={0.99} step={0.01} onChange={(value) => setCorrelation(value)}/>\n          <br/>\n          <Alert variant=\"secondary\" style={{ width: 'fit-content', margin: 'auto' }}>\n            Covariance between Study Hours and Sleep Hours: {' '}\n            <Badge className=\"badge bg-primary pill\" aria-label=\"covariance\">{(correlation * stdX * stdY).toFixed(2)}</Badge>\n          </Alert>\n\n        </Col>\n      </Row>\n      <br/>\n      <Row>\n        <Col>\n          <p>Estimate Regression Using Test Score and Study Hours Data </p>\n          <Button variant=\"primary\" onClick={() => generateSeries()}>Generate!</Button>\n        </Col>\n      </Row>\n      <br/>\n      {(stage >= 2) && (\n        <div>\n          <Row>\n            <Col lg={{ span: 12, offset: 0 }} xl={{ span: 8, offset: 2 }}>\n              <OmittedVariableChart\n                dataPoints={allData.points}\n                naiveLine={allData.naiveLine}\n                correctedLine={showCorrect ? allData.correctedLine : []}\n              />\n            </Col>\n          </Row>\n          <Row>\n            <Col>\n              <p variant=\"primary\">Add Omitted Variable, Density, to Regression</p>\n              <Button\n                variant=\"outline-primary\"\n                onClick={() => setShowCorrect(!showCorrect)}\n                active={showCorrect}\n              >\n                Show Corrected Regression Line\n              </Button>\n            </Col>\n          </Row>\n        </div>\n      )}\n    </div>\n  );\n}\n","import { Row } from 'react-bootstrap';\nimport OmittedVariableBias from './OmittedVariableBias';\nimport { InlineMath } from 'react-katex';\nimport SimulationIntro from '../SimulationIntro';\n\nexport default function OmittedVariableBiasContainer() {\n  return (\n    <div className=\"module-container\">\n      <SimulationIntro\n        name=\"Omitted Variable Bias\"\n        text={<>Omitted Variable Bias (OVB) is the bias in a regression estimator that arises when there is a variable (<InlineMath math=\"V\"/>) which is not included in the regression that is correlated with the regressor (<InlineMath math=\"X\"/>) and is a determinant of the outcome (<InlineMath math=\"Y\"/>). In the regression model <InlineMath math=\"Y_i = \\beta_0 + \\beta_1 X_i + \\delta V_i + \\epsilon_i\"/> where <InlineMath math=\"V\"/> is omitted from the regression estimation, the OVB is described as the final term in the following expression: <InlineMath math=\"\\hat{\\beta}_1 \\xrightarrow{p} \\beta_1 + \\frac{\\delta Cov(X,V)}{Var(X)}\"/></>}\n      />\n      <br/>\n      <Row>\n        <p>We are studying the relationship between test score and study hours:</p>\n        <InlineMath math=\"Test\\ Score = \\beta_0 + \\beta_1 Study\\ Hours_i + \\delta Sleep\\ Hours_i + u_i\"/>\n      </Row>\n      <br/>\n      <OmittedVariableBias/>\n      <br/>\n    </div>\n  );\n}\n","import { Row, Col } from 'react-bootstrap';\nimport InputSlider from '../InputSlider.js';\nimport SelectorButtonGroup from '../SelectorButtonGroup.js';\nimport PropTypes from 'prop-types';\nimport { distributionType, stringOrNumberType } from '../../lib/types.js';\nimport { InlineMath } from 'react-katex';\n\nexport default function ConfidenceInputs({ distType, setDistType, confLevel, setConfLevel }) {\n  return (\n    <div>\n      <Row>\n        <div>\n          1) Do you want to assume that you know <InlineMath math=\"\\sigma\"/>? If yes, choose Z. If no, choose T: {' '}\n          <SelectorButtonGroup options={['Z', 'T']} select={setDistType} selected={distType}/>\n        </div>\n      </Row>\n      <br/>\n      <Row>\n        <div>\n          2) Confidence Level: {' '}\n          <SelectorButtonGroup\n            options={['90%', '95%', '99%']}\n            select={(pct) => setConfLevel(pct.slice(0, 2))}\n            selected={`${confLevel}%`}\n          />\n        </div>\n      </Row>\n      <br/>\n      <Row>\n        <Col sm=\"12\" md={{ span: 6, offset: 3 }}>\n          <div>\n            More Levels:\n            <InputSlider value={confLevel} min={1} max={99} step={1} onChange={setConfLevel}/>\n          </div>\n        </Col>\n      </Row>\n    </div>\n  );\n}\n\nConfidenceInputs.propTypes = {\n  distType: distributionType.isRequired,\n  setDistType: PropTypes.func.isRequired,\n  confLevel: stringOrNumberType.isRequired,\n  setConfLevel: PropTypes.func.isRequired,\n}\n","import { useEffect, useState } from 'react';\nimport Highcharts from 'highcharts';\nimport HighchartsReact from 'highcharts-react-official';\nimport { Alert } from 'react-bootstrap';\nimport _ from 'lodash';\nimport { max } from 'mathjs';\nimport PropTypes from 'prop-types';\nimport { confidenceIntervalsSampleType, popShapeType } from '../../lib/types.js';\nimport { VALUES_ALT } from '../../lib/constants.js';\nrequire('highcharts/highcharts-more')(Highcharts);\n\nexport default function ConfidenceIntervalsChart({ confidenceLevel, samples, popShape, popMean, selected, setSelected }) {\n  const [chart, setChart] = useState({});\n\n  useEffect(() => {\n    const { xmaxval, xminval, title, xLabel } = VALUES_ALT[popShape];\n\n    const sampleMeans = [];\n    const containsMean = [];\n    const doesntContainMean = [];\n\n    // put objects into separate lists depending on whether or not they contain the mean\n    // can't seem to color individual points in a highcharts series, so this is the next best option imo\n    samples.forEach((sampleObject) => {\n      sampleMeans.push({\n        ...sampleObject,\n        x: sampleObject.id,\n        y: sampleObject.mean\n      });\n      if (sampleObject.label) {\n        containsMean.push({\n          ...sampleObject,\n          low: sampleObject.lowerConf,\n          high: sampleObject.upperConf,\n          x: sampleObject.id\n        })\n      } else {\n        doesntContainMean.push({\n          ...sampleObject,\n          low: sampleObject.lowerConf,\n          high: sampleObject.upperConf,\n          x: sampleObject.id\n        })\n      }\n    });\n\n    const tooltipFormat = {\n      headerFormat: '',\n      pointFormat: 'Sample Size: <b>{point.size}</b><br/>Sample Mean: <b>{point.mean}</b><br/>Lower Bound of CI: <b>{point.lowerConf}</b><br/>Upper Bound of CI: <b>{point.upperConf}</b><br/>Confidence Level: <b>{point.confidenceLevel}%</b><br/>Distribution: <b>{point.distribution}</b><br/>',\n      outside: true,\n      borderColor: 'gray',\n    }\n\n    const newChart = {\n      chart: {\n        type: 'columnrange',\n        inverted: true,\n        animation: false,\n        zoomType: 'xy',\n        events: {\n          // hack to allow zoom - this unselects all points in the plot\n          selection: (event) => {\n            event.target.series.forEach((series) => {\n              series.data.forEach((point) => {\n                point.select(false, false)\n              })\n            })\n          }\n        }\n      },\n      plotOptions: {\n        series: {\n          point: {\n            events: {\n              click() {\n                setSelected(this);\n                this.select(false, false);\n              }\n            }\n          },\n          animation: {\n            duration: 0\n          },\n          cursor: 'pointer'\n        }\n      },\n      title: {\n        text: title\n      },\n      xAxis: {\n        reversed: false,\n        min: 1,\n        max: max(samples.length, 10),\n        startOnTick: true,\n        title: {\n          text: 'Sample Number'\n        },\n        tickPixelInterval: 1,\n        tickInterval: 1,\n        tickWidth: 0,\n        lineWidth: 0\n      },\n      yAxis: {\n        min: xminval,\n        max: xmaxval,\n        startOnTick: true,\n        endOnTick: true,\n        title: {\n          text: xLabel\n        }\n      },\n      series: [\n        {\n          name: 'Confidence Interval',\n          data: containsMean,\n          color: 'rgba(0, 170, 0, 0.5)',\n          centerInCategory: true,\n          showInLegend: false,\n          tooltip: tooltipFormat,\n          allowPointSelect: true,\n          animation: {\n            duration: 0\n          },\n          states: {\n            hover: {\n              color: 'rgba(0, 170, 0, 1)'\n            },\n            inactive: {\n              color: 'rgba(0, 170, 0, 0.5)'\n            },\n            select: {\n              enabled: false,\n              color: 'rgba(0, 170, 0, 0.5)'\n            }\n          }\n        },\n        {\n          name: 'Confidence Interval',\n          data: doesntContainMean,\n          color: 'rgba(255, 0, 0, 0.5)',\n          centerInCategory: true,\n          showInLegend: false,\n          tooltip: tooltipFormat,\n          allowPointSelect: true,\n          animation: {\n            duration: 0\n          },\n          states: {\n            hover: {\n              color: 'rgba(255, 0, 0, 1)'\n            },\n            inactive: {\n              color: 'rgba(255, 0, 0, 0.5)'\n            },\n            select: {\n              enabled: false,\n              color: 'rgba(255, 0, 0, 0.5)'\n            }\n          }\n        },\n        {\n          name: 'Sample Means',\n          type: 'scatter',\n          data: sampleMeans,\n          color: '#616161',\n          marker: {\n            enabled: true,\n            symbol: 'diamond',\n            radius: 1\n          },\n          allowPointSelect: true,\n          animation: {\n            duration: 0\n          },\n          states: {\n            hover: {\n              enabled: false\n            },\n            select: {\n              enabled: false,\n            }\n          },\n          tooltip: tooltipFormat,\n        },\n        {\n          type: 'line',\n          name: 'Population Mean',\n          data: [[0, popMean], [samples.length, popMean]],\n          color: 'gray',\n          enableMouseTracking: false,\n          showInLegend: false,\n          label: {\n            enabled: false\n          },\n          marker: {\n            enabled: false\n          },\n          zIndex: -5\n        }\n      ]\n    }\n    setChart(newChart);\n  }, [confidenceLevel, samples, popShape, popMean, setSelected]);\n\n  return (\n    <div>\n      {selected ? (\n        <Alert variant={selected.label ? 'success' : 'danger'}>\n          Sample number {selected.id} has a mean of {selected.mean.toFixed(2)}, with {confidenceLevel}% CI ({_.round(selected.lowerConf, 2)}, {_.round(selected.upperConf, 2)}). CI contains the population mean? {selected.label.toString()}\n        </Alert>\n      ) : (\n        <div style={{ height: 80 }}/>\n      )}\n      <HighchartsReact highcharts={Highcharts} options={chart}/>\n    </div>\n  );\n}\n\nConfidenceIntervalsChart.propTypes = {\n  confidenceLevel: PropTypes.number.isRequired,\n  samples: PropTypes.arrayOf(confidenceIntervalsSampleType).isRequired,\n  popShape: popShapeType.isRequired,\n  popMean: PropTypes.number.isRequired,\n  selected: confidenceIntervalsSampleType,\n  setSelected: PropTypes.func.isRequired,\n}\n","import { useState } from 'react';\nimport { Button, Form, Alert } from 'react-bootstrap';\nimport PropTypes from 'prop-types';\n\nexport default function ManySamplesInput({ populationSize, addSamples }) {\n  const [numberResamples, setNumberResamples] = useState(0);\n  const [resampleSize, setResampleSize] = useState(0);\n\n  return (\n    <div style={{ padding: 50 }}>\n      <Alert variant=\"primary\" style={{ width: '50%', margin: 'auto' }}>\n        Simulate drawing many many samples\n      </Alert>\n      <br/>\n      <span> Sample Size: </span>\n      <Form.Control\n        style={{ width: '40%', margin: 'auto' }}\n        min={1}\n        type=\"number\"\n        placeholder=\"Sample Size:\"\n        onChange={(event) => setResampleSize(event.target.value)}\n        value={resampleSize}\n      />\n      <br/>\n      <span> Number of Replications: </span>\n      <Form.Control\n        style={{ width: '40%', margin: 'auto' }}\n        min={1}\n        type=\"number\"\n        placeholder=\"Number of Replications:\"\n        onChange={(event) => setNumberResamples(event.target.value)}\n        value={numberResamples}\n      />\n      <br/>\n      <Button\n        variant=\"secondary\"\n        onClick={() => addSamples(resampleSize, numberResamples)}\n        disabled={(resampleSize < 1) || (resampleSize > populationSize) || (numberResamples < 1)}\n      >\n        Run\n      </Button>\n      <Button variant=\"secondary\" onClick={() => addSamples()}>Clear</Button>\n    </div>\n  );\n}\n\nManySamplesInput.propTypes = {\n  populationSize: PropTypes.number.isRequired,\n  addSamples: PropTypes.func.isRequired,\n}\n","import DotPlot from '../DotPlot';\nimport { Alert, Container } from 'react-bootstrap';\nimport _ from 'lodash';\nimport PropTypes from 'prop-types';\nimport { dataObjectArrayType, popShapeType } from '../../lib/types.js';\nimport { TEXTS_ALT, VALUES_ALT } from '../../lib/constants.js';\n\nexport default function PopulationChart({ popArray, popMean, sampled, popShape }) {\n  const { xmaxval, xminval, ymaxval, title, xLabel } = VALUES_ALT[popShape];\n\n  const series = [\n    {\n      name: 'Population',\n      data: popArray\n    },\n    {\n      name: 'Samples',\n      data: sampled\n    }\n  ];\n\n  return (\n    <Container fluid>\n      <Alert variant=\"secondary\">\n        We queried the {TEXTS_ALT[popShape][0]} of {popArray.length} {TEXTS_ALT[popShape][1]} and plotted the results on the following chart.\n      </Alert>\n      <DotPlot\n        series={series}\n        title={`${title} <br /> Population Mean: ${_.round(popMean, 2)}`}\n        xMin={xminval}\n        xMax={xmaxval}\n        yMax={ymaxval}\n        xLabel={xLabel}\n      />\n    </Container>\n  );\n}\n\nPopulationChart.propTypes = {\n  popArray: dataObjectArrayType.isRequired,\n  popMean: PropTypes.number,\n  sampled: dataObjectArrayType.isRequired,\n  popShape: popShapeType.isRequired\n}\n","import { useState, useEffect } from 'react';\nimport Collapsable from '../Collapsable.js';\nimport ConfidenceInputs from './ConfidenceInputs.js';\nimport SampleSizeInput from '../SampleSizeInput.js';\nimport ConfidenceIntervalsChart from './ConfidenceIntervalsChart.js';\nimport ManySamplesInput from './ManySamplesInput.js';\nimport { dataFromDistribution, populationMean, populationStandardDev } from '../../lib/stats-utils.js';\nimport { Row, Col, Alert } from 'react-bootstrap';\nimport PopulationChart from './PopulationChart.js';\nimport _ from 'lodash';\nimport { jStat } from 'jstat';\nimport PropTypes from 'prop-types';\nimport Highcharts from 'highcharts';\nimport { popShapeType } from '../../lib/types.js';\nimport DataTable from '../DataTable.js';\n\nexport default function ConfidenceIntervals({ popShape, populationSize }) {\n  const [distType, setDistType] = useState('Z'); // can be \"Z\" or \"T\"\n  const [confLevel, setConfLevel] = useState(95);\n  const [popArray, setPopArray] = useState([]);\n  const [samples, setSamples] = useState([]);\n  const [selected, setSelected] = useState();\n\n  useEffect(() => {\n    const newPop = dataFromDistribution(popShape, populationSize, { low: 55, hi: 75 });\n    setPopArray(newPop);\n    setSamples([]);\n    setSelected();\n  }, [popShape, populationSize]);\n\n  // this is a hack to get around what I believe is a bug in highcharts\n  // where a point will sometimes turn gray when selected\n  const unselect = () => {\n    Highcharts.charts.forEach((chart) => {\n      if (chart) {\n        chart.series.forEach((series) => {\n          series.data.forEach((point) => {\n            point.select(false, false)\n          })\n        })\n      }\n    });\n  }\n\n  const generateSamples = (size, replications = 1) => {\n    unselect();\n    if (!size) { // calling generateSamples with no arguments clears the data\n      setSamples([]);\n      setSelected();\n    } else {\n      const sampleObjects = [];\n      for (let i = 0; i < replications; i++) {\n        const sample = _.sampleSize(popArray, size);\n        const mean = _.round(populationMean(sample), 2);\n        const popMean = _.round(populationMean(popArray), 2);\n        const standardDev = populationStandardDev((distType === 'Z') ? popArray : sample);\n        const ciFunction = (distType === 'Z') ? jStat.normalci : jStat.tci;\n        const [lowerConf, upperConf] = ciFunction(mean, 1 - (confLevel / 100), standardDev, size);\n\n        const sampleObject = {\n          data: sample,\n          size: +size,\n          mean,\n          lowerConf: _.round(lowerConf, 2),\n          upperConf: _.round(upperConf, 2),\n          confidenceLevel: +confLevel,\n          distribution: distType,\n          label: (popMean >= _.round(lowerConf, 2)) && (popMean <= _.round(upperConf, 2)),\n        }\n\n        sampleObjects.push(sampleObject);\n      }\n\n      const newSamples = [...samples, ...sampleObjects];\n      const indexedSamples = newSamples.map((sample, index) => ({ ...sample, id: index + 1 }))\n      setSamples(indexedSamples);\n      setSelected(indexedSamples[indexedSamples.length - 1]);\n    }\n  }\n\n  const selectPoint = (point) => {\n    setSelected(point);\n    unselect();\n  }\n\n  return (\n    <Collapsable>\n      <div>\n        <Row>\n          <ConfidenceInputs\n            distType={distType}\n            setDistType={setDistType}\n            confLevel={+confLevel}\n            setConfLevel={setConfLevel}\n          />\n        </Row>\n        <br/>\n        <Row md={1} lg={2}>\n          <Col>\n            <PopulationChart\n              popArray={popArray}\n              popMean={populationMean(popArray)}\n              sampled={selected ? selected.data : []} // most recent sample data\n              popShape={popShape}\n            />\n            <p>Try drawing some samples and calculating means</p>\n            <SampleSizeInput maxSize={popArray.length} minSize={1} handleClick={generateSamples} classname=\"sample-size-input\"/>\n          </Col>\n          <Col>\n            <ConfidenceIntervalsChart\n              confidenceLevel={+confLevel}\n              samples={samples}\n              popShape={popShape}\n              popMean={_.round(populationMean(popArray), 2)}\n              selected={selected}\n              setSelected={setSelected}\n            />\n          </Col>\n        </Row>\n        <Row>\n          <Col lg={12} xl={5}>\n            <ManySamplesInput\n              populationSize={popArray.length}\n              addSamples={generateSamples}\n            />\n          </Col>\n          <Col lg={12} xl={7}>\n            <DataTable\n              data={samples}\n              headers={{\n                'Sample': 'id',\n                'Size': 'size',\n                'Mean': 'mean',\n                'Lower Bound for CI': 'lowerConf',\n                'Upper Bound for CI': 'upperConf',\n                'Confidence Level': 'confidenceLevel',\n                'Distribution': 'distribution'\n              }}\n              height={400}\n              setSelected={selectPoint}\n              setRowColor={(object) => object.label ? 'rgba(23, 161, 80, 0.233)' : 'rgba(161, 23, 23, 0.233)'}\n            />\n          </Col>\n        </Row>\n        <br/>\n        <Row>\n          {(samples.length > 0) && (\n            <Alert variant=\"info\">\n              {samples.filter(({ label }) => !label).length} intervals did not contain the population mean.\n              <br/>\n              {samples.filter(({ label }) => label).length} did ({_.round(100 * samples.filter(({ label }) => label).length / samples.length, 2)}%).\n            </Alert>\n          )}\n        </Row>\n      </div>\n    </Collapsable>\n  );\n}\n\nConfidenceIntervals.propTypes = {\n  popShape: popShapeType.isRequired,\n  populationSize: PropTypes.number.isRequired,\n}\n","import { useState } from 'react';\nimport ConfidenceIntervals from './ConfidenceIntervals.js';\nimport { SAMPLE_SIZE } from '../../lib/constants.js';\nimport SimulationIntro from '../SimulationIntro.js';\nimport { InlineMath } from 'react-katex';\nimport SelectorButtonGroup from '../SelectorButtonGroup.js';\n\nexport default function ConfidenceIntervalsContainer() {\n  const [popShape, setPopType] = useState('');\n\n  return (\n    <div className=\"module-container\">\n      <SimulationIntro\n        name=\"Confidence Intervals\"\n        text={<>This simulation demonstrates how confidence intervals provide an estimate for the location of the true population mean <InlineMath math=\"\\mu\"/>. In this exercise you will first choose 1) whether to assume that you know the true population standard deviation and 2) what confidence level to impose. Then, you will take random samples from the population, calculation a sample mean for each, and construct confidence intervals around those sample means. The proportion of confidence intervals that contain the true mean corresponds to the chosen confidence level!</>}\n      />\n      <br/>\n      <p>Pick a Population Distribution:</p>\n      <SelectorButtonGroup\n        options={['Normal', 'Uniform', 'Exponential', 'Chi-Squared']}\n        select={setPopType}\n        selected={popShape}\n      />\n      <br/>\n      <br/>\n      {popShape && <ConfidenceIntervals popShape={popShape} populationSize={SAMPLE_SIZE}/>}\n    </div>\n  );\n}\n","import PropTypes from 'prop-types';\nimport { InlineMath } from 'react-katex';\nimport { hypothesisEqualityType, testTypeType } from '../../lib/types';\n\nexport default function Conclusion({ firstMean, secondMean, equality, reject, testType }) {\n\n  let result;\n  let relation;\n  if ((testType === 'oneSample' && equality === '>') || (testType === 'twoSample' && equality === '<')) {\n    result = firstMean > secondMean;\n    relation = firstMean > secondMean ? 'greater than' : 'less than';\n  } else if ((testType === 'oneSample' && equality === '<') || (testType === 'twoSample' && equality === '>')) {\n    result = firstMean < secondMean;\n    relation = firstMean < secondMean ? 'less than' : 'greater than';\n  } else if (equality === '!=') {\n    result = firstMean !== secondMean;\n    relation = firstMean !== secondMean ? 'not equal to' : 'equal to';\n  }\n\n  return (\n    (testType === 'oneSample') ? (\n      <p>The true mean is {relation} <InlineMath math=\"\\mu_0\"/>. Therefore we should {(result) ? 'reject' : 'fail to reject'} the null hypothesis. Our conclusion above was {(result === reject) ? 'correct' : 'incorrect'}</p>\n    ) : (\n      <p>\n        The second population mean is ${relation} the first population mean. Therefore we should {(result) ? 'reject' : 'fail to reject'} the null hypothesis. Our conclusion above was {(result === reject) ? 'correct' : 'incorrect'}.\n      </p>\n    )\n  )\n}\n\nConclusion.propTypes = {\n  firstMean: PropTypes.number.isRequired,\n  secondMean: PropTypes.number.isRequired,\n  equality: hypothesisEqualityType.isRequired,\n  reject: PropTypes.bool.isRequired,\n  testType: testTypeType.isRequired\n}\n","import { Container, Row, Alert } from 'react-bootstrap';\nimport DotPlot from '../DotPlot.js';\nimport PropTypes from 'prop-types';\nimport { dataObjectArrayType, hypothesisEqualityType, testTypeType } from '../../lib/types.js';\nimport { populationMean } from '../../lib/stats-utils.js';\nimport { max } from 'mathjs';\nimport Conclusion from './Conclusion.js';\n\nexport default function PopulationChartReveal({ popArr, popArr2, mu0, equality, reject, testType }) {\n  const popMean = populationMean(popArr);\n  const popMean2 = populationMean(popArr2);\n  const popArrMax = (popArr.length > 0) ? max(popArr.map(({ y }) => y)) : 0;\n  const popArr2Max = (popArr2.length > 0) ? max(popArr2.map(({ y }) => y)) : 0;\n  const maxHeight = max(popArrMax, popArr2Max);\n\n  const series = [\n    {\n      name: `Population${(popArr2.length === 0) ? '' : ' 1'}`,\n      data: popArr\n    },\n    {\n      name: 'Population 2',\n      data: popArr2,\n      showInLegend: popArr2.length > 0,\n      visible: popArr2.length > 0,\n      color: '#903C3D',\n      marker: {\n        symbol: 'diamond',\n        radius: 4,\n        lineColor: '#5A2526',\n        lineWidth: 1\n      }\n    },\n    {\n      type: 'line',\n      name: (popArr2.length === 0) ? 'True Population Mean' : 'First Population Mean',\n      data: [{ x: popMean || 0, y: 0 }, { x: popMean || 0, y: maxHeight }],\n      color: 'blue',\n      enableMouseTracking: false,\n      showInLegend: false,\n      label: {\n        format: `<div>${(popArr2.length === 0) ? 'True Population Mean' : 'First Population Mean'}: ${popMean && popMean.toFixed(2)}</div>`\n      }\n    },\n    {\n      type: 'line',\n      name: 'Second Population Mean',\n      data: [{ x: popMean2 || 0, y: 0 }, { x: popMean2 || 0, y: maxHeight }],\n      color: 'red',\n      enableMouseTracking: false,\n      showInLegend: false,\n      visible: popArr2.length > 0,\n      label: {\n        format: `<div>Second Population Mean: ${popMean2 && popMean2.toFixed(2)}</div>`\n      }\n    },\n    {\n      type: 'line',\n      name: 'Mu_0',\n      data: [{ x: mu0 || 0, y: 0 }, { x: mu0 || 0, y: popArrMax }],\n      color: 'red',\n      enableMouseTracking: false,\n      showInLegend: false,\n      visible: popArr2.length === 0,\n      label: {\n        format: `<div>Mu_0: ${mu0}</div>`\n      }\n    }\n  ];\n\n  return (\n    <Container>\n      <Row>\n        <Container fluid>\n          <Row>\n            <Alert variant=\"secondary\">\n              We queried the monthly Milk Production of {(popArr2.length > 0) ? 'two populations of' : ''} {popArr.length} cows and plotted the results on the following chart.\n            </Alert>\n          </Row>\n          <Row>\n            <DotPlot\n              series={series}\n              title=\"Milk Production\"\n              xLabel=\"Gallons\"\n            />\n          </Row>\n        </Container>\n      </Row>\n      <Row>\n        <Conclusion\n          firstMean={(testType === 'oneSample') ? popMean : popMean2}\n          secondMean={(testType === 'oneSample') ? mu0 : popMean}\n          equality={equality}\n          reject={reject}\n          testType={testType}\n        />\n      </Row>\n    </Container>\n  )\n}\n\nPopulationChartReveal.propTypes = {\n  popArr: dataObjectArrayType.isRequired,\n  popArr2: dataObjectArrayType.isRequired,\n  mu0: PropTypes.number.isRequired,\n  equality: hypothesisEqualityType.isRequired,\n  reject: PropTypes.bool.isRequired,\n  testType: testTypeType.isRequired\n}\n","import { Alert } from 'react-bootstrap';\nimport PropTypes from 'prop-types';\nimport _ from 'lodash';\nimport { hypothesisEqualityType, testTypeType } from '../../lib/types.js';\nimport { InlineMath } from 'react-katex';\n\nexport default function ResultsDisplay({ testType, mean, mean2, standardDev, standardDev2, testStatistic, pValue, alpha, equality }) {\n  return (\n    <Alert variant=\"secondary\" >\n      <p>This sample yields the following data:</p>\n      {(testType === 'oneSample') ? (\n        <div>\n          <p>Sample Mean: {_.round(mean, 2)}</p>\n          <p>Sample Standard Deviation: {_.round(standardDev, 2)} </p>\n        </div>\n      ) : (\n        <div>\n          <p>First Sample Mean: {_.round(mean, 2)}</p>\n          <p>Second Sample Mean: {_.round(mean2, 2)}</p>\n          <p>First Sample Standard Deviation: {_.round(standardDev, 2)} </p>\n          <p>Second Sample Standard Deviation: {_.round(standardDev2, 2)} </p>\n        </div>\n      )}\n      <p>The test statistic is {_.round(testStatistic, 2)}</p>\n      <p>\n        This test statistic yields a p-value of <InlineMath math={`P(Z ${(equality === '!=') ? '>' : equality} ${(equality === '!=') ? '|test\\\\ stat|' : 'test\\\\ stat'}) = ${pValue.toPrecision(3)}`}/>.\n      </p>\n      <p>Therefore we {(pValue < alpha) ? 'reject' : 'fail to reject'} the null hypothesis. </p>\n    </Alert>\n  )\n}\n\nResultsDisplay.propTypes = {\n  testType: testTypeType.isRequired,\n  mean: PropTypes.number.isRequired,\n  mean2: PropTypes.number,\n  standardDev: PropTypes.number.isRequired,\n  standardDev2: PropTypes.number,\n  testStatistic: PropTypes.number.isRequired,\n  pValue: PropTypes.number.isRequired,\n  alpha: PropTypes.number.isRequired,\n  equality: hypothesisEqualityType.isRequired\n}\n","import PropTypes from 'prop-types';\nimport { Row, Col, InputGroup, Form } from 'react-bootstrap';\nimport { stringOrNumberType } from '../../lib/types';\n\nexport default function SampleSizeAlphaInputs({ sampleSize, setSampleSize, alpha, setAlpha, popSize, sampleSize2, setSampleSize2, showSecondInput }) {\n  return (\n    <Row sm=\"1\" md={showSecondInput ? 1 : 2} lg=\"2\">\n      <Col>\n        <InputGroup>\n          <InputGroup.Text>{showSecondInput ? 'First' : ''} Sample Size</InputGroup.Text>\n          <Form.Control\n            type=\"number\"\n            step={1}\n            value={sampleSize}\n            min={1}\n            max={popSize}\n            onChange={(event) => setSampleSize(event.target.value)}\n          />\n        </InputGroup>\n        {showSecondInput && (\n          <InputGroup>\n            <InputGroup.Text>Second Sample Size</InputGroup.Text>\n            <Form.Control\n              type=\"number\"\n              step={1}\n              value={sampleSize2}\n              min={1}\n              max={popSize}\n              onChange={(event) => setSampleSize2(event.target.value)}\n            />\n          </InputGroup>\n        )}\n      </Col>\n      <Col>\n        <InputGroup>\n          <InputGroup.Text>Alpha</InputGroup.Text>\n          <Form.Control\n            type=\"number\"\n            step={0.01}\n            value={alpha}\n            min={0}\n            max={1}\n            onChange={(event) => setAlpha(event.target.value)}\n          />\n        </InputGroup>\n      </Col>\n    </Row>\n  )\n}\n\nSampleSizeAlphaInputs.propTypes = {\n  sampleSize: stringOrNumberType.isRequired,\n  sampleSize2: stringOrNumberType.isRequired,\n  setSampleSize: PropTypes.func.isRequired,\n  setSampleSize2: PropTypes.func.isRequired,\n  alpha: stringOrNumberType.isRequired,\n  setAlpha: PropTypes.func.isRequired,\n  popSize: PropTypes.number.isRequired,\n  showSecondInput: PropTypes.bool.isRequired\n}\n","import { useState, useEffect } from 'react';\nimport Highcharts from 'highcharts';\nimport HighchartsReact from 'highcharts-react-official'\nimport { distributionType, hypothesisTestingSampleArrayType, testTypeType } from '../../lib/types';\nimport PropTypes from 'prop-types';\nimport _ from 'lodash';\nimport { dataFromDistribution } from '../../lib/stats-utils';\nimport { sqrt } from 'mathjs';\nrequire('highcharts/modules/histogram-bellcurve')(Highcharts);\n\nexport default function NormalCurve({ means, mu0, popStandardDev, sampleSize, distType, testType }) {\n  // use a placeholder population to draw the bell curve in the plot\n  const [population, setPopulation] = useState(\n    dataFromDistribution(\n      'Normal', 2000, { mean: (testType === 'oneSample') ? mu0 : 0, standardDev: popStandardDev / sqrt(sampleSize) }\n    )\n  );\n\n  const [chart, setChart] = useState({\n    chart: {\n      zoomType: 'xy'\n    },\n    plotOptions: {\n      series: {\n        animation: {\n          duration: 100,\n          easing: 'easeOutBounce'\n        },\n      }\n    },\n    title: {\n      text: 'Sample Means'\n    },\n    xAxis: {\n      title: {\n        text: 'Gallons',\n      },\n      startOnTick: true,\n      endOnTick: true\n    },\n    yAxis: [{  // Primary yAxis\n      allowDecimals: false,\n      min: 0,\n      title: {\n        text: 'Observations of Sample Mean'\n      }\n    }, {  // Secondary yAxis for bell curve\n      visible: false\n    }],\n    tooltip: {\n      pointFormat: `${(testType === 'oneSample') ? 'sample mean' : 'difference of means'}: <b>{point.mean}</b><br/>test statistic: <b>{point.testStatistic}</b><br/>reject H_0: <b>{point.reject}</b></br>`\n    }\n  });\n\n  useEffect(() => {\n    setPopulation(\n      dataFromDistribution(\n        'Normal', 2000, { mean: (testType === 'oneSample') ? mu0 : 0, standardDev: popStandardDev / sqrt(sampleSize) }\n      )\n    )\n  }, [mu0, popStandardDev, sampleSize, testType]);\n\n  useEffect(() => {\n    const meanCounts = {};\n    const rejects = [];\n    const accepts = [];\n    means.forEach(({ testStatistic, mean, reject }) => {\n      meanCounts[mean] = _.defaultTo(meanCounts[mean] + 1, 1);\n      const meanObject = {\n        x: mean,\n        y: meanCounts[mean],\n        testStatistic,\n        mean,\n        reject,\n      }\n      if (reject) {\n        rejects.push(meanObject)\n      } else {\n        accepts.push(meanObject)\n      }\n    });\n\n    const newChart = {\n      series: [\n        {\n          name: 'Normal Distribution',\n          type: 'bellcurve',\n          baseSeries: 1,\n          zIndex: -1,\n          enableMouseTracking: false,\n          label: false,\n          showInLegend: false,\n          visible: !(distType === 'T'),\n          yAxis: 1\n        },\n        {\n          name: 'Data',\n          type: 'scatter',\n          data: population.map(({ x }) => x),\n          visible: false,\n          showInLegend: false\n        },\n        {\n          name: 'Fail to Reject H_0',\n          type: 'scatter',\n          data: accepts,\n          color: '#03fc0b',\n          marker: {\n            symbol: 'diamond',\n            radius: 4,\n            lineColor: 'green',\n            lineWidth: 1\n          }\n        },\n        {\n          name: 'Reject H_0',\n          type: 'scatter',\n          data: rejects,\n          color: 'red',\n          marker: {\n            symbol: 'diamond',\n            radius: 4,\n            lineColor: '#800000',\n            lineWidth: 1\n          }\n        }\n      ]\n    }\n\n    setChart(newChart);\n  }, [means, population, sampleSize, distType]);\n\n  return <HighchartsReact highcharts={Highcharts} options={chart}/>\n}\n\nNormalCurve.propTypes = {\n  means: hypothesisTestingSampleArrayType.isRequired,\n  mu0: PropTypes.number.isRequired,\n  popStandardDev: PropTypes.number.isRequired,\n  sampleSize: PropTypes.number.isRequired,\n  distType: distributionType.isRequired,\n  testType: testTypeType.isRequired\n}\n","import { useState } from 'react';\nimport { Button, Form, Alert, InputGroup } from 'react-bootstrap';\nimport PropTypes from 'prop-types';\n\nexport default function ManySamplesInput({ populationSize, addSamples }) {\n  const [numberResamples, setNumberResamples] = useState(0);\n  const [resampleSize, setResampleSize] = useState(0);\n\n  return (\n    <div style={{ padding: 50 }}>\n      <Alert variant=\"primary\" style={{ width: '50%', margin: 'auto' }}>\n        Simulate drawing many many samples\n      </Alert>\n      <br/>\n      <span> Sample Size: </span>\n      <InputGroup className=\"sample-size-input\" style={{ width: '40%', margin: 'auto' }}>\n        <Form.Control\n          style={{width: 45}}\n          type=\"number\"\n          placeholder=\"Sample Size:\"\n          min={1}\n          value={resampleSize}\n          onChange={(event) => setResampleSize(event.target.value)}\n        />\n        <Button\n          variant=\"secondary\"\n          disabled={!resampleSize || resampleSize > populationSize || resampleSize < 1}\n          onClick={() => addSamples(+resampleSize, 1, false)}\n        >\n          Sample Once\n        </Button>\n      </InputGroup>\n      <br/>\n      <span> Number of Replications: </span>\n      <Form.Control\n        style={{ width: '40%', margin: 'auto' }}\n        min={1}\n        type=\"number\"\n        placeholder=\"Number of Replications:\"\n        onChange={(event) => setNumberResamples(event.target.value)}\n        value={numberResamples}\n      />\n      <br/>\n      <Button\n        variant=\"secondary\"\n        onClick={() => addSamples(resampleSize, numberResamples, true)}\n        disabled={(resampleSize < 1) || (resampleSize > populationSize) || (numberResamples < 1)}\n      >\n        Run\n      </Button>\n      <Button variant=\"secondary\" onClick={() => addSamples(0, 0, true)}>Clear</Button>\n    </div>\n  );\n}\n\nManySamplesInput.propTypes = {\n  populationSize: PropTypes.number.isRequired,\n  addSamples: PropTypes.func.isRequired,\n}\n","import { useState, useEffect } from 'react';\nimport Highcharts from 'highcharts';\nimport HighchartsReact from 'highcharts-react-official'\nimport { distributionType, hypothesisTestingSampleArrayType, testTypeType } from '../../lib/types';\nimport PropTypes from 'prop-types';\nimport _ from 'lodash';\nimport { dataFromDistribution } from '../../lib/stats-utils';\nrequire('highcharts/modules/histogram-bellcurve')(Highcharts);\n\nexport default function StdNormalCurve({ means, sampleSize, distType, testType }) {\n  // use a placeholder population to draw the bell curve in the plot\n  const [population] = useState(\n    dataFromDistribution('Normal', 2000, { mean: 0, standardDev: 1 })\n  );\n\n  const [chart, setChart] = useState({\n    chart: {\n      zoomType: 'xy'\n    },\n    plotOptions: {\n      series: {\n        animation: {\n          duration: 100,\n          easing: 'easeOutBounce'\n        },\n      }\n    },\n    title: {\n      text: 'Sample Means'\n    },\n    xAxis: {\n      title: {\n        text: 'Test Statistic',\n      },\n      startOnTick: true,\n      endOnTick: true\n    },\n    yAxis: [{  // Primary yAxis\n      allowDecimals: false,\n      min: 0,\n      title: {\n        text: 'Observations of Test Statistic'\n      }\n    }, {  // Secondary yAxis for bell curve\n      visible: false\n    }],\n    tooltip: {\n      pointFormat: `test statistic: <b>{point.testStatistic}</b><br/>${(testType === 'oneSample') ? 'sample mean' : 'difference of means'}: <b>{point.mean}</b><br/>reject H_0: <b>{point.reject}</b></br>`\n    }\n  });\n\n  useEffect(() => {\n    const meanCounts = {};\n    const rejects = [];\n    const accepts = [];\n    means.forEach(({ testStatistic, mean, reject }) => {\n      meanCounts[mean] = _.defaultTo(meanCounts[mean] + 1, 1);\n      const meanObject = {\n        x: testStatistic,\n        y: meanCounts[mean],\n        testStatistic,\n        mean,\n        reject,\n      }\n      if (reject) {\n        rejects.push(meanObject)\n      } else {\n        accepts.push(meanObject)\n      }\n    });\n\n    const newChart = {\n      series: [\n        {\n          name: 'Normal Distribution',\n          type: 'bellcurve',\n          baseSeries: 1,\n          zIndex: -1,\n          enableMouseTracking: false,\n          label: false,\n          showInLegend: false,\n          visible: !(distType === 'T'),\n          yAxis: 1\n        },\n        {\n          name: 'Data',\n          type: 'scatter',\n          data: population.map(({ x }) => x),\n          visible: false,\n          showInLegend: false\n        },\n        {\n          name: 'Fail to Reject H_0',\n          type: 'scatter',\n          data: accepts,\n          color: '#03fc0b',\n          marker: {\n            symbol: 'diamond',\n            radius: 4,\n            lineColor: 'green',\n            lineWidth: 1\n          }\n        },\n        {\n          name: 'Reject H_0',\n          type: 'scatter',\n          data: rejects,\n          color: 'red',\n          marker: {\n            symbol: 'diamond',\n            radius: 4,\n            lineColor: '#800000',\n            lineWidth: 1\n          }\n        }\n      ]\n    }\n\n    setChart(newChart);\n  }, [means, population, sampleSize, distType]);\n\n  return <HighchartsReact highcharts={Highcharts} options={chart}/>\n}\n\nStdNormalCurve.propTypes = {\n  means: hypothesisTestingSampleArrayType.isRequired,\n  sampleSize: PropTypes.number.isRequired,\n  distType: distributionType.isRequired,\n  testType: testTypeType.isRequired\n}\n","import { useState, useEffect } from 'react';\nimport DotPlot from '../DotPlot.js';\nimport NormalCurve from './NormalCurve.js';\nimport ManySamplesInput from './ManySamplesInput.js';\nimport { Container, Row, Col, Alert, Form } from 'react-bootstrap';\nimport _ from 'lodash';\nimport PropTypes from 'prop-types';\nimport { distributionType, hypothesisEqualityType, popShapeType, testTypeType } from '../../lib/types.js';\nimport StdNormalCurve from './StdNormalCurve.js';\nimport { random } from 'mathjs';\nimport {\n  calculateOneSampleTestStatistic,\n  calculatePValue,\n  calculateTwoSampleTestStatistic,\n  dataFromDistribution,\n  populationMean,\n  populationStandardDev\n} from '../../lib/stats-utils';\n\nexport default function SimulateTypeOneError({ popShape, mu0, alpha, distType, sides, equality, testType, sd1, sd2 }) {\n  const [population, setPopulation] = useState([]);\n  const [population2, setPopulation2] = useState([]);\n  const [sampleMeans, setSampleMeans] = useState([]);\n  const [sampleSize, setSampleSize] = useState(0);\n  const [standardized, setStandardized] = useState(false);\n\n  useEffect(() => {\n    setPopulation(dataFromDistribution(\n      popShape,\n      2000,\n      {\n        mean: mu0,\n        standardDev: sd1,\n        low: mu0 - 10,\n        hi: mu0 + 10,\n        mysteryMean1: mu0 - 6,\n        mysteryMean2: mu0 + 6,\n        mysterySD1: random(1, 4),\n        mysterySD2: random(1, 4)\n      }\n    ))\n    if (testType === 'twoSample') {\n      setPopulation2(dataFromDistribution(\n        popShape,\n        2000,\n        {\n          mean: mu0,\n          standardDev: sd2,\n          low: mu0 - 10,\n          hi: mu0 + 10,\n          mysteryMean1: mu0 - 6,\n          mysteryMean2: mu0 + 6,\n          mysterySD1: random(1, 4),\n          mysterySD2: random(1, 4)\n        }\n      ))\n    }\n  }, [mu0, popShape, testType, sd1, sd2]);\n\n  const addSamples = (size, replications, clear) => {\n    const means = [];\n    for (let i = 0; i < replications; i++) {\n      const sample = _.sampleSize(population, size);\n      const sampleMean = populationMean(sample);\n\n      // these are only used in the two-sample case\n      const sample2 = (testType === 'twoSample') ? _.sampleSize(population2, size) : [];\n      const sampleMean2 = populationMean(sample2);\n\n      const testStatistic = (testType === 'oneSample')\n        ? calculateOneSampleTestStatistic(\n          distType,\n          sampleMean,\n          mu0,\n          populationStandardDev((distType === 'Z') ? population : sample),\n          size\n        )\n        : calculateTwoSampleTestStatistic(\n          sampleMean,\n          sampleMean2,\n          populationStandardDev((distType === 'Z') ? population : sample),\n          populationStandardDev((distType === 'Z') ? population2 : sample2),\n          size,\n          size\n        );\n\n      const pValue = calculatePValue(distType, testStatistic, equality, size, sides);\n\n      const sampleObject = {\n        testStatistic: _.round(testStatistic, 2),\n        mean: (testType === 'oneSample') ? _.round(sampleMean, 2) : _.round(sampleMean - sampleMean2, 2),\n        reject: !(((equality === '<') && (testStatistic > 0)) || ((equality === '>') && (testStatistic < 0))) && pValue <= alpha\n      };\n\n      means.push(sampleObject);\n    }\n    const newSampleMeans = clear ? means : [...sampleMeans, ...means];\n    setSampleMeans(newSampleMeans);\n    setSampleSize(size);\n  }\n\n  const dotPlotSeries = [\n    {\n      name: `Population${(testType === 'twoSample') ? ' 1' : ''}`,\n      data: population,\n    },\n    {\n      name: 'Population 2',\n      data: population2,\n      color: '#903C3D',\n      marker: {\n        symbol: 'diamond',\n        radius: 4,\n        lineColor: '#5A2526',\n        lineWidth: 1\n      }\n    }\n  ]\n\n  return (\n    <Container>\n      <Alert variant=\"primary\" style={{ marginTop: 50, marginBottom: 50 }}>\n        Now we simulate Type I error. In other words, if the true mean were actually {mu0.toPrecision(2)}, how often would we (incorrectly) reject the null hypothesis?\n      </Alert>\n      <Row>\n        <Col>\n          <DotPlot series={dotPlotSeries} title={`Population${(testType === 'twoSample') ? 's' : ''}`} xLabel=\"Gallons\"/>\n        </Col>\n        <Col>\n          {!standardized ? (\n            <NormalCurve\n              means={sampleMeans}\n              mu0={mu0}\n              popStandardDev={_.defaultTo(populationStandardDev(population), 0)}\n              sampleSize={+sampleSize || 1}\n              distType={distType}\n              testType={testType}\n            />\n          ) : (\n            <StdNormalCurve\n              means={sampleMeans}\n              sampleSize={+sampleSize || 1}\n              distType={distType}\n              testType={testType}\n            />\n          )}\n          <Form.Check\n            checked={standardized}\n            inline\n            className=\"form-switch\"\n            label=\"Convert to Standard Normal\"\n            onChange={() => setStandardized(!standardized)}\n          />\n        </Col>\n      </Row>\n      <ManySamplesInput populationSize={population.length} addSamples={addSamples}/>\n      {(sampleMeans.length > 0) && (\n        <Alert variant=\"info\">\n          Out of {sampleMeans.length} samples, we rejected the null hypothesis {sampleMeans.filter(({ reject }) => reject).length} times ({_.round(100 * sampleMeans.filter(({ reject }) => reject).length / sampleMeans.length, 2)}%).\n        </Alert>\n      )}\n    </Container>\n  )\n}\n\nSimulateTypeOneError.propTypes = {\n  popShape: popShapeType.isRequired,\n  mu0: PropTypes.number.isRequired,\n  alpha: PropTypes.number.isRequired,\n  distType: distributionType.isRequired,\n  sides: PropTypes.oneOf([1, 2]).isRequired,\n  equality: hypothesisEqualityType.isRequired,\n  testType: testTypeType.isRequired,\n  sd1: PropTypes.number.isRequired,\n  sd2: PropTypes.number\n}\n","import { useEffect, useState } from 'react';\nimport { random } from 'mathjs';\nimport { Button, Container, Row } from 'react-bootstrap';\nimport PropTypes from 'prop-types';\nimport PopulationChartReveal from './PopulationChartReveal.js';\nimport _ from 'lodash';\nimport ResultsDisplay from './ResultsDisplay.js';\nimport SampleSizeAlphaInputs from './SampleSizeAlphaInput.js';\nimport SimulateTypeOneError from './SimulateTypeOneError.js';\nimport { hypothesisEqualityType, popShapeType, testTypeType } from '../../lib/types.js';\nimport {\n  calculateOneSampleTestStatistic,\n  calculatePValue,\n  calculateTwoSampleTestStatistic,\n  dataFromDistribution,\n  populationMean,\n  populationStandardDev\n} from '../../lib/stats-utils.js';\n\nexport default function PerformTest({ distType, shape, sides, mu0, equality, testType }) {\n  const [popArr, setPopArr] = useState([]);\n  const [sample, setSample] = useState([]);\n  const [sampleSize, setSampleSize] = useState(0);\n  const [alpha, setAlpha] = useState(0);\n  const [stage, setStage] = useState(0);\n\n  // in the two-sample case, 'popArr' becomes the '2nd' population, and we use 'originalPop' as the first population\n  // see the ResultsDisplay component for an example of this\n  const [originalPop, setOriginalPop] = useState([]);\n  const [originalPopSample, setOriginalPopSample] = useState([]);\n  const [originalPopSampleSize, setOriginalPopSampleSize] = useState(0);\n\n  useEffect(() => {\n    if (stage === 3) {\n      setStage(2)\n    }\n  }, [mu0, equality]);  // eslint-disable-line\n\n  useEffect(() => {\n    const popMean1 = random(61, 66);\n    const sd1 = random(1, 4);\n    setPopArr(dataFromDistribution(\n      shape,\n      2000,\n      {\n        mean: popMean1,\n        standardDev: sd1,\n        low: popMean1 - 10,\n        hi: popMean1 + 10,\n        mysteryMean1: popMean1 - 6,\n        mysteryMean2: popMean1 + 6,\n        mysterySD1: sd1 - 1,\n        mysterySD2: sd1 + 1\n      }\n    ));\n    if (testType === 'twoSample') {\n      setOriginalPop(dataFromDistribution(shape, 2000, { low: 54, hi: 74 }));\n    } else {\n      setOriginalPop([]);\n    }\n  }, [shape, testType]);\n\n  const takeSample = () => {\n    setSample(_.sampleSize(popArr, sampleSize));\n    if (stage === 0) {\n      setStage(1);\n    }\n    if (testType === 'twoSample') {\n      setOriginalPopSample(_.sampleSize(originalPop, originalPopSampleSize))\n    }\n  }\n\n  const sampleMean = populationMean(sample);\n  const sampleSD = populationStandardDev(sample);\n  const populationSD = populationStandardDev(popArr);\n\n  // for the two-sample case\n  const originalSampleMean = populationMean(originalPopSample);\n  const originalSampleSD = populationStandardDev(originalPopSample);\n  const originalPopSD = populationStandardDev(originalPop);\n\n  // use the population or sample sd based on the distribution type (Z or T)\n  const oneSampleSD = (distType === 'Z') ? populationSD : sampleSD;\n  const twoSampleSD1 = (distType === 'Z') ? originalPopSD : originalSampleSD;\n  const twoSampleSD2 = (distType === 'Z') ? originalPopSD : sampleSD;\n\n  const testStatistic = (testType === 'oneSample')\n    ? calculateOneSampleTestStatistic(distType, sampleMean, mu0, oneSampleSD, sampleSize)\n    : calculateTwoSampleTestStatistic(\n        originalSampleMean,\n        sampleMean,\n        twoSampleSD1,\n        twoSampleSD2,\n        originalPopSampleSize,\n        sampleSize\n      );\n\n  const pValue = calculatePValue(distType, testStatistic, equality, sampleSize, sides);\n\n  return (\n    <Container fluid>\n      <p>Let’s test your assertion by taking a sample and setting our tolerance for making a type-one error α!</p>\n      <SampleSizeAlphaInputs\n        sampleSize={sampleSize}\n        setSampleSize={setSampleSize}\n        alpha={alpha}\n        setAlpha={setAlpha}\n        popSize={popArr.length}\n        sampleSize2={originalPopSampleSize}\n        setSampleSize2={setOriginalPopSampleSize}\n        showSecondInput={testType === 'twoSample'}\n      />\n      <br/>\n      <Button\n        variant=\"outline-primary\"\n        active={stage >= 1}\n        disabled={\n          (sampleSize <= 0) ||\n          (sampleSize > popArr.length) ||\n          ((testType === 'twoSample') && ((originalPopSampleSize <= 0) || (originalPopSampleSize > originalPop.length)))\n        }\n        onClick={() => takeSample()}\n      >\n        Sample\n      </Button>\n      <br/>\n      <br/>\n      {(stage >= 1) && (\n        <Container>\n          <ResultsDisplay\n            testType={testType}\n            // note how we use the 'original' mean in the two-sample case but the 'regular' mean in the one-sample case\n            mean={(testType === 'twoSample') ? originalSampleMean : sampleMean}\n            mean2={sampleMean}  // mean2 has no effect in the one-sample case\n            standardDev={(testType === 'twoSample') ? originalSampleSD : sampleSD}\n            standardDev2={sampleSD}\n            testStatistic={testStatistic}\n            pValue={pValue}\n            alpha={+alpha}\n            equality={equality}\n          />\n          <br/>\n          <Row>\n            <p>\n              Press here to reveal the true population distribution and mean:{' '}\n              <Button active={stage >= 2} variant=\"outline-primary\" onClick={() => setStage(2)}>Reveal</Button>\n            </p>\n          </Row>\n        </Container>\n      )}\n      <br/>\n      {(stage >= 2) && (\n        <div>\n          <PopulationChartReveal\n            popArr={(testType === 'twoSample') ? originalPop : popArr}\n            popArr2={(testType === 'twoSample') ? popArr : []}\n            mu0={+mu0}\n            equality={equality}\n            reject={pValue < alpha}\n            testType={testType}\n          />\n          <Button variant=\"outline-primary\" active={stage >= 3} onClick={() => setStage(3)}>Simulate Type I Error</Button>\n        </div>\n      )}\n      {(stage >= 3) && (\n        <SimulateTypeOneError\n          popShape={shape}\n          mu0={(testType === 'twoSample') ? populationMean(popArr) : +mu0}\n          alpha={+alpha}\n          distType={distType}\n          sides={sides}\n          equality={equality}\n          testType={testType}\n          sd1={(testType === 'twoSample') ? originalPopSD : populationSD}\n          sd2={populationSD}\n        />\n      )}\n    </Container>\n  )\n}\n\nPerformTest.propTypes = {\n  distType: PropTypes.string.isRequired,\n  shape: popShapeType.isRequired,\n  sides: PropTypes.oneOf([1, 2]).isRequired,\n  mu0: PropTypes.number.isRequired,\n  equality: hypothesisEqualityType.isRequired,\n  testType: testTypeType.isRequired\n}\n","import SelectorButtonGroup from '../SelectorButtonGroup';\nimport { Row } from 'react-bootstrap';\nimport PropTypes from 'prop-types';\nimport { distributionType } from '../../lib/types.js';\nimport { InlineMath } from 'react-katex';\n\nexport default function TestInputs({ setDistType, distType, testType, setTestType, popShape, setPopType }) {\n  return (\n    <div style={{ padding: 20 }}>\n      <Row style={{ padding: 10 }}>\n        <div>\n          Do you want to assume that you know <InlineMath math=\"\\sigma\"/>? If yes, choose Z. If no, choose T: {' '}\n          <SelectorButtonGroup options={['Z', 'T']} select={setDistType} selected={distType}/>\n        </div>\n      </Row>\n      <Row style={{ padding: 10 }}>\n        <div>\n          Choose a kind of hypothesis test: {' '}\n          <SelectorButtonGroup options={['oneSample', 'twoSample']} select={setTestType} selected={testType}/>\n        </div>\n      </Row>\n      <Row style={{ padding: 10 }}>\n        <div>\n          <div style={{ paddingBottom: 10 }}>Choose a population distribution shape:</div>\n          <SelectorButtonGroup options={['Normal', 'Uniform', 'Mystery', '??Unknown??']} select={setPopType} selected={popShape}/>\n        </div>\n      </Row>\n    </div>\n  )\n}\n\nTestInputs.propTypes = {\n  testType: PropTypes.string.isRequired,\n  setTestType: PropTypes.func.isRequired,\n  popShape: PropTypes.string.isRequired,\n  setPopType: PropTypes.func.isRequired,\n  setDistType: PropTypes.func.isRequired,\n  distType: distributionType.isRequired,\n}\n","import { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { DropdownButton, Form, InputGroup, Dropdown } from 'react-bootstrap';\nimport { HYPOTHESIS_OPTIONS } from '../../lib/constants';\nimport { stringOrNumberType } from '../../lib/types';\n\nexport default function HypothesisSelector({ testType, setHypothesis, mu0, setMu0 }) {\n  const [selected, setSelected] = useState(HYPOTHESIS_OPTIONS[testType][0].hypoText);\n\n  useEffect(() => {\n    setSelected(HYPOTHESIS_OPTIONS[testType][0].hypoText)\n    setHypothesis(HYPOTHESIS_OPTIONS[testType][0])\n  }, [testType, setHypothesis])\n\n  const selectOption = (option) => {\n    setHypothesis(option);\n    setSelected(option.hypoText)\n  }\n\n  const menuOptions = HYPOTHESIS_OPTIONS[testType].map((obj) =>\n    <Dropdown.Item onClick={() => selectOption(obj)} key={obj.hypoText}>{obj.hypoText}</Dropdown.Item>\n  );\n\n  return (\n    <InputGroup>\n      <DropdownButton variant=\"secondary\" title={selected}>\n        {menuOptions}\n      </DropdownButton>\n      {(testType === 'oneSample') && (\n        <>\n          <Form.Control\n            type=\"number\"\n            value={mu0}\n            step={1}\n            min={1}\n            max={1000}\n            onChange={(event) => setMu0(event.target.value)}\n          />\n          <InputGroup.Text>gallons of milk per day.</InputGroup.Text>\n        </>\n      )}\n    </InputGroup>\n  )\n}\n\nHypothesisSelector.propTypes = {\n  testType: PropTypes.string.isRequired,\n  setHypothesis: PropTypes.func.isRequired,\n  mu0: stringOrNumberType.isRequired,\n  setMu0: PropTypes.func.isRequired\n}\n","import { useEffect, useState } from 'react';\nimport PerformTest from './PerformTest.js';\nimport { Alert, Container, Row, Button } from 'react-bootstrap';\nimport TestInputs from './TestInputs.js';\nimport HypothesisSelector from './HypothesisSelector.js';\nimport _ from 'lodash';\n\nexport default function HypothesisTesting() {\n  const [popShape, setPopShape] = useState('');\n  const [testType, setTestType] = useState('');\n  const [hypothesis, setHypothesis] = useState();\n  const [mu0, setMu0] = useState(64);\n  const [stage, setStage] = useState(1);\n  const [distType, setDistType] = useState('Z'); // can be \"Z\" or \"T\"\n\n  useEffect(() => {\n    if ((popShape !== '') && (testType !== '')) {\n      setStage(2)\n    }\n  }, [popShape, testType, distType]);\n\n  return (\n    <div className=\"module-container\">\n      <TestInputs\n        testType={testType}\n        setDistType={setDistType}\n        distType={distType}\n        setTestType={setTestType}\n        popShape={popShape}\n        setPopType={setPopShape}\n      />\n      {(stage >= 2) && (\n        <Container fluid>\n          <Row>\n            <Alert variant=\"secondary\">\n              <p>The true population distribution will be revealed at the end.</p>\n              {(testType === 'oneSample') ? (\n                <p>\n                  Suppose that our farmer has changed the variety of feed the cows eat. It might be reasonable to think that the cows now produce more or less milk than they had before. As a researcher, what assertion would you like to make about these cows’ milk production now? Choose an Option and specify a hypothesized amount. To help make an informed guess, note that the distribution of milk production before we changed the feed had a mean of about 64 gallons\n                </p>\n              ) : (\n                <p>\n                  Suppose that our farmer has changed the variety of feed the cows eat. It might be reasonable to think that the cows now produce more or less milk than they had before. As a researcher, what assertion would you like to make about these cows’ milk production now? Let Population 1 denote the cows before the feed change and Population 2 denote the cows after the change. Choose an Option below.\n                </p>\n              )}\n            </Alert>\n          </Row>\n          <br/>\n          <Row style={{ width: '95%', margin: 'auto' }}>\n            <HypothesisSelector testType={testType} setHypothesis={setHypothesis} mu0={mu0} setMu0={setMu0}/>\n          </Row>\n          <br/>\n          <Button\n            variant=\"outline-primary\"\n            onClick={() => setStage(3)}\n            active={stage >= 3}\n          >\n            Continue\n          </Button>\n          <br/>\n          <br/>\n          {(stage >= 3) && (\n            <Container>\n              <Row>\n                <Alert variant=\"secondary\" >\n                  <p>This means our null and alternative hypotheses are given by:</p>\n                  <p>{hypothesis.nullH} {(testType === 'oneSample') && mu0}</p>\n                  <p>{hypothesis.alterH} {(testType === 'oneSample') && mu0}</p>\n                </Alert>\n              </Row>\n              <br/>\n              <Row>\n                <PerformTest\n                  distType={distType}\n                  shape={(popShape === '??Unknown??') ? _.sample(['Normal', 'Uniform', 'Mystery']) : popShape}\n                  sides={hypothesis.sides}\n                  mu0={+mu0}\n                  equality={hypothesis.type}\n                  testType={testType}\n                />\n              </Row>\n            </Container>\n          )}\n        </Container>\n      )}\n    </div>\n  )\n}\n","import SimulationIntro from '../SimulationIntro.js';\nimport HypothesisTesting from './HypothesisTesting.js';\n\nexport default function HypothesisTestingContainer() {\n  return (\n    <div className=\"module-container\">\n      <SimulationIntro\n        name=\"Hypothesis Testing\"\n        text=\"When we conduct a test of hypotheses, we use the information provided by a sample to make a conclusion about population parameters that we cannot directly observe. We are able to make a connection between the sample and the population by using the rules that govern probability distributions. Due to the central limit theorem, we can make a variety of assertions about the probable location of points in a distribution, which allows us to make assertions about where population parameters might be located relative to the data we have collected from a sample. This allows us to test hypotheses.\"\n      />\n      <br/>\n      <HypothesisTesting/>\n    </div>\n  )\n}\n","import { Container, Row, Col, Alert } from 'react-bootstrap';\nimport ScatterPlot from '../ScatterPlot.js';\nimport SampleSizeInput from '../SampleSizeInput.js';\nimport _ from 'lodash';\nimport { dataObjectArrayType, olsSampleType } from '../../lib/types.js';\nimport PropTypes from 'prop-types';\nimport 'katex/dist/katex.min.css';\nimport { BlockMath } from 'react-katex';\nimport { OLSE_VALUES } from '../../lib/constants.js';\nimport DataTable from '../DataTable.js';\n\nexport default function PopulationAndSampleCharts({ data, addSamples, selected, samples, selectSample, regressorType }) {\n  const sample = selected || { data: [] };\n\n  const tooltipFormat = (regressorType === 'Binary') ? {\n    headerFormat: '',\n    pointFormat: '<div><strong>{point.category}</strong><br/><strong>${point.y}</strong><br/></div>'\n  } : undefined;\n\n  const mainSeries = [\n    {\n      name: 'data',\n      data,\n      tooltip: tooltipFormat\n    },\n    {\n      name: 'sample',\n      data: sample.data,\n      tooltip: tooltipFormat\n    }\n  ];\n\n  const sampleSeries = [\n    {\n      name: 'best fit line',\n      type: 'line',\n      data: [{ x: 0 }, ...sample.data, { x: OLSE_VALUES[regressorType].xMax }].map((point) => (\n        { x: point.x, y: _.round((point.x * sample.slope) + sample.intercept, 2) }\n      )),\n      label: false,\n      marker: false,\n      showInLegend: sample.data.length > 0,\n      enableMouseTracking: false,\n      color: 'black',\n    },\n    {\n      name: 'sample',\n      type: 'scatter',\n      data: sample.data,\n      color: 'orange',\n      marker: {\n        lineWidth: 1,\n        lineColor: 'orange'\n      },\n      tooltip: tooltipFormat\n    },\n    // add a new series for each 'grayed-out' line\n    // couldn't figure out how to add multiple lines to one series, so this makes it slower with more replications\n    ...samples.filter((sample) => sample !== selected).map(({ data, slope, intercept, id }) => ({\n      name: `Sample ${id}`,\n      type: 'line',\n      data: [{ x: 0 }, ...data.sort((a, b) => a.x - b.x), { x: OLSE_VALUES[regressorType].xMax }].map((point) => (\n        { x: point.x, y: (point.x * slope) + intercept }\n      )),\n      color: '#dddddd',\n      animation: false,\n      label: false,\n      marker: false,\n      showInLegend: false,\n      enableMouseTracking: false,\n      zIndex: -5,\n      states: {\n        hover: {\n          enabled: false\n        },\n        inactive: {\n          enabled: false\n        }\n      }\n    }))\n  ];\n\n  return (\n    <Container>\n      <Row>\n        <Col lg={{ span: 12, offset: 0 }} xl={{ span: 8, offset: 2 }}>\n          <ScatterPlot\n            series={mainSeries}\n            title=\"Population\"\n            xMin={OLSE_VALUES[regressorType].xMin}\n            xMax={OLSE_VALUES[regressorType].xMax}\n            yMin={OLSE_VALUES[regressorType].yMin}\n            yMax={OLSE_VALUES[regressorType].yMax}\n            xLabel={OLSE_VALUES[regressorType].xLabel}\n            yLabel={OLSE_VALUES[regressorType].yLabel}\n            height=\"75%\"\n            xCategories={OLSE_VALUES[regressorType].xCategories}\n            yTickInterval={OLSE_VALUES[regressorType].yTickInterval}\n          />\n        </Col>\n      </Row>\n      <br/>\n      <Row md={1} lg={2}>\n        <Col>\n          <Alert variant=\"primary\">\n            <p>Try drawing some samples and observe the line of best fit on the graph</p>\n            <SampleSizeInput maxSize={data.length} minSize={2} handleClick={addSamples} classname=\"sample-size-input\"/>\n          </Alert>\n          <DataTable\n            data={samples}\n            headers={{\n              'Sample': 'id',\n              'Size': 'size',\n              'Slope': 'slope',\n              'Intercept': 'intercept'\n            }}\n            setSelected={selectSample}\n            setRowColor={(object) => (selected && (object.id === selected.id)) ? '#747EF2' : undefined}\n          />\n        </Col>\n        <Col>\n          <div style={{ marginLeft: '20%' }}>\n            <BlockMath math={`\\\\widehat{${(regressorType === 'Continuous') ? 'Test\\\\ Score' : 'Earnings'}}_i = \\\\hat{\\\\beta}_0 + \\\\hat{\\\\beta}_1{${(regressorType === 'Continuous') ? 'Study\\\\ Hours' : 'Job\\\\ Corps'}_i}`}/>\n            {selected && (\n              <BlockMath math={`\\\\widehat{${(regressorType === 'Continuous') ? 'Test\\\\ Score' : 'Earnings'}}_i = ${selected.intercept} + ${selected.slope}{${(regressorType === 'Continuous') ? 'Study\\\\ Hours' : 'Job\\\\ Corps'}_i}`}/>\n            )}\n          </div>\n          <ScatterPlot\n            series={sampleSeries}\n            xMin={OLSE_VALUES[regressorType].xMin}\n            xMax={OLSE_VALUES[regressorType].xMax}\n            yMin={OLSE_VALUES[regressorType].yMin}\n            yMax={OLSE_VALUES[regressorType].yMax}\n            xLabel={OLSE_VALUES[regressorType].xLabel}\n            yLabel={OLSE_VALUES[regressorType].yLabel}\n            xCategories={OLSE_VALUES[regressorType].xCategories}\n            yTickInterval={OLSE_VALUES[regressorType].yTickInterval}\n          />\n        </Col>\n      </Row>\n    </Container>\n  )\n}\n\nPopulationAndSampleCharts.propTypes = {\n  data: dataObjectArrayType.isRequired,\n  addSamples: PropTypes.func.isRequired,\n  selected: olsSampleType,\n  samples: PropTypes.arrayOf(olsSampleType).isRequired,\n  selectSample: PropTypes.func.isRequired,\n  regressorType: PropTypes.oneOf(['Continuous', 'Binary']).isRequired\n}\n","import { useState, useEffect } from 'react';\nimport Highcharts from 'highcharts';\nimport HighchartsReact from 'highcharts-react-official'\nimport { dataFromDistribution } from '../../lib/stats-utils';\nimport PropTypes from 'prop-types';\nimport { dataObjectArrayType } from '../../lib/types';\nimport { max } from 'mathjs';\nrequire('highcharts/modules/histogram-bellcurve')(Highcharts);\n\nexport default function StandardNormalOLS({ seriesName, data }) {\n  const [chart, setChart] = useState({});\n  const [population] = useState(dataFromDistribution('Normal', 2000, { mean: 0, standardDev: 1 }));\n\n  useEffect(() => {\n    const newChart = {\n      chart: {\n        type: 'scatter',\n        animation: false,\n      },\n      title: {\n        text: `Distribution of Sample ${seriesName}`\n      },\n      xAxis: {\n        title: {\n          text: 'Standard Deviations',\n        },\n        startOnTick: true,\n        endOnTick: true\n      },\n      yAxis: [{  // Primary yAxis\n        startOnTick: true,\n        endOnTick: true,\n        min: 0,\n        max: max(4, ...data.map(({ y }) => y)),\n        allowDecimals: false,\n        title: {\n          text: `Observation of Sample ${seriesName.slice(0, -1)}`\n        }\n      }, {  // Secondary yAxis for bell curve\n        visible: false\n      }],\n      series: [\n        {\n          name: 'Normal Distribution',\n          type: 'bellcurve',\n          baseSeries: 1,\n          zIndex: -1,\n          enableMouseTracking: false,\n          label: false,\n          showInLegend: false,\n          yAxis: 1\n        },\n        {\n          name: 'Data',\n          type: 'scatter',\n          data: population.map(({ x }) => x),\n          visible: false,\n          showInLegend: false\n        },\n        {\n          name: seriesName,\n          data,\n          showInLegend: false,\n          color: 'red',\n          marker: {\n            symbol: 'circle'\n          },\n          tooltip: {\n            pointFormat: `${seriesName}: <b>{point.x}</b><br/>`\n          },\n        }\n      ]\n    }\n    setChart(newChart);\n\n  }, [seriesName, data, population]);\n\n  return <HighchartsReact highcharts={Highcharts} options={chart}/>\n}\n\nStandardNormalOLS.propTypes = {\n  seriesName: PropTypes.string.isRequired,\n  data: dataObjectArrayType.isRequired\n}\n","import DotPlot from '../DotPlot.js';\nimport { max, min } from 'mathjs';\nimport PropTypes from 'prop-types';\nimport { olsSampleType } from '../../lib/types.js';\nimport { convertToStandardNormal, getCounts, populationMean, populationStandardDev } from '../../lib/stats-utils.js';\nimport { Form } from 'react-bootstrap';\nimport { useEffect, useState } from 'react';\nimport { OLSE_VALUES } from '../../lib/constants.js';\nimport _ from 'lodash';\nimport StandardNormalOLS from './StandardNormalOLS.js';\n\nexport default function SlopeDistributionPlot({ samples, regressorType }) {\n  const [standardized, setStandardized] = useState(false);\n\n  useEffect(() => {\n    setStandardized(false)\n  }, [regressorType]);\n\n  const slopeMean = populationMean(samples, 'slope');\n  const slopeSD = populationStandardDev(samples, 'slope')\n  const standardizedData = standardized ? convertToStandardNormal(samples, slopeMean, slopeSD, 'slope') : samples;\n  const plotData = getCounts(standardizedData.map(({ slope }) => _.round(slope, 2)));\n\n  return (\n    <div>\n      {standardized ? (\n        <StandardNormalOLS seriesName=\"Slopes\" data={plotData}/>\n      ) : (\n        <DotPlot\n          series={[{ name: 'Slopes', data: plotData, showInLegend: false }]}\n          title=\"Distribution of Sample Slopes\"\n          xMin={min(OLSE_VALUES[regressorType].slopeMin, ...plotData.map(({ x }) => x))}\n          xMax={max(OLSE_VALUES[regressorType].slopeMax, ...plotData.map(({ x }) => x))}\n          yMax={max(4, ...plotData.map(({ y }) => y))}\n          xLabel=\"Slope\"\n          yLabel=\"Observations of Sample Slope\"\n        />\n      )}\n      <Form.Check\n        checked={standardized}\n        inline\n        className=\"form-switch\"\n        label=\"Convert to Standard Normal\"\n        onChange={() => setStandardized(!standardized)}\n      />\n    </div>\n  )\n}\n\nSlopeDistributionPlot.propTypes = {\n  samples: PropTypes.arrayOf(olsSampleType).isRequired,\n  regressorType: PropTypes.oneOf(['Continuous', 'Binary']).isRequired\n}\n","import DotPlot from '../DotPlot.js';\nimport { max, min } from 'mathjs';\nimport PropTypes from 'prop-types';\nimport { olsSampleType } from '../../lib/types.js';\nimport { convertToStandardNormal, getCounts, populationMean, populationStandardDev } from '../../lib/stats-utils.js';\nimport { Form } from 'react-bootstrap';\nimport { useState, useEffect } from 'react';\nimport { OLSE_VALUES } from '../../lib/constants.js';\nimport _ from 'lodash';\nimport StandardNormalOLS from './StandardNormalOLS.js';\n\nexport default function InterceptDistributionPlot({ samples, regressorType }) {\n  const [standardized, setStandardized] = useState(false);\n\n  useEffect(() => {\n    setStandardized(false)\n  }, [regressorType]);\n\n  const interceptMean = populationMean(samples, 'intercept');\n  const interceptSD = populationStandardDev(samples, 'intercept')\n  const standardizedData = standardized ? convertToStandardNormal(samples, interceptMean, interceptSD, 'intercept') : samples;\n  const plotData = getCounts(standardizedData.map(({ intercept }) => _.round(intercept, 2)));\n\n  return (\n    <div>\n      {standardized ? (\n        <StandardNormalOLS seriesName=\"Intercepts\" data={plotData}/>\n      ) : (\n        <DotPlot\n          series={[{ name: 'Intercepts', data: plotData, showInLegend: false }]}\n          title=\"Distribution of Sample Intercepts\"\n          xMin={min(OLSE_VALUES[regressorType].interceptMin, ...plotData.map(({ x }) => x))}\n          xMax={max(OLSE_VALUES[regressorType].interceptMax, ...plotData.map(({ x }) => x))}\n          yMax={max(4, ...plotData.map(({ y }) => y))}\n          xLabel=\"Intercept\"\n          yLabel=\"Observations of Sample Intercept\"\n        />\n      )}\n      <Form.Check\n        checked={standardized}\n        inline\n        className=\"form-switch\"\n        label=\"Convert to Standard Normal\"\n        onChange={() => setStandardized(!standardized)}\n      />\n    </div>\n  )\n}\n\nInterceptDistributionPlot.propTypes = {\n  samples: PropTypes.arrayOf(olsSampleType).isRequired,\n  regressorType: PropTypes.oneOf(['Continuous', 'Binary']).isRequired\n}\n","import { useEffect, useState } from 'react';\nimport { Button, Form, Alert } from 'react-bootstrap';\nimport PropTypes from 'prop-types';\n\nexport default function MultipleSamplesInput({ populationSize, addSamples, minSize }) {\n  const [numberResamples, setNumberResamples] = useState('');\n  const [resampleSize, setResampleSize] = useState('');\n\n  useEffect(() => {\n    setResampleSize('');\n    setNumberResamples('');\n  }, [populationSize]);\n\n  return (\n    <div>\n      <Alert variant=\"primary\">\n        <p>Simulate drawing many many samples</p>\n        <span>Sample Size:</span>\n        <Form.Control\n          type=\"number\"\n          style={{ width: '50%', margin: 'auto' }}\n          placeholder=\"Sample Size:\"\n          min={minSize}\n          value={resampleSize}\n          onChange={(event) => setResampleSize(event.target.value)}\n        />\n        <br/>\n        <span>Number of Replications:</span>\n        <Form.Control\n          style={{ width: '50%', margin: 'auto' }}\n          min={1}\n          type=\"number\"\n          placeholder=\"Replications:\"\n          onChange={(event) => setNumberResamples(event.target.value)}\n          value={numberResamples}\n        />\n        <br/>\n        <Button\n          variant=\"secondary\"\n          onClick={() => addSamples(resampleSize, numberResamples, true)}\n          disabled={(resampleSize < minSize) || (resampleSize > populationSize) || (numberResamples < 1)}\n        >\n          Run\n        </Button>\n        <Button\n          variant=\"secondary\"\n          onClick={() => addSamples(0, 0, true)}\n        >\n          Clear\n        </Button>\n      </Alert>\n    </div>\n  );\n}\n\nMultipleSamplesInput.propTypes = {\n  populationSize: PropTypes.number.isRequired,\n  addSamples: PropTypes.func.isRequired,\n  minSize: PropTypes.number.isRequired\n}\n","import Papa from 'papaparse';\n\nexport async function fetchCSV(path, callback) {\n  Papa.parse(path, {\n    download: true,\n    skipEmptyLines: true,\n    complete: results => {\n      callback(results.data.slice(1));  // remove headers\n    }\n  })\n}\n\n// source: https://stackoverflow.com/questions/14964035/how-to-export-javascript-array-info-to-csv-on-client-side\nexport function exportToCsv(filename, rows) {\n  const processRow = function (row) {\n    let finalVal = '';\n    for (let j = 0; j < row.length; j++) {\n      let innerValue = row[j] === null ? '' : row[j].toString();\n      if (row[j] instanceof Date) {\n        innerValue = row[j].toLocaleString();\n      }\n      let result = innerValue.replace(/\"/g, '\"\"');\n      if (result.search(/(\"|,|\\n)/g) >= 0) {\n        result = `\"${  result  }\"`;\n      }\n      if (j > 0) {\n        finalVal += ',';\n      }\n      finalVal += result;\n    }\n    return `${finalVal  }\\n`;\n  };\n\n  let csvFile = '';\n  for (let i = 0; i < rows.length; i++) {\n    csvFile += processRow(rows[i]);\n  }\n\n  const blob = new Blob([csvFile], { type: 'text/csv;charset=utf-8;' });\n  if (navigator.msSaveBlob) { // IE 10+\n    navigator.msSaveBlob(blob, filename);\n  } else {\n    const link = document.createElement('a');\n    if (link.download !== undefined) { // feature detection\n      // Browsers that support HTML5 download attribute\n      const url = URL.createObjectURL(blob);\n      link.setAttribute('href', url);\n      link.setAttribute('download', filename);\n      link.style.visibility = 'hidden';\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n    }\n  }\n}\n","import { useEffect, useState } from 'react';\nimport Collapsable from '../Collapsable.js';\nimport _ from 'lodash';\nimport { Container, Row, Col } from 'react-bootstrap';\nimport PopulationAndSampleCharts from './PopulationAndSampleCharts.js';\nimport SlopeDistributionPlot from './SlopeDistributionPlot.js';\nimport InterceptDistributionPlot from './InterceptDistributionPlot.js';\nimport MultipleSamplesInput from './MultipleSamplesInput.js';\nimport PropTypes from 'prop-types';\nimport { generateScatter, linearRegression } from '../../lib/stats-utils.js';\nimport { fetchCSV } from '../../lib/data-utils.js';\n\nexport default function SampleDistributionOLSEstimators({ regressorType }) {\n  const [data, setData] = useState([]);\n  const [samples, setSamples] = useState([]);\n  const [selected, setSelected] = useState();\n\n  useEffect(() => {\n    if (regressorType === 'Continuous') {\n      setData(generateScatter(1000, 7, 2, 2.5, 6, -0.5))\n    } else if (regressorType === 'Binary') {\n      // use a pre-generated dataset\n      const parseData = (results) => {\n        setData(results.map(([x, y, category], id) => ({ x: +x, y: +y, category, id: id + 1 })));\n      }\n      fetchCSV(`${process.env.PUBLIC_URL}/data/Job_Corps_data.csv`, parseData);\n    }\n    setSamples([]);\n    setSelected();\n  }, [regressorType]);\n\n  const addSamples = (size, replications, clear) => {\n    const newSamples = [];\n    for (let i = 0; i < replications; i++) {\n      const sample = _.sampleSize(data, size);\n\n      // ensure that the sample data is spread between both x-categories\n      if ((regressorType === 'Binary') && (_.uniq(sample.map(({ x }) => x)).length === 1)) {\n        i -= 1;\n        continue;\n      }\n\n      const { slope, intercept } = linearRegression(sample, 1);\n      const sampleObject = {\n        data: sample,\n        size,\n        slope,\n        intercept,\n      }\n      newSamples.push(sampleObject);\n    }\n    const indexedSamples = (clear ? newSamples : [...samples, ...newSamples]).map((obj, index) => ({ ...obj, id: index + 1 }));\n    setSelected(indexedSamples[indexedSamples.length - 1]);\n    setSamples(indexedSamples);\n  }\n\n  return (\n    <Collapsable>\n      <Container>\n        <PopulationAndSampleCharts\n          data={data}\n          addSamples={addSamples}\n          selected={selected}\n          samples={samples}\n          selectSample={setSelected}\n          regressorType={regressorType}\n        />\n        <br/>\n        <Row>\n          <Col xs={{ span: 8, offset: 2 }}>\n            <MultipleSamplesInput populationSize={data.length} addSamples={addSamples} minSize={2}/>\n          </Col>\n        </Row>\n        <Row>\n          <Col>\n            <SlopeDistributionPlot samples={samples} regressorType={regressorType}/>\n          </Col>\n          <Col>\n            <InterceptDistributionPlot samples={samples} regressorType={regressorType}/>\n          </Col>\n        </Row>\n      </Container>\n    </Collapsable>\n  );\n}\n\nSampleDistributionOLSEstimators.propTypes = {\n  regressorType: PropTypes.oneOf(['Continuous', 'Binary']).isRequired\n}\n","import { Button, Modal } from 'react-bootstrap';\nimport PropTypes from 'prop-types';\nimport { useState } from 'react';\n\nexport default function JobCorpsDataPopup({ showButton }) {\n  const [showDataInfo, setShowDataInfo] = useState(false);\n\n  return (\n    <>\n      {showButton && (\n        <>\n          <Button size=\"sm\" variant=\"outline-success\" onClick={() => setShowDataInfo(!showDataInfo)}>\n            More about this dataset\n          </Button>\n          <Modal show={showDataInfo} onHide={() => setShowDataInfo(false)} size=\"lg\" centered>\n            <Modal.Header>\n              <Modal.Title>More about this dataset:</Modal.Title>\n              <Button variant=\"light\" className=\"btn-close\" onClick={() => setShowDataInfo(false)}/>\n            </Modal.Header>\n            <Modal.Body>\n              The Department of Labor commissioned a multi-year study of Job Corps, the nation’s largest education and job training program for disadvantaged youth. The study randomly assigned applicants into two groups: 1) Job Corp group (participated in the program), and 2) Control group (did not participate in the program). Information on earnings for both groups was collected in the following years. This randomized control trial (RCT) found that four years after random assignment, Job Corps participants had weekly earnings $16 per month ($211 vs $195) higher than individuals in the control group representing an 8% increase in earnings. We created a synthetic population dataset to match this finding.\n            </Modal.Body>\n            <Modal.Footer>\n              <cite>Schochet, Peter Z, John Burghard, and Sheena McConnell. 2006. “National Job Corps Study and Longer-Term Follow-Up Study: Impact and Benefit-Cost Findings Using Survey and Summary Earnings Records Data.” Mathematica Policy Research, Inc.</cite>\n            </Modal.Footer>\n          </Modal>\n        </>\n      )}\n    </>\n  )\n}\n\nJobCorpsDataPopup.propTypes = {\n  showButton: PropTypes.bool.isRequired\n}\n","import SampleDistributionOLSEstimators from './SampleDistributionOLSEstimators.js';\nimport SelectorButtonGroup from '../SelectorButtonGroup.js';\nimport { useState } from 'react';\nimport { InlineMath } from 'react-katex';\nimport SimulationIntro from '../SimulationIntro.js';\nimport JobCorpsDataPopup from '../JobCorpsDataPopup.js';\n\nexport default function SampleDistributionOLSEstimatorsContainer() {\n  const [regressorType, setRegressorType] = useState('');\n\n  return (\n    <div className=\"module-container\">\n      <SimulationIntro\n        name=\"Sample Distribution of OLS Estimators\"\n        text={<>Like the sample mean, the OLS estimated slope and intercept are random variables with sampling distributions. The Central Limit theorem states that the distribution of the sample average is approximately normal when the sample size is large. This incredibly useful attribute of the sample average also holds for our OLS estimators <InlineMath math=\"\\hat{\\beta}_0\"/> and <InlineMath math=\"\\hat{\\beta}_1\"/>!</>}\n      />\n      <br/>\n      <p>Select a regressor type:</p>\n      <SelectorButtonGroup options={['Continuous', 'Binary']} select={setRegressorType} selected={regressorType}/>\n      <br/>\n      <br/>\n      <JobCorpsDataPopup showButton={regressorType === 'Binary'}/>\n      <br/>\n      <br/>\n      {regressorType && <SampleDistributionOLSEstimators regressorType={regressorType}/>}\n    </div>\n  );\n}\n","import { Fragment, useState } from 'react';\nimport Plot from 'react-plotly.js';\nimport _ from 'lodash';\nimport { column, inv, matrix, max, min, multiply, transpose } from 'mathjs';\nimport PropTypes from 'prop-types';\nimport { MULTIPLE_REGRESSION_VALUES } from '../../lib/constants';\nimport { Col, Form, Row, Button } from 'react-bootstrap';\nimport { linearRegression } from '../../lib/stats-utils';\n\nexport default function Scatter3D({ x, y, z, dataSet }) {\n  const [display, setDisplay] = useState('3D');\n  const [showBestFit, setShowBestFit] = useState(false);\n\n  const values = MULTIPLE_REGRESSION_VALUES[dataSet][display];\n\n  // list of objects for the data to be displayed in the plot\n  const plotData = [\n    {\n      x: (display === 'YZ') ? y : x,\n      y: ((display === 'XY') || (display === '3D')) ? y : z,\n      z,\n      type: (display === '3D') ? 'scatter3d' : 'scatter',\n      mode: 'markers',\n      marker: {\n        size: (display === '3D') ? 8 : 12,\n        color: 'red',\n        line: {\n          color: 'black',\n          width: (display === '3D') ? 1 : 0.5\n        }\n      },\n      hovertemplate: `${values.xAbbr}: %{x}<br>${values.yAbbr}: %{y}<br>${(display === '3D') ? `${values.zAbbr}: %{z}` : ''}<extra></extra>`\n    }\n  ];\n\n  let title = '';\n\n  if (display === '3D' && showBestFit) {\n    // matrix math to generate a best-fit plane\n    const A = matrix(_.zip(_.range(0, x.length).map(() => 1), x, y));\n\n    const theta = multiply(inv(multiply(transpose(A), A)), multiply(transpose(A), matrix(z)));\n\n    title = `${values.zAbbr}ᵢ = ${_.round(column([theta], 0), 2)} + ${_.round(column([theta], 1), 2)} * ${values.xAbbr}ᵢ + ${_.round(column([theta], 2), 2)} * ${values.yAbbr}ᵢ + uᵢ`;\n\n    const equation = (x, y) => {\n      return column([theta], 0) + column([theta], 1) * x + column([theta], 2) * y\n    }\n\n    /*\n      surface plot must be of the form:\n      [\n        [z, z, z, z, z, ...],  <-- x\n        [z, z, z, z, z, ...],\n        ...\n      ]\n          ^y\n    */\n\n    // fill from 0 to min(y) with lists of undefined so the surface isn't displayed in this space\n    const bestFitPlane = _.range(0, _.floor(min(y))).map(() => _.range(0, _.ceil(max(x))).map(() => undefined));\n\n    for (let yi = _.floor(min(y)); yi <= _.ceil(max(y)); yi++) {\n      // fill from 0 to min(x) with undefined so the surface isn't displayed in this space\n      const temp = _.range(0, _.floor(min(x))).map(() => undefined)\n      for (let xi = _.floor(min(x)); xi <= _.ceil(max(x)); xi++) {\n        temp.push(equation(xi, yi));\n      }\n      bestFitPlane.push(temp)\n    }\n\n    plotData.push({\n      z: bestFitPlane,\n      type: 'surface',\n      showscale: false,\n      opacity: 0.5,\n      hoverinfo: 'x+y+z',\n      colorscale: [[0, 'rgb(0,0,0)'], [1, 'rgb(0,0,0)']],\n      visible: (display === '3D'),\n      hovertemplate: `${values.xAbbr}: %{x}<br>${values.yAbbr}: %{y}<br>${(display === '3D') ? `${values.zAbbr}: %{z}` : ''}<extra></extra>`\n    });\n\n  } else if (showBestFit) {\n    const displayPointsMap = {\n      'XY': _.zip(x, y),\n      'YZ': _.zip(y, z),\n      'XZ': _.zip(x, z)\n    }\n\n    const { slope, intercept } = linearRegression(displayPointsMap[display]);\n    const [lineX, lineY] = _.unzip(displayPointsMap[display].map((point) => ([point[0], (point[0] * slope) + intercept ])));\n    title = `${values.yAbbr}ᵢ = ${intercept} + ${slope} * ${values.xAbbr}ᵢ + uᵢ`;\n\n    plotData.push({\n      x: lineX,\n      y: lineY,\n      mode: 'lines',\n      marker: {color: 'black'},\n      hovertemplate: '(%{x}, %{y})<extra></extra>'\n    });\n  }\n\n  return (\n    <Row>\n      <Col style={{width: 802, padding: 0}}>\n        <Plot\n          style={{border: '1px solid black'}}\n          data={plotData}\n          layout={{\n            title: {\n              text: title,\n              y: 0.95,\n              yanchor: 'top',\n            },\n            width: 800,\n            height: 700,\n            margin: {\n              l: (display === '3D') ? 0 : 80,\n              r: (display === '3D') ? 0 : 80,\n              t: (display === '3D') ? 0 : 80,\n              b: (display === '3D') ? 0 : 80\n            },\n            showlegend: false,\n            xaxis: {\n              title: values.xLabel,\n              range: values.xRange,\n              tickvals: values.xtickvals,\n              ticktext: values.xticktext\n            },\n            yaxis: {\n              title: values.yLabel,\n              range: values.yRange,\n              tickvals: values.ytickvals,\n              ticktext: values.yticktext\n            },\n            scene: {\n              xaxis: {\n                title: {\n                  text: values.xLabel\n                },\n                range: values.xRange,\n                tickvals: values.xtickvals,\n                ticktext: values.xticktext\n              },\n              yaxis: {\n                title: {\n                  text: values.yLabel\n                },\n                range: values.yRange,\n                tickvals: values.ytickvals,\n                ticktext: values.yticktext\n              },\n              zaxis: {\n                title: {\n                  text: values.zLabel\n                },\n                range: values.zRange\n              },\n              camera: {\n                eye: {\n                  x: 1.6,\n                  y: 1.6,\n                  z: 1.6\n                }\n              }\n            }\n          }}\n          config={{\n            scrollZoom: true,\n            displayModeBar: true,\n            modeBarButtonsToRemove: ['toImage', 'resetCameraLastSave3d', 'select2d', 'lasso2d', 'autoScale2d'],\n          }}\n        />\n        <p>{MULTIPLE_REGRESSION_VALUES[dataSet].citation}</p>\n      </Col>\n      <Col style={{margin: 'auto', paddingLeft: 50}}>\n        <Form>\n          {['3D', 'XY', 'YZ', 'XZ'].map((axes) => (\n            <Fragment key={axes}>\n              <Form.Check\n                checked={display === axes}\n                type=\"radio\"\n                label={MULTIPLE_REGRESSION_VALUES[dataSet][axes].buttonLabel}\n                onChange={() => setDisplay(axes)}\n              />\n              <hr/>\n            </Fragment>\n          ))}\n          <Button\n            onClick={() => setShowBestFit(!showBestFit)}\n            variant=\"outline-primary\"\n            active={showBestFit}\n          >\n            {showBestFit ? 'Hide' : 'Show'} Best Fit {(display === '3D') ? 'Plane' : 'Line'}\n          </Button>\n        </Form>\n      </Col>\n    </Row>\n  )\n}\n\nScatter3D.propTypes = {\n  x: PropTypes.arrayOf(PropTypes.number).isRequired,\n  y: PropTypes.arrayOf(PropTypes.number).isRequired,\n  z: PropTypes.arrayOf(PropTypes.number).isRequired,\n  dataSet: PropTypes.oneOf(['California Schools Data', 'CPS Earnings Data', 'CPS Log Earnings Data']).isRequired\n}\n","import { useEffect, useState } from 'react';\nimport Scatter3D from './Scatter3D';\nimport _ from 'lodash';\nimport SelectorButtonGroup from '../SelectorButtonGroup.js';\nimport { fetchCSV } from '../../lib/data-utils';\nimport { MULTIPLE_REGRESSION_VALUES } from '../../lib/constants';\n\nexport default function MultipleRegression() {\n  const [data, setData] = useState([]);\n  const [dataSet, setDataSet] = useState('California Schools Data');\n\n  useEffect(() => {\n    const parseData = (results) => {\n      setData(results.map((object) => _.values(object).map((val) => +val)));\n    }\n\n    fetchCSV(`${process.env.PUBLIC_URL}/data/${MULTIPLE_REGRESSION_VALUES[dataSet].path}`, parseData);\n  }, [dataSet]);\n\n  const [z, x, y] = _.unzip(data);\n\n  return (\n    <>\n      <SelectorButtonGroup\n        options={['California Schools Data', 'CPS Earnings Data', 'CPS Log Earnings Data']}\n        select={setDataSet}\n        selected={dataSet}\n      />\n      <br/>\n      <br/>\n      <Scatter3D x={x || []} y={y || []} z={z || []} dataSet={dataSet}/>\n    </>\n  )\n}\n","import SimulationIntro from '../SimulationIntro';\nimport MultipleRegression from './MultipleRegression';\n\nexport default function MultipleRegressionContainer() {\n\n  return (\n    <div className=\"module-container\">\n      <SimulationIntro\n        name=\"Multiple Regression\"\n        text=\"Unlike single variable regression, multiple regression is hard to sketch on paper. This demonstration helps visualize multiple regression when we have two regressors.\"\n      />\n      <br/>\n      <MultipleRegression/>\n    </div>\n  );\n}\n","import { dataObjectArrayType, olsAssumptionType, olsSampleType } from '../../lib/types';\nimport ScatterPlot from '../ScatterPlot';\nimport PropTypes from 'prop-types';\nimport { Alert, Form } from 'react-bootstrap';\nimport { OLS_ASSUMPTIONS_TEXTS } from '../../lib/constants';\n\nexport default function PopulationPlot({ data, selected, assumption, showViolation, setShowViolation }) {\n\n  const tooltipFormat = {\n    headerFormat: '',\n    pointFormat: '<div><strong>{point.category}</strong><br/><strong>${point.y}</strong><br/></div>'\n  }\n\n  const sampleData = selected ? selected.data : [];\n\n  const series = [\n    {\n      name: 'data',\n      data,\n      tooltip: tooltipFormat\n    },\n    {\n      name: 'sample',\n      data: sampleData.filter((obj) => !obj.altered),\n      tooltip: tooltipFormat\n    },\n    {\n      name: `${showViolation ? '' : 'without '}violation`,\n      data: sampleData.filter((obj) => obj.altered).map((obj) => (\n        {\n          ...obj,\n          x: showViolation ? obj.x : obj.originalX,\n          y: showViolation ? obj.y : obj.originalY\n        }\n      )),\n      tooltip: tooltipFormat,\n      color: showViolation ? 'red' : '#00ff15',\n      marker: {\n        symbol: 'diamond',\n        lineWidth: 1,\n        lineColor: showViolation ? 'black' : '#00ff15'\n      },\n    },\n  ];\n\n  return (\n    <>\n      <ScatterPlot\n        series={series}\n        title=\"Population\"\n        xMin={0}\n        xMax={1}\n        yLabel=\"Weekly Earnings\"\n        height=\"75%\"\n        xCategories={['Control Group', 'Job Corps']}\n      />\n      {((assumption !== 'OLS Assumptions Hold') && selected && selected.data) && (\n        <Alert variant=\"danger\">\n          <p>{OLS_ASSUMPTIONS_TEXTS[assumption]}</p>\n          {((assumption === 'Large Outliers') || (assumption === 'E(u|x) != 0')) && (\n            <Form.Check\n              checked={showViolation}\n              inline\n              className=\"form-switch\"\n              label={`Turn Violation ${showViolation ? 'OFF' : 'ON'}`}\n              onChange={() => setShowViolation(!showViolation)}\n            />\n            )}\n        </Alert>\n      )}\n    </>\n  )\n}\n\nPopulationPlot.propTypes = {\n  data: dataObjectArrayType.isRequired,\n  selected: olsSampleType,\n  assumption: olsAssumptionType.isRequired,\n  showViolation: PropTypes.bool.isRequired,\n  setShowViolation: PropTypes.func.isRequired\n}\n","import { Alert } from 'react-bootstrap';\nimport SampleSizeInput from '../SampleSizeInput';\nimport PropTypes from 'prop-types';\nimport { olsSampleType } from '../../lib/types';\nimport DataTable from '../DataTable';\n\nexport default function SampleInput({ maxSize, addSample, samples, selected, setSelected, showMessage }) {\n\n  return (\n    <>\n      <Alert variant=\"primary\">\n        <p>Try drawing some samples and observe the line of best fit on the graph</p>\n        <SampleSizeInput maxSize={maxSize} minSize={2} handleClick={addSample}/>\n        {showMessage && <p style={{color: 'red'}}>Given this random sample, none of those failing to follow the protocol were selected.</p>}\n      </Alert>\n      <DataTable\n        data={samples}\n        headers={{\n          'Sample': 'id',\n          'Size': 'size',\n          'Slope': 'slope',\n          'Intercept': 'intercept'\n        }}\n        setSelected={setSelected}\n        setRowColor={(object) => (selected && (object.id === selected.id)) ? '#747EF2' : undefined}\n      />\n    </>\n  )\n}\n\nSampleInput.propTypes = {\n  maxSize: PropTypes.number.isRequired,\n  addSample: PropTypes.func.isRequired,\n  samples: PropTypes.arrayOf(olsSampleType).isRequired,\n  selected: olsSampleType,\n  setSelected: PropTypes.func.isRequired,\n  showMessage: PropTypes.bool.isRequired\n}\n","import { BlockMath } from 'react-katex';\nimport ScatterPlot from '../ScatterPlot';\nimport { olsSampleType } from '../../lib/types';\nimport PropTypes from 'prop-types';\nexport default function SamplePlot({ sample, showViolation }) {\n\n  const sampleData = sample ? sample.data : [];\n\n  const lineData = sample ? [\n    {\n      x: 0,\n      y: showViolation ? sample.intercept : sample.originalIntercept\n    },\n    {\n      x: 1,\n      y: (showViolation ? sample.slope : sample.originalSlope) + (showViolation ? sample.intercept : sample.originalIntercept)\n    }\n  ] : [];\n\n  const sampleSeries = [\n    {\n      name: 'best fit line',\n      type: 'line',\n      data: lineData,\n      label: false,\n      marker: false,\n      showInLegend: false,\n      enableMouseTracking: false,\n      color: 'black',\n    },\n    {\n      name: 'sample',\n      data: sampleData.filter((obj) => !obj.altered),\n      color: 'orange',\n      marker: {\n        lineWidth: 1,\n        lineColor: 'orange'\n      },\n      tooltip: {\n        headerFormat: '',\n        pointFormat: '<div><strong>{point.category}</strong><br/><strong>${point.y}</strong><br/></div>'\n      }\n    },\n    {\n      name: `${showViolation ? '' : 'without '}violation`,\n      data: sampleData.filter((obj) => obj.altered).map((obj) => (\n        {\n          ...obj,\n          x: showViolation ? obj.x : obj.originalX,\n          y: showViolation ? obj.y : obj.originalY\n        }\n      )),\n      tooltip: {\n        headerFormat: '',\n        pointFormat: '<div><strong>{point.category}</strong><br/><strong>${point.y}</strong><br/></div>'\n      },\n      marker: {\n        symbol: 'diamond',\n        lineWidth: 1,\n        lineColor: showViolation ? 'black' : '#00ff15'\n      },\n      color: showViolation ? 'red' : '#00ff15'\n    },\n  ];\n\n\n  return (\n    <>\n      <div style={{ marginLeft: '20%' }}>\n        <BlockMath math={'\\\\widehat{Earnings}_i = \\\\hat{\\\\beta}_0 + \\\\hat{\\\\beta}_1{Job\\\\ Corps}_i'}/>\n        {sample && (\n          <BlockMath math={`\\\\widehat{Earnings}_i = ${(showViolation ? sample.intercept : sample.originalIntercept)} + ${(showViolation ? sample.slope : sample.originalSlope)}{Job\\\\ Corps}_i`}/>\n        )}\n      </div>\n      <ScatterPlot\n        series={sampleSeries}\n        xMin={0}\n        xMax={1}\n        yLabel=\"Weekly Earnings\"\n        xCategories={['Control Group', 'Job Corps']}\n      />\n    </>\n  )\n}\n\nSamplePlot.propTypes = {\n  sample: olsSampleType,\n  showViolation: PropTypes.bool.isRequired\n}\n","import { useEffect, useState } from 'react';\nimport Collapsable from '../Collapsable.js';\nimport _ from 'lodash';\nimport { Col, Container, Row } from 'react-bootstrap';\nimport { linearRegression } from '../../lib/stats-utils.js';\nimport PopulationPlot from './PopulationPlot.js';\nimport SampleInput from './SampleInput.js';\nimport SamplePlot from './SamplePlot.js';\nimport SimulateSamples from '../SimulateSamples.js';\nimport { InlineMath } from 'react-katex';\nimport randomNormal from 'random-normal';\nimport { median } from 'mathjs';\nimport { olsAssumptionType } from '../../lib/types.js';\nimport { OLS_ASSUMPTIONS_OPTIONS } from '../../lib/constants.js';\nimport { fetchCSV } from '../../lib/data-utils.js';\n\nexport default function OLSEstimatorsAreConsistent({ assumption }) {\n  const [data, setData] = useState([]);\n  const [samples, setSamples] = useState([]);\n  const [selected, setSelected] = useState();\n  const [showViolation, setShowViolation] = useState(true);\n  const [showMessage, setShowMessage] = useState(false);\n\n  useEffect(() => {\n    // use a pre-generated dataset\n    const parseData = (results) => {\n      setData(results.map(([x, y, category], id) => ({ x: +x, y: +y, category, id: id + 1 })));\n    }\n\n    fetchCSV(`${process.env.PUBLIC_URL}/data/Job_Corps_data.csv`, parseData);\n  }, []);\n\n  useEffect(() => {\n    setSamples([]);\n    setSelected();\n    setShowViolation(true);\n  }, [assumption]);\n\n  useEffect(() => {\n    if (selected && assumption === 'E(u|x) != 0') {\n      // display a message if no violation occurs\n      setShowMessage(selected.data.every((obj) => !obj.altered))\n    }\n  }, [selected, assumption]);\n\n  // takes a sample of 'size' from 'population' - the sample is altered based on 'assumption'\n  const samplingFunction = (population, size) => {\n    const medianValue = median(population.map(({ y }) => y));\n\n    if (assumption === 'OLS Assumptions Hold') {\n      // take a normal sample\n      return _.sampleSize(population, size);\n\n    } else if (assumption === 'Non-Random Sample') {\n      // only sample from observations below the median value\n      const belowMedian = population.filter(({ y }) => y < medianValue);\n      const belowMedianSample = _.sampleSize(belowMedian, size);\n      // if the sample size is too big, resample from below the median\n      const belowMedianResample = _.sampleSize(belowMedian, size - belowMedian.length);\n      return [...belowMedianSample, ...belowMedianResample];\n\n    } else if (assumption === 'Large Outliers') {\n      // take a normal sample, then multiply the income by 2 of 20% of the sampled jobCorps observations\n      const sample = _.sampleSize(population, size);\n      const sampleJobCorps = sample.filter(({ category }) => category === 'Job Corps');\n      const randomIndices = _.sampleSize(_.range(0, sampleJobCorps.length), _.round(sampleJobCorps.length * 0.2));\n      const alteredJobCorps = sampleJobCorps.map((obj, idx) => (\n        {\n          ...obj,\n          // store the original x-value\n          originalX: obj.x,\n          y: (randomIndices.includes(idx) ? obj.y * 2 : obj.y),\n          // store the original y-value and mark that the sample was modified\n          originalY: obj.y,\n          altered: randomIndices.includes(idx)\n        }\n      ));\n      const remainingSample = sample.filter(({ id }) => !alteredJobCorps.some((obj) => obj.id === id));\n      return [...remainingSample, ...alteredJobCorps];\n\n    } else if (assumption === 'E(u|x) != 0') {\n      // take a normal sample, then increase 20% of the top sampled control observations by ~16 and move them to the Job Corps\n      const sample = _.sampleSize(population, size);\n      const sampleControl = sample.filter(({ category }) => category === 'Control');\n      const sampleControlAboveMedian = sampleControl.filter(({ y }) => y >= medianValue);\n      const protocolBreakers = _.sampleSize(sampleControlAboveMedian, _.round(size * 0.2)).map((obj) => (\n        {\n          ...obj,\n          x: 1,\n          // store the original x-value\n          originalX: 0,\n          y: obj.y + randomNormal({mean: 16, dev: 5}),\n          // store the original y-value\n          originalY: obj.y,\n          // mark that the sample was modified\n          altered: true\n        }\n      ));\n      const remainingSample = sample.filter(({ id }) => !protocolBreakers.some((obj) => obj.id === id));\n      return [...remainingSample, ...protocolBreakers];\n    }\n  }\n\n  const addSample = (size) => {\n    let sample;\n    do {\n      sample = samplingFunction(data, size);\n      // ensures that the sample has points in both of the x-categories\n    } while (_.uniq(sample.map(({ category }) => category)).length === 1);\n\n    const { slope: violationSlope, intercept: violationIntercept } = linearRegression(sample, 1);\n    const { slope: originalSlope, intercept: originalIntercept } = linearRegression(sample.map(\n      ({ x, y, originalY, altered }) => [x, (altered ? originalY : y)]\n    ), 1);\n\n    // store the slope/intercept from both the altered and non-altered samples\n    const sampleObject = {\n      data: sample,\n      size: sample.length,\n      slope: violationSlope,\n      intercept: violationIntercept,\n      originalSlope,\n      originalIntercept\n    }\n    const newSamples = [...samples, sampleObject].map((obj, index) => ({ ...obj, id: index + 1 }));\n    setSelected(newSamples[newSamples.length - 1]);\n    setSamples(newSamples);\n  }\n\n  const getBestFitSlope = (sample) => {\n    const { slope } = linearRegression(sample, 2);\n    return slope;\n  }\n\n  const getBestFitIntercept = (sample) => {\n    const { intercept } = linearRegression(sample, 2);\n    return intercept;\n  }\n\n  return (\n    <Collapsable>\n      <Container>\n        <Row>\n          <Col lg={{ span: 12, offset: 0 }} xl={{ span: 8, offset: 2 }}>\n            <PopulationPlot\n              data={data}\n              selected={selected}\n              assumption={assumption}\n              showViolation={showViolation}\n              setShowViolation={setShowViolation}\n            />\n          </Col>\n        </Row>\n        <br/>\n        <Row md={1} lg={2}>\n          <Col>\n            <SampleInput\n              maxSize={data.length}\n              addSample={addSample}\n              samples={samples}\n              selected={selected}\n              setSelected={setSelected}\n              showMessage={showMessage}\n            />\n          </Col>\n          <Col>\n            <SamplePlot sample={selected} showViolation={showViolation}/>\n          </Col>\n        </Row>\n        <br/>\n        <Row>\n          <SimulateSamples\n            mathTitle={\n              <p>\n                Population vs Sample Slope\n                <br/>\n                {OLS_ASSUMPTIONS_OPTIONS[assumption]}\n                <br/>\n                <InlineMath math=\"\\hat{\\beta_1}\\ vs\\ \\beta_1\"/>\n              </p>\n            }\n            popArray={data}\n            popValSeriesName={`Population Slope ($${getBestFitSlope(data).toFixed(2)})`}\n            sampleSeriesName=\"Estimated Slope\"\n            yLabel=\"Slope\"\n            sampleFn={samplingFunction}\n            yFn={getBestFitSlope}\n          />\n        </Row>\n        <br/>\n        <Row>\n          <SimulateSamples\n            mathTitle={\n              <p>\n                Population vs Sample Intercept\n                <br/>\n                {OLS_ASSUMPTIONS_OPTIONS[assumption]}\n                <br/>\n                <InlineMath math=\"\\hat{\\beta_0}\\ vs\\ \\beta_0\"/>\n              </p>\n            }\n            popArray={data}\n            popValSeriesName={`Population Intercept ($${getBestFitIntercept(data).toFixed(2)})`}\n            sampleSeriesName=\"Estimated Intercept\"\n            yLabel=\"Intercept\"\n            sampleFn={samplingFunction}\n            yFn={getBestFitIntercept}\n          />\n        </Row>\n      </Container>\n    </Collapsable>\n  );\n}\n\nOLSEstimatorsAreConsistent.propTypes = {\n  assumption: olsAssumptionType.isRequired\n}\n","import OLSEstimatorsAreConsistent from './OLSEstimatorsAreConsistent.js';\nimport SelectorButtonGroup from '../SelectorButtonGroup.js';\nimport { useState } from 'react';\nimport { OLS_ASSUMPTIONS_OPTIONS } from '../../lib/constants.js';\nimport SimulationIntro from '../SimulationIntro.js';\nimport _ from 'lodash';\nimport { InlineMath } from 'react-katex';\nimport JobCorpsDataPopup from '../JobCorpsDataPopup.js';\n\nexport default function OLSEstimatorsAreConsistentContainer() {\n  const [assumption, setAssumption] = useState('');\n\n  const assumptionAsString = _.isObject(assumption) ? _.invert(OLS_ASSUMPTIONS_OPTIONS)[assumption] : assumption;\n\n  return (\n    <div className=\"module-container\">\n      <SimulationIntro\n        name=\"OLS Estimators are Consistent\"\n        text={\n          <>\n            The Least Squares Assumptions:\n            <br/>\n            <br/>\n            <InlineMath math=\"Y_i = \\beta_0 + \\beta_1X_i + u_i, i = 1, \\dotsc , n,\"/> where\n            <br/>\n            <br/>\n            <ol style={{textAlign: 'left'}}>\n              <li style={{margin: 5}}>The error term <InlineMath math=\"u_i\"/> has conditional mean zero given <InlineMath math=\"X_i: E(u_i|X_i)=0\"/>;</li>\n              <li style={{margin: 5}}><InlineMath math=\"(X_i,Y_i), i=1, \\dotsc , n,\"/> are independent and identically distributed (i.i.d.) draws from their joint distribution; and</li>\n              <li style={{margin: 5}}>Large outliers are unlikely: <InlineMath math=\"X_i\"/> and <InlineMath math=\"Y_i\"/> have nonzero finite fourth moments.</li>\n            </ol>\n            <br/>\n            Stock, James H., and Mark W. Watson. 2019. <cite>Introduction to econometrics, 4th Edition.</cite> Boston: Pearson/Addison Wesley.\n          </>\n        }\n      />\n      <br/>\n      <SelectorButtonGroup\n        options={_.values(OLS_ASSUMPTIONS_OPTIONS)}\n        select={setAssumption}\n        selected={assumption}\n      />\n      <br/>\n      <br/>\n      <JobCorpsDataPopup showButton/>\n      <br/>\n      <br/>\n      {assumption && <OLSEstimatorsAreConsistent assumption={assumptionAsString}/>}\n    </div>\n  );\n}\n","import { Table } from 'react-bootstrap';\nimport _ from 'lodash';\nimport { BlockMath } from 'react-katex';\nimport { mean, std, sum } from 'mathjs';\nimport { jStat } from 'jstat';\nimport PropTypes from 'prop-types';\nimport { anovaPopulationObjectType } from '../../lib/types';\n\nexport default function FTest({ populations, samples }) {\n  // calculate F-statistic and p-value\n  const overallSampleMean = (_.flatten(samples).length > 0) ? mean(_.flatten(samples)) : undefined;\n  const SSTR = sum(samples.map((sample) => sample.length * (((sample.length > 0) ? mean(sample) : 0) - overallSampleMean) ** 2));\n  const MSTR = SSTR / (populations.length - 1);\n  const SSE = sum(samples.map((sample) => (sample.length - 1) * ((sample.length > 0) ? std(sample) : 0) ** 2));\n  const MSE = SSE / (sum(samples.map((sample) => sample.length)) - populations.length);\n  const F = MSTR / MSE;\n  const pValue = jStat.anovaftest(...samples);\n\n  return (\n    <Table borderless style={{marginTop: 20}}>\n      <thead>\n        <tr>\n          <th/>\n          <th><BlockMath math={`\\\\bar{\\\\bar{x}} = ${_.round(overallSampleMean, 2)}`}/></th>\n          <th/>\n          <th/>\n        </tr>\n        <tr>\n          <th/>\n          <th>Sum of Squares</th>\n          <th>df</th>\n          <th>Mean Sum of Squares</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr>\n          <td>Due to Treatment</td>\n          <td>{_.round(SSTR, 2)}</td>\n          <td>{populations.length - 1}</td>\n          <td>{_.round(MSTR, 2)}</td>\n        </tr>\n        <tr>\n          <td>Due to Error</td>\n          <td>{_.round(SSE, 2)}</td>\n          <td>{_.flatten(samples).length - populations.length}</td>\n          <td>{_.round(MSE, 2)}</td>\n        </tr>\n        <tr>\n          <td/>\n          <td/>\n          <td><BlockMath math={`F = ${F.toPrecision(3)}`}/></td>\n          <td><BlockMath math={`p-value \\\\approx ${pValue.toPrecision(3)}`}/></td>\n        </tr>\n      </tbody>\n    </Table>\n  )\n}\n\nFTest.propTypes = {\n  populations: PropTypes.arrayOf(anovaPopulationObjectType).isRequired,\n  samples: PropTypes.arrayOf(PropTypes.arrayOf(PropTypes.number)).isRequired\n}\n","import { Col, Row } from 'react-bootstrap';\nimport { getCounts, populationMean, populationStandardDev } from '../../lib/stats-utils';\nimport DotPlot from '../DotPlot';\nimport PropTypes from 'prop-types';\nimport { dataObjectArrayType } from '../../lib/types';\nimport { max } from 'mathjs';\n\nexport default function PopulationRow({ data, sample, id }) {\n\n  const popSeries = [\n    {\n      name: 'Population Observations',\n      data\n    },\n    {\n      name: 'Sampled Observations',\n      data: sample\n    }\n  ];\n\n  const sampleMean = populationMean(sample);\n  const sampleSD = populationStandardDev(sample);\n\n  // determine max height for the sample mean line\n  const yMax = (sample.length > 0) ? max(getCounts(sample.map(({ x }) => x)).map(({ y }) => y)) + 1 : 0;\n\n  const sampleSeries = [\n    {\n      name: 'Sampled Observations',\n      data: getCounts(sample.map(({ x }) => x)),\n      color: 'orange',\n      marker: {\n        lineWidth: 1,\n        lineColor: 'orange',\n        symbol: 'diamond'\n      },\n    },\n    {\n      type: 'line',\n      name: 'Sample Mean',\n      data: [{ x: sampleMean || 0, y: 0 }, { x: sampleMean || 0, y: yMax }],\n      color: 'black',\n      enableMouseTracking: false,\n      label: {\n        format: `<div>Sample Mean: ${sampleMean && sampleMean.toFixed(2)}<br/>Sample SD: ${sampleMean && sampleSD.toFixed(2)}</div>`\n      },\n      visible: (sample.length > 0),\n      showInLegend: (sample.length > 0)\n    }\n  ];\n\n  return (\n    <Row>\n      <Col xs=\"12\" sm={{span: 8, offset: 2}} md={{span: 4, offset: 2}}>\n        <DotPlot\n          series={popSeries}\n          title={`Population ${id}`}\n          xMin={-20}\n          xMax={20}\n          xLabel=\"value\"\n          yLabel=\"Observations\"\n        />\n      </Col>\n      <Col xs=\"12\" sm={{span: 8, offset: 2}} md={{span: 4, offset: 0}}>\n        <DotPlot\n          series={sampleSeries}\n          title={`Sample ${id}`}\n          xMin={-20}\n          xMax={20}\n          xLabel=\"value\"\n          yLabel=\"Observations\"\n        />\n      </Col>\n    </Row>\n  )\n}\n\nPopulationRow.propTypes = {\n  data: dataObjectArrayType.isRequired,\n  sample: dataObjectArrayType.isRequired,\n  id: PropTypes.number.isRequired\n}\n","import { Form, Col, Row } from 'react-bootstrap';\nimport _ from 'lodash';\nimport PropTypes from 'prop-types';\n\nexport default function LabeledSelector({ min, max, label, value, setValue }) {\n  return (\n    <Form>\n      <Form.Group as={Row} className=\"justify-content-md-center\">\n        <Form.Label column sm=\"6\" md=\"auto\">{label}</Form.Label>\n        <Col sm=\"auto\">\n          <select className=\"form-select\" value={value} onChange={(event) => setValue(+event.target.value)}>\n            {_.range(min, max + 1).map((i) => <option key={i} value={i}>{i}</option>)}\n          </select>\n        </Col>\n      </Form.Group>\n    </Form>\n  )\n}\n\nLabeledSelector.propTypes = {\n  min: PropTypes.number.isRequired,\n  max: PropTypes.number.isRequired,\n  label: PropTypes.string.isRequired,\n  value: PropTypes.number.isRequired,\n  setValue: PropTypes.func.isRequired\n}\n","import LabeledSelector from '../LabeledSelector';\nimport PropTypes from 'prop-types';\n\nexport default function PopulationMeanInput({ mean, setMean, id }) {\n\n  const setValue = (value) => {\n    setMean(id, 'mean', +value)\n  }\n\n  return (\n    <LabeledSelector min={-5} max={5} label={`Set mean for Population ${id}: `} value={mean} setValue={setValue}/>\n  )\n}\n\nPopulationMeanInput.propTypes = {\n  mean: PropTypes.number.isRequired,\n  setMean: PropTypes.func.isRequired,\n  id: PropTypes.number.isRequired\n}\n","import { Form, Col, Row } from 'react-bootstrap';\nimport PropTypes from 'prop-types';\nimport { optionalLaTeXType, stringOrNumberType } from '../lib/types';\n\nexport default function LabeledInput({ min, max, step, label, value, setValue }) {\n  return (\n    <Form>\n      <Form.Group as={Row} className=\"justify-content-md-center\">\n        <Form.Label column sm=\"6\" md=\"auto\">{label}</Form.Label>\n        <Col sm=\"auto\">\n          <Form.Control\n            style={{padding: 6}}\n            type=\"number\"\n            min={min}\n            max={max}\n            step={step || 1}\n            value={value}\n            onChange={(event) => setValue(event.target.value)}\n          />\n        </Col>\n      </Form.Group>\n    </Form>\n  )\n}\n\nLabeledInput.propTypes = {\n  min: PropTypes.number.isRequired,\n  max: PropTypes.number.isRequired,\n  step: PropTypes.number,\n  label: optionalLaTeXType.isRequired,\n  value: stringOrNumberType.isRequired,\n  setValue: PropTypes.func.isRequired\n}\n","import PropTypes from 'prop-types';\nimport { stringOrNumberType } from '../../lib/types';\nimport LabeledInput from '../LabeledInput';\n\nexport default function PopulationSampleSizeInput({ sampleSize, setSampleSize, id }) {\n\n  const setValue = (value) => {\n    setSampleSize(id, 'sampleSize', value)\n  }\n\n  return (\n    <LabeledInput min={1} max={500} label={`Set sample size for Population ${id}: `} value={sampleSize} setValue={setValue}/>\n  )\n}\n\nPopulationSampleSizeInput.propTypes = {\n  sampleSize: stringOrNumberType.isRequired,\n  setSampleSize: PropTypes.func.isRequired,\n  id: PropTypes.number.isRequired\n}\n","import _ from 'lodash';\nimport { useState } from 'react'\nimport LabeledSelector from '../LabeledSelector';\nimport PopulationMeanInput from './PopulationMeanInput';\nimport { Button, ButtonGroup, Col, Row } from 'react-bootstrap';\nimport { generateNormal, getCounts } from '../../lib/stats-utils';\nimport PropTypes from 'prop-types';\nimport PopulationSampleSizeInput from './PopulationSampleSizeInput';\nimport { anovaPopulationObjectType } from '../../lib/types.js';\nimport { randomInt } from 'mathjs';\n\nexport default function PopulationSettings({ populations, setPopulations }) {\n  const [stdDev, setStdDev] = useState(3);\n\n  const resetPopulations = () => {\n    const newPops = populations.map((pop) => ({ ...pop, data: [], sample: [] }));\n    setPopulations(newPops);\n  }\n\n  const setNumPops = (numPops) => {\n    if (numPops <= populations.length) {\n      // keep only a slice of the population array but reset the data and the sample\n      const newPops = populations.slice(0, numPops).map((pop) => (\n        {\n          ...pop,\n          data: [],\n          sample: []\n        }\n      ));\n      setPopulations(newPops);\n    } else {\n      const newPops = [\n        // add new populations with randomized mean and sample size of 30 and reset all data and samples\n        ...populations.map((pop) => ({...pop, data: [], sample: []})),\n        ..._.range(populations.length, numPops).map((i) => (\n          {\n            id: i+1,\n            mean: randomInt(-5, 6),\n            sampleSize: 30,\n            data: [],\n            sample: []\n          }\n        ))\n      ];\n      setPopulations(newPops);\n    }\n  };\n\n  const setPopulationAttr = (id, attr, value) => {\n    const newPopulations = populations.map((pop) => {\n      if (pop.id === id) {\n        return {\n          ...pop,\n          [attr]: value,\n          data: (attr === 'mean') ? [] : pop.data,\n          sample: (attr === 'mean') ? [] : pop.sample\n        }\n      } else {\n        return pop\n      }\n    });\n    setPopulations(newPopulations);\n  }\n\n  const generatePopulations = () => {\n    setPopulations(populations.map((pop) => {\n      const data = getCounts(generateNormal(500, pop.mean, stdDev, 1));\n      return { ...pop, data, sample: [] }\n    }));\n  }\n\n  const generateSamples = () => {\n    setPopulations(populations.map((pop) => {\n      const sample = _.sampleSize(pop.data, pop.sampleSize);\n      return { ...pop, sample }\n    }));\n  }\n\n  const changeSTD = (val) => {\n    setStdDev(val);\n    resetPopulations();\n  }\n\n  return (\n    <>\n      <LabeledSelector min={2} max={20} label=\"Set the number of populations:\" value={populations.length} setValue={setNumPops}/>\n      {(populations.length > 0) && (\n        <>\n          <br/>\n          <LabeledSelector min={1} max={4} label=\"Set the standard deviations:\" value={stdDev} setValue={changeSTD}/>\n          <br/>\n        </>\n      )}\n      {populations.map(({ sampleSize, mean, id }) => (\n        <Row key={id}>\n          <Col xl={{span: 4, offset: 2}} xs=\"6\">\n            <PopulationMeanInput mean={mean} setMean={setPopulationAttr} id={id}/>\n          </Col>\n          <Col xl=\"4\" xs=\"6\">\n            <PopulationSampleSizeInput sampleSize={sampleSize} setSampleSize={setPopulationAttr} id={id}/>\n          </Col>\n        </Row>\n      ))}\n      <br/>\n      <ButtonGroup>\n        <Button variant=\"outline-primary\" onClick={() => generatePopulations()}>Generate Populations</Button>\n        <Button\n          variant=\"outline-primary\"\n          disabled={populations.some(({ data }) => data.length === 0)}\n          onClick={() => generateSamples()}\n        >\n          Take Samples\n        </Button>\n      </ButtonGroup>\n    </>\n  )\n}\n\nPopulationSettings.propTypes = {\n  populations: PropTypes.arrayOf(anovaPopulationObjectType).isRequired,\n  setPopulations: PropTypes.func.isRequired\n}\n","import { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { anovaPopulationObjectType, stringOrNumberType } from '../../lib/types';\nimport { Alert, Button, Form, InputGroup } from 'react-bootstrap';\nimport _ from 'lodash';\nimport { mean, std, sum } from 'mathjs';\nimport { jStat } from 'jstat';\nimport HighchartsReact from 'highcharts-react-official';\nimport Highcharts from 'highcharts';\nimport { InlineMath } from 'react-katex';\n\nexport default function DistributionOfFStatistic({ populations, alpha }) {\n  const [numSamples, setNumSamples] = useState('');\n  const [accepts, setAccepts] = useState([]);\n  const [rejects, setRejects] = useState([]);\n\n  const runSimulation = () => {\n    const fStats = [];\n    for (let i = 0; i < numSamples; i++) {\n      // calculate F-statistic and p-value\n      const sampleObjects = populations.map(({ data, sampleSize }) => _.sampleSize(data, sampleSize));\n      const samples = sampleObjects.map((sample) => sample.map(({ x }) => x));\n      const overallSampleMean = (_.flatten(samples).length > 0) ? mean(_.flatten(samples)) : undefined;\n      const SSTR = sum(samples.map((sample) => sample.length * (mean(sample) - overallSampleMean) ** 2));\n      const MSTR = SSTR / (populations.length - 1);\n      const SSE = sum(samples.map((sample) => (sample.length - 1) * std(sample) ** 2));\n      const MSE = SSE / (sum(samples.map((sample) => sample.length)) - populations.length);\n      const F = MSTR / MSE;\n      const pValue = jStat.anovaftest(...samples);\n      // round slightly differently below 1 so there are no f-stats = 0\n      fStats.push({ F: (F < 1) ? +F.toPrecision(2) : _.round(F, 2), pValue, reject: pValue < +alpha });\n    }\n    const fCounts = {};\n    const newRejects = [];\n    const newAccepts = [];\n    // separate F-stats into two arrays for rejecting/failing to reject\n    fStats.forEach(({ F, pValue, reject }) => {\n      fCounts[F] = _.defaultTo(fCounts[F] + 1, 1);\n      const fObject = {\n        x: +F,\n        y: fCounts[F],\n        F,\n        pValue: pValue.toPrecision(3),\n        reject,\n      }\n      if (reject) {\n        newRejects.push(fObject)\n      } else {\n        newAccepts.push(fObject)\n      }\n    });\n    setAccepts(newAccepts);\n    setRejects(newRejects);\n  }\n\n  const chart = {\n    chart: {\n      zoomType: 'xy',\n      animation: false,\n      type: 'scatter'\n    },\n    title: {\n      text: ''\n    },\n    xAxis: {\n      title: {\n        text: 'F-Statistic',\n      },\n      min: 0,\n      startOnTick: true,\n      endOnTick: true\n    },\n    yAxis: {\n      allowDecimals: false,\n      startOnTick: true,\n      endOnTick: true,\n      min: 0,\n      title: {\n        text: 'Observations of F-Statistic'\n      }\n    },\n    tooltip: {\n      pointFormat: 'F-Statistic: <b>{point.F}</b><br/>p-value: <b>{point.pValue}</b><br/>reject H_0: <b>{point.reject}</b></br>'\n    },\n    // fail to reject and reject are in two different series so they can be colored differently\n    // I can't figure out how to color points within one series differently so this is the best option\n    series: [\n      {\n        name: 'Fail to Reject H_0',\n        type: 'scatter',\n        data: accepts,\n        color: '#03fc0b',\n        marker: {\n          symbol: 'diamond',\n          radius: 4,\n          lineColor: 'green',\n          lineWidth: 1\n        }\n      },\n      {\n        name: 'Reject H_0',\n        type: 'scatter',\n        data: rejects,\n        color: 'red',\n        marker: {\n          symbol: 'diamond',\n          radius: 4,\n          lineColor: '#800000',\n          lineWidth: 1\n        }\n      }\n    ]\n  }\n\n  return (\n    <>\n      <Alert variant=\"secondary\">\n        <p>Let's plot the distribution of the F-Statistic:</p>\n        <InputGroup className=\"sample-size-input\">\n          <Form.Control\n            align=\"right\"\n            type=\"number\"\n            placeholder=\"Number of Replications:\"\n            min={1}\n            value={numSamples}\n            onChange={(event) => setNumSamples(event.target.value)}\n          />\n          <Button\n            variant=\"secondary\"\n            disabled={!numSamples || numSamples < 1} onClick={() => runSimulation()}\n          >\n            Simulate\n          </Button>\n        </InputGroup>\n      {([...accepts, ...rejects].length > 0) && (\n        <>\n          <p>\n            <strong>Distribution of F-Statistic </strong>\n            (<InlineMath math={`df_{num} = ${populations.length - 1}, df_{den} = ${sum(populations.map(({ sampleSize }) => sampleSize)) - populations.length}`}/>)\n          </p>\n          <HighchartsReact highcharts={Highcharts} options={chart}/>\n        </>\n      )}\n      </Alert>\n      {([...accepts, ...rejects].length > 0) && (\n        <Alert variant=\"primary\">\n          {`We rejected the null hypothesis in ${100 * rejects.length / (rejects.length + accepts.length)}% of replications.`}\n        </Alert>\n      )}\n    </>\n  )\n}\n\nDistributionOfFStatistic.propTypes = {\n  populations: PropTypes.arrayOf(anovaPopulationObjectType).isRequired,\n  alpha: stringOrNumberType.isRequired\n}\n","import { min } from 'mathjs';\nimport { Col, Row } from 'react-bootstrap';\nimport DotPlot from '../DotPlot';\nimport PropTypes from 'prop-types';\nimport { anovaPopulationObjectType } from '../../lib/types';\n\nexport default function SimulationPopulationsDisplay({ populations }) {\n  return (\n    <Row xs={1} sm={2} md={min(populations.length, 4)}>\n      {populations.map(({ id, data }) => (\n        <Col key={id}>\n          <DotPlot\n            series={[{ name: 'Population Observations', data, showInLegend: false }]}\n            title={`Population ${id}`}\n            xMin={-20}\n            xMax={20}\n            xLabel=\"Value\"\n            yLabel=\"Observations\"\n          />\n        </Col>\n      ))}\n    </Row>\n  )\n}\n\nSimulationPopulationsDisplay.propTypes = {\n  populations: PropTypes.arrayOf(anovaPopulationObjectType).isRequired\n}\n","import _ from 'lodash';\nimport { useEffect, useState } from 'react';\nimport { Button } from 'react-bootstrap';\nimport { InlineMath } from 'react-katex';\nimport { generateNormal, getCounts } from '../../lib/stats-utils';\nimport LabeledInput from '../LabeledInput';\nimport LabeledSelector from '../LabeledSelector';\nimport PropTypes from 'prop-types';\nimport { stringOrNumberType } from '../../lib/types';\n\nexport default function SimulationPopulationSettings({ setPopulations, alpha, setAlpha }) {\n  const [numPops, setNumPops] = useState(2);\n  const [mean, setMean] = useState(0);\n  const [stdDev, setStdDev] = useState(3);\n\n  useEffect(() => {\n    setPopulations([]);\n  }, [numPops, alpha, mean, stdDev, setPopulations]);\n\n  const generatePopulations = () => {\n    const newPopulations = _.range(1, numPops + 1).map((id) => ({\n      data: getCounts(generateNormal(500, mean, stdDev, 1)),\n      id,\n      sampleSize: 30\n    }));\n    setPopulations(newPopulations);\n  }\n\n  return (\n    <>\n      <LabeledSelector min={2} max={20} label=\"Number of populations:\" value={numPops} setValue={setNumPops}/>\n      <br/>\n      <LabeledInput\n        min={0}\n        max={1}\n        step={0.01}\n        label={<>Tolerance <InlineMath math=\"\\alpha\"/>:</>}\n        value={alpha}\n        setValue={setAlpha}\n      />\n      <br/>\n      <p>\n        The null hypothesis <InlineMath math=\"H_0\"/> is that <InlineMath math={`\\\\mu_1 = \\\\mu_2 ${(numPops > 3) ? '= \\\\dotsc' : ''} ${(numPops > 2) ? `= \\\\mu_{${numPops}}` : ''}`}/>.\n      </p>\n      <LabeledSelector min={-5} max={5} label=\"Set mean of all populations:\" value={mean} setValue={setMean}/>\n      <br/>\n      <LabeledSelector min={1} max={4} label=\"Set the standard deviations:\" value={stdDev} setValue={setStdDev}/>\n      <br/>\n      <Button\n        variant=\"outline-primary\"\n        onClick={() => generatePopulations()}\n      >\n        Generate Populations\n      </Button>\n    </>\n  )\n}\n\nSimulationPopulationSettings.propTypes = {\n  setPopulations: PropTypes.func.isRequired,\n  alpha: stringOrNumberType.isRequired,\n  setAlpha: PropTypes.func.isRequired\n}\n","import PropTypes from 'prop-types';\nimport { Row } from 'react-bootstrap';\nimport { anovaPopulationObjectType } from '../../lib/types';\nimport LabeledInput from '../LabeledInput';\n\nexport default function SimulationSampleSettings({ populations, setPopulations }) {\n  const setSampleSize = (id, value) => {\n    const newPopulations = populations.map((pop) => ({\n      ...pop,\n      sampleSize: (pop.id === id) ? value : pop.sampleSize\n    }));\n    setPopulations(newPopulations);\n  }\n\n  return (\n    <>\n      {populations.map(({ sampleSize, id }) => (\n        <Row key={id}>\n          <LabeledInput\n            min={1}\n            max={500}\n            label={`Set sample size for Population ${id}: `}\n            value={sampleSize}\n            setValue={(val) => setSampleSize(id, val)}/>\n        </Row>\n      ))}\n    </>\n  )\n}\n\nSimulationSampleSettings.propTypes = {\n  populations: PropTypes.arrayOf(anovaPopulationObjectType).isRequired,\n  setPopulations: PropTypes.func.isRequired\n}\n","import { useState } from 'react';\nimport { Button } from 'react-bootstrap';\nimport DistributionOfFStatistic from './DistributionOfFStatistic';\nimport SimulationPopulationsDisplay from './SimulationPopulationsDisplay';\nimport SimulationPopulationSettings from './SimulationPopulationSettings';\nimport SimulationSampleSettings from './SimulationSampleSettings';\n\nexport default function SimulateType1Error() {\n  const [showSim, setShowSim] = useState(false);\n  const [populations, setPopulations] = useState([]);\n  const [alpha, setAlpha] = useState(0.05);\n\n  return (\n    <>\n      <Button\n        active={showSim}\n        variant=\"outline-primary\"\n        onClick={() => setShowSim(true)}\n      >\n        Simulate Type I Error for ANOVA\n      </Button>\n      <br/>\n      <br/>\n      {showSim && (\n        <>\n          <SimulationPopulationSettings\n            setPopulations={setPopulations}\n            alpha={alpha}\n            setAlpha={setAlpha}\n          />\n          <br/>\n          <br/>\n          {(populations.length > 0) && (\n            <>\n              <SimulationPopulationsDisplay populations={populations}/>\n              <br/>\n              <SimulationSampleSettings populations={populations} setPopulations={setPopulations}/>\n              <br/>\n              <DistributionOfFStatistic populations={populations} alpha={alpha}/>\n            </>\n          )}\n        </>\n      )}\n    </>\n  )\n}\n","import { randomInt } from 'mathjs';\nimport { useState, Fragment, useEffect } from 'react';\nimport { Button } from 'react-bootstrap';\nimport FTest from './FTest';\nimport PopulationRow from './PopulationRow';\nimport PopulationSettings from './PopulationSettings';\nimport SimulateType1Error from './SimulateType1Error';\n\nexport default function ANOVA() {\n  const [showResults, setShowResults] = useState(false);\n  const [populations, setPopulations] = useState([\n    {\n      id: 1,\n      mean: randomInt(-5, 6),\n      sampleSize: 30,\n      data: [],\n      sample: []\n    },\n    {\n      id: 2,\n      mean: randomInt(-5, 6),\n      sampleSize: 30,\n      data: [],\n      sample: []\n    }\n  ]);\n\n  useEffect(() => {\n    setShowResults(false)\n  }, [populations]);\n\n  const samples = populations.map(({ sample }) => sample.map(({ x }) => x));\n\n  return (\n    <>\n      <PopulationSettings populations={populations} setPopulations={setPopulations}/>\n      {populations.every(({ data }) => data.length !== 0) && (\n        <>\n          {populations.map(({ id, data, sample, sampleSize }) => (\n            <Fragment key={id}>\n              <hr/>\n              <PopulationRow data={data} sample={sample} id={id} sampleSize={sampleSize}/>\n            </Fragment>\n          ))}\n          <hr/>\n          <Button\n            variant=\"outline-primary\"\n            active={showResults}\n            onClick={() => setShowResults(true)}\n            disabled={samples.some((sample) => sample.length === 0)}\n          >\n            Run F-Test\n          </Button>\n          {showResults && (\n            <>\n              <FTest populations={populations} samples={samples}/>\n              <hr/>\n              <SimulateType1Error/>\n            </>\n          )}\n        </>\n      )}\n    </>\n  )\n}\n","import { InlineMath } from 'react-katex';\nimport SimulationIntro from '../SimulationIntro';\nimport ANOVA from './ANOVA';\n\nexport default function ANOVAContainer() {\n\n  return (\n    <div className=\"module-container\">\n      <SimulationIntro\n        name=\"ANOVA\"\n        text={<>The module presents a simple version of ANOVA (Analysis of Variance), in which we test the null hypothesis that the means of two or more populations are equal. We have to make two assumptions to begin: (1) all population groups are normally distributed, and (2) the population standard deviations of all groups are equal. After we take samples, we compose a test statistic (<InlineMath math=\"F\"/>) that compares the variation across groups to the variation within groups.</>}\n      />\n      <br/>\n      <ANOVA/>\n    </div>\n  );\n}\n","import { Form, ListGroup } from 'react-bootstrap';\nimport PropTypes from 'prop-types';\nimport { fixedEffectsToggleType } from '../../lib/types';\n\nexport default function EffectsToggle({ effects, toggleEffect, means, toggleMean, olsLines, toggleOLSLine }) {\n  return (\n    <ListGroup variant=\"flush\" style={{width: 'fit-content', margin: 'auto'}}>\n      <ListGroup.Item>\n        <Form.Label>Entity Fixed Effects:</Form.Label>\n        {[1, 2].map((i) => (\n          <Form.Check\n            key={i}\n            checked={means.entities.includes(i)}\n            type=\"checkbox\"\n            label={`Show means for Entity ${i}`}\n            onChange={() => toggleMean(i, 'entities')}\n          />\n        ))}\n        {[1, 2].map((i) => (\n          <Form.Check\n            key={i}\n            checked={effects.entities.includes(i)}\n            type=\"checkbox\"\n            label={`De-mean Entity ${i}`}\n            onChange={() => toggleEffect(i, 'entities')}\n          />\n        ))}\n      </ListGroup.Item>\n      <ListGroup.Item>\n        <Form.Label>Period Fixed Effects:</Form.Label>\n        {[0, 1, 2].map((i) => (\n          <Form.Check\n            key={i}\n            checked={means.periods.includes(i)}\n            type=\"checkbox\"\n            label={`Show means for Period ${i+1}`}\n            onChange={() => toggleMean(i, 'periods')}\n          />\n        ))}\n        {[0, 1, 2].map((i) => (\n          <Form.Check\n            key={i}\n            checked={effects.periods.includes(i)}\n            type=\"checkbox\"\n            label={`De-mean Period ${i+1}`}\n            onChange={() => toggleEffect(i, 'periods')}\n          />\n        ))}\n      </ListGroup.Item>\n      <ListGroup.Item>\n        <Form.Label>Show OLS Lines:</Form.Label>\n        {['Naive', 'With Entity Fixed Effect', 'With Period Fixed Effect', 'With Both Fixed Effects'].map((type) => (\n          <Form.Check\n            key={type}\n            checked={olsLines.includes(type)}\n            type=\"checkbox\"\n            label={type}\n            onChange={() => toggleOLSLine(type)}\n          />\n        ))}\n      </ListGroup.Item>\n    </ListGroup>\n  )\n}\n\nEffectsToggle.propTypes = {\n  effects: fixedEffectsToggleType.isRequired,\n  toggleEffect: PropTypes.func.isRequired,\n  means: fixedEffectsToggleType.isRequired,\n  toggleMean: PropTypes.func.isRequired,\n  olsLines: PropTypes.arrayOf(PropTypes.string).isRequired,\n  toggleOLSLine: PropTypes.func.isRequired\n}\n","import Plot from 'react-plotly.js';\nimport _ from 'lodash';\nimport { mean } from 'mathjs';\nimport { linearRegression } from '../../lib/stats-utils';\nimport { fixedEffectsDataType, fixedEffectsToggleType } from '../../lib/types';\nimport PropTypes from 'prop-types';\n\nconst PLOT_MAX = 12;\nconst PLOT_MIN = -12;\n\nexport default function FixedEffectsPlot({ data, effects, means, olsLines }) {\n\n  // returns a de-meaned value based on settings that the user selects\n  const demean = (val, id, dim, index) => {\n    let newVal = val;\n    if (effects.entities.includes(id)) {\n      newVal -= mean(data[id][dim]);\n    }\n    if (effects.periods.includes(index)) {\n      newVal -= mean(data[1][dim][index], data[2][dim][index])\n    }\n    return newVal;\n  }\n\n  // construct a new data set with the de-meaned points\n  const newData = {\n    1: {\n      x: data[1].x.map((xi, i) => demean(xi, 1, 'x', i)),\n      y: data[1].y.map((yi, i) => demean(yi, 1, 'y', i))\n    },\n    2: {\n      x: data[2].x.map((xi, i) => demean(xi, 2, 'x', i)),\n      y: data[2].y.map((yi, i) => demean(yi, 2, 'y', i))\n    }\n  }\n\n  const periodColorMap = {\n    0: 'green',\n    1: 'purple',\n    2: 'orange'\n  }\n  const entityColorMap = {\n    1: 'red',\n    2: 'blue'\n  }\n\n  // calculate the mean lines\n  const xMeans = [];\n  const yMeans = [];\n  means.periods.forEach((p) => {\n    xMeans.push({\n      label: `X̄<sub>i${p+1}</sub>`,\n      value: mean(data[1].x[p], data[2].x[p]),\n      color: periodColorMap[p]\n    });\n    yMeans.push({\n      label: `Ȳ<sub>i${p+1}</sub>`,\n      value: mean(data[1].y[p], data[2].y[p]),\n      color: periodColorMap[p]\n    });\n  });\n  means.entities.forEach((e) => {\n    xMeans.push({\n      label: `X̄<sub>${e}t</sub>`,\n      value: mean(data[e].x),\n      color: entityColorMap[e]\n    });\n    yMeans.push({\n      label: `Ȳ<sub>${e}t</sub>`,\n      value: mean(data[e].y),\n      color: entityColorMap[e]\n    });\n  });\n\n  // separate de-meaning function for the ols lines\n  const demeanForOLS = (val, id, dim, index, type) => {\n    let newVal = val;\n    if ((type === 'With Entity Fixed Effect') || (type === 'With Both Fixed Effects')) {\n      newVal -= mean(data[id][dim]);\n    }\n    if ((type === 'With Period Fixed Effect') || (type === 'With Both Fixed Effects')) {\n      newVal -= mean(data[1][dim][index], data[2][dim][index])\n    }\n    return newVal;\n  }\n\n  // calculate the ols lines\n  const bestFitLines = [];\n  olsLines.forEach((type) => {\n    const zippedPoints = _.zip(\n      [\n        ...data[1].x.map((xi, i) => demeanForOLS(xi, 1, 'x', i, type)),\n        ...data[2].x.map((xi, i) => demeanForOLS(xi, 2, 'x', i, type))\n      ],\n      [\n        ...data[1].y.map((yi, i) => demeanForOLS(yi, 1, 'y', i, type)),\n        ...data[2].y.map((yi, i) => demeanForOLS(yi, 2, 'y', i, type))\n      ]\n    );\n    const { slope, intercept } = linearRegression(zippedPoints);\n\n    // plotly annotations can go outside the plot\n    // so this finds the closest point where both ends of the line will be within the plot\n    let lineMin = PLOT_MIN;\n    while (lineMin * slope + intercept < PLOT_MIN) {\n      lineMin += 0.1\n    }\n    let lineMax = PLOT_MAX;\n    while (lineMax * slope + intercept > PLOT_MAX) {\n      lineMax -= 0.1\n    }\n\n    bestFitLines.push({ slope, intercept, label: type, lineMin, lineMax })\n  });\n\n  // determine where the arrows to show the de-meaning should go\n  const dataMidpoints = { 1: { x: data[1].x, y: [] }, 2: { x: data[2].x, y: [] } }\n  _.keys(dataMidpoints).forEach((id) => {\n    const ys = _.zip(data[id].y, newData[id].y);\n    ys.forEach(([orig, now]) => dataMidpoints[id].y.push(orig + (now - orig)));\n  });\n  const firstArrows1 = _.zip(_.zip(dataMidpoints[1].x, dataMidpoints[1].y), _.zip(data[1].x, data[1].y));\n  const secondArrows1 = _.zip(_.zip(newData[1].x, newData[1].y), _.zip(dataMidpoints[1].x, dataMidpoints[1].y));\n  const firstArrows2 = _.zip(_.zip(dataMidpoints[2].x, dataMidpoints[2].y), _.zip(data[2].x, data[2].y));\n  const secondArrows2 = _.zip(_.zip(newData[2].x, newData[2].y), _.zip(dataMidpoints[2].x, dataMidpoints[2].y));\n\n  return (\n    <Plot\n      data={[\n\n        // plot the actual points\n        {\n          x: newData[1].x,\n          y: newData[1].y,\n          name: 'Entity 1',\n          type: 'scatter',\n          text: _.range(1, 4).map((i) => `(X<sub>1${i}</sub>, Y<sub>1${i}</sub>)`),\n          textposition: 'bottom right',\n          mode: 'markers+text',\n          marker: {\n            color: 'red',\n            size: 10\n          },\n          hoverinfo: 'x+y'\n        },\n        {\n          x: newData[2].x,\n          y: newData[2].y,\n          name: 'Entity 2',\n          type: 'scatter',\n          text: _.range(1, 4).map((i) => `(X<sub>2${i}</sub>, Y<sub>2${i}</sub>)`),\n          textposition: 'bottom right',\n          mode: 'markers+text',\n          marker: {\n            color: 'blue',\n            size: 10\n          },\n          hoverinfo: 'x+y'\n        },\n\n        // plot the original locations of the points\n        {\n          x: data[1].x,\n          y: data[1].y,\n          name: 'Entity 1',\n          type: 'scatter',\n          mode: 'markers',\n          marker: {\n            color: 'red',\n            size: 10,\n            opacity: 0.25\n          },\n          hoverinfo: 'x+y',\n          showlegend: false\n        },\n        {\n          x: data[2].x,\n          y: data[2].y,\n          name: 'Entity 2',\n          type: 'scatter',\n          mode: 'markers',\n          marker: {\n            color: 'blue',\n            size: 10,\n            opacity: 0.25\n          },\n          hoverinfo: 'x+y',\n          showlegend: false\n        }\n      ]}\n      layout={{\n        width: 780,\n        height: 780,\n        xaxis: {\n          range: [PLOT_MIN, PLOT_MAX]\n        },\n        yaxis: {\n          range: [PLOT_MIN, PLOT_MAX]\n        },\n        legend: {\n          itemclick: false,\n          itemdoubleclick: false\n        },\n        transition: {\n          duration: 500,\n          easing: 'sin'\n        },\n        annotations: [\n          // draw the mean lines\n          ...xMeans.map(({ label, value, color }) => ({\n            x: value,\n            y: PLOT_MIN,\n            xref: 'x',\n            yref: 'y',\n            text: label,\n            showarrow: true,\n            arrowside: 'none',\n            arrowcolor: color,\n            arrowwidth: 1,\n            ax: value,\n            ay: PLOT_MAX,\n            axref: 'x',\n            ayref: 'y'\n          })),\n          ...yMeans.map(({ label, value, color }) => ({\n            y: value,\n            x: PLOT_MAX,\n            xref: 'x',\n            yref: 'y',\n            text: label,\n            showarrow: true,\n            arrowside: 'none',\n            arrowcolor: color,\n            arrowwidth: 1,\n            ay: value,\n            ax: PLOT_MIN,\n            axref: 'x',\n            ayref: 'y'\n          })),\n          // draw the ols lines\n          ...bestFitLines.map(({ label, slope, intercept, lineMin, lineMax }) => ({\n            y: lineMax * slope + intercept,\n            x: lineMax,\n            xref: 'x',\n            yref: 'y',\n            text: label,\n            showarrow: true,\n            arrowside: 'none',\n            arrowwidth: 1,\n            ay: lineMin * slope + intercept,\n            ax: lineMin,\n            axref: 'x',\n            ayref: 'y'\n          })),\n          // draw the arrows\n          ...[...firstArrows1, ...secondArrows1, ...firstArrows2, ...secondArrows2].map(([[x, y], [ax, ay]], i) => ({\n            x: x - (x - ax > 0 ? 0.3 : (x - ax < 0 ? -0.3 : 0)),  // hack to make sure arrowheads don't overlap with points\n            y,\n            xref: 'x',\n            yref: 'y',\n            showarrow: true,\n            arrowwidth: 1,\n            ax,\n            ay: ay - (y - ay > 0 ? 0.1 : (y - ay < 0 ? -0.1 : 0)),  // hack to make sure arrowheads don't overlap with points\n            axref: 'x',\n            ayref: 'y',\n            opacity: 0.5,\n            arrowcolor: (i < firstArrows1.length + secondArrows1.length) ? 'red' : 'blue'\n          }))\n        ]\n      }}\n      config={{\n        displayModeBar: false\n       }}\n    />\n  )\n}\n\nFixedEffectsPlot.propTypes = {\n  data: fixedEffectsDataType.isRequired,\n  effects: fixedEffectsToggleType.isRequired,\n  means: fixedEffectsToggleType.isRequired,\n  olsLines: PropTypes.arrayOf(PropTypes.string).isRequired\n}\n","import { mean } from 'mathjs';\nimport { Table } from 'react-bootstrap';\nimport { fixedEffectsDataType } from '../../lib/types';\n\nexport default function MeansTable({ data }) {\n\n  const getMean = (id, dim, index) => {\n    if (isNaN(index)) {\n      return mean(data[id][dim]).toFixed(2)\n    }\n    return mean(data[1][dim][index], data[2][dim][index]).toFixed(2);\n  };\n\n  return (\n    <Table>\n      <thead>\n        <tr>\n          <th/>\n          <th>Entity 1</th>\n          <th>Entity 2</th>\n          <th>Period 1</th>\n          <th>Period 2</th>\n          <th>Period 3</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr>\n          <th>Mean of X</th>\n          <td>{getMean(1, 'x')}</td>\n          <td>{getMean(2, 'x')}</td>\n          <td>{getMean(1, 'x', 0)}</td>\n          <td>{getMean(1, 'x', 1)}</td>\n          <td>{getMean(1, 'x', 2)}</td>\n        </tr>\n        <tr>\n          <th>Mean of Y</th>\n          <td>{getMean(1, 'y')}</td>\n          <td>{getMean(2, 'y')}</td>\n          <td>{getMean(1, 'y', 0)}</td>\n          <td>{getMean(1, 'y', 1)}</td>\n          <td>{getMean(1, 'y', 2)}</td>\n        </tr>\n      </tbody>\n    </Table>\n  )\n}\n\nMeansTable.propTypes = {\n  data: fixedEffectsDataType.isRequired\n}\n","import { useState } from 'react';\nimport { Col, Row } from 'react-bootstrap';\nimport EffectsToggle from './EffectsToggle';\nimport FixedEffectsPlot from './FixedEffectsPlot';\nimport MeansTable from './MeansTable';\n\nexport default function FixedEffects() {\n  const [effects, setEffects] = useState({\n    periods: [],\n    entities: []\n  });\n  const [means, setMeans] = useState({\n    periods: [],\n    entities: []\n  });\n  const [olsLines, setOLSLines] = useState([]);\n\n  const toggleEffect = (effect, type) => {\n    let newEffects;\n    if (effects[type].includes(effect)) {\n      newEffects = effects[type].filter((e) => e !== effect)\n    } else {\n      newEffects = [...effects[type], effect]\n    }\n    setEffects({ ...effects, [type]: newEffects });\n  }\n\n  const toggleMean = (mean, type) => {\n    let newMeans;\n    if (means[type].includes(mean)) {\n      newMeans = means[type].filter((m) => m !== mean)\n    } else {\n      newMeans = [...means[type], mean]\n    }\n    setMeans({ ...means, [type]: newMeans });\n  }\n\n  const toggleOLSLine = (type) => {\n    let newLines;\n    if (olsLines.includes(type)) {\n      newLines = olsLines.filter((line) => line !== type)\n    } else {\n      newLines = [...olsLines, type]\n    }\n    setOLSLines(newLines);\n  }\n\n  const data = {\n    1: {\n      x: [-6, 1, 8],\n      y: [-5, -4, 7]\n    },\n    2: {\n      x: [-7, -5, 2],\n      y: [6, 3, 1]\n    }\n  }\n\n  return (\n    <>\n      <Row>\n        <Col>\n          <FixedEffectsPlot data={data} effects={effects} means={means} olsLines={olsLines}/>\n        </Col>\n        <Col style={{margin: 'auto'}}>\n          <EffectsToggle\n            effects={effects}\n            toggleEffect={toggleEffect}\n            means={means}\n            toggleMean={toggleMean}\n            olsLines={olsLines}\n            toggleOLSLine={toggleOLSLine}\n          />\n        </Col>\n      </Row>\n      <MeansTable data={data}/>\n    </>\n  )\n}\n","import SimulationIntro from '../SimulationIntro';\nimport FixedEffects from './FixedEffects';\n\nexport default function FixedEffectsContainer() {\n\n  return (\n    <div className=\"module-container\">\n      <SimulationIntro\n        name=\"Fixed Effects\"\n        text=\"\"\n      />\n      <br/>\n      <FixedEffects/>\n    </div>\n  );\n}\n","import LawOfLargeNumbersContainer from './LawOfLargeNumbers/LawOfLargeNumbersContainer.js';\nimport CentralLimitTheoremContainer from './CentralLimitTheorem/CentralLimitTheoremContainer.js';\nimport JointDistributionsContainer from './JointDistributions/JointDistributionsContainer.js';\nimport LeastSquaresContainer from './LeastSquares/LeastSquaresContainer.js';\nimport OmittedVariableBiasContainer from './OmittedVariableBias/OmittedVariableBiasContainer.js';\nimport ConfidenceIntervalsContainer from './ConfidenceIntervals/ConfidenceIntervalsContainer.js';\nimport HypothesisTestingContainer from './HypothesisTesting/HypothesisTestingContainer.js';\nimport SampleDistributionOLSEstimatorsContainer from './SampleDistributionOLSEstimators/SampleDistributionOLSEstimatorsContainer.js';\nimport MultipleRegressionContainer from './MultipleRegression/MultipleRegressionContainer.js';\nimport { Button } from 'react-bootstrap';\nimport PropTypes from 'prop-types';\nimport { MODULES } from '../lib/constants.js';\nimport OLSEstimatorsAreConsistentContainer from './OLSEstimatorsAreConsistent/OLSEstimatorsAreConsistentContainer.js';\nimport ANOVAContainer from './ANOVA/ANOVAContainer.js';\nimport FixedEffectsContainer from './FixedEffects/FixedEffectsContainer.js';\n\n\nexport default function SimulationContainer({ mode, setMode }) {\n  return (\n    <div data-testid=\"sim-container\" style={{paddingBottom: 25}}>\n      <Button className=\"home-button\" variant=\"outline-danger\" id=\"Menu\" onClick={() => setMode('Home')}>MENU</Button>\n      <div className=\"mini-logo\"/>\n      {mode === 'Law of Large Numbers' && <LawOfLargeNumbersContainer/>}\n      {mode === 'Central Limit Theorem' && <CentralLimitTheoremContainer/>}\n      {mode === 'Joint Distributions' && <JointDistributionsContainer/>}\n      {mode === 'Least Squares' && <LeastSquaresContainer/>}\n      {mode === 'Omitted Variable Bias' && <OmittedVariableBiasContainer/>}\n      {mode === 'Confidence Intervals' && <ConfidenceIntervalsContainer/>}\n      {mode === 'Hypothesis Testing' && <HypothesisTestingContainer/>}\n      {mode === 'Sample Distribution of OLS Estimators' && <SampleDistributionOLSEstimatorsContainer/>}\n      {mode === 'Multiple Regression' && <MultipleRegressionContainer/>}\n      {mode === 'The OLS Estimators are Consistent' && <OLSEstimatorsAreConsistentContainer/>}\n      {mode === 'ANOVA' && <ANOVAContainer/>}\n      {mode === 'Fixed Effects' && <FixedEffectsContainer/>}\n    </div>\n  )\n}\n\nSimulationContainer.propTypes = {\n  setMode: PropTypes.func.isRequired,\n  mode: PropTypes.oneOf(MODULES.map((obj) => obj.name)).isRequired,\n}\n","import { Button } from 'react-bootstrap';\n\nexport default function Footer() {\n  return (\n    <p>\n      <Button\n        size=\"sm\"\n        variant=\"outline-primary\"\n        href=\"https://amandagreggeconomics.com/statistics-simulations-project/\"\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        View teaching materials\n      </Button>\n      {' '}\n      <Button\n        size=\"sm\"\n        variant=\"outline-success\"\n        href=\"https://github.com/ProfessorAmanda/econsimulations\"\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        View code on GitHub\n      </Button>\n    </p>\n  )\n}\n","import { useEffect, useState } from 'react';\nimport SimBar from './SimBar.js';\nimport StartHere from './StartHere';\nimport { Fade } from 'react-bootstrap';\nimport SimulationContainer from './SimulationContainer.js';\nimport Footer from './Footer.js';\n\nexport default function SimulationMenu() {\n  const [mode, setMode] = useState('Home');\n  const [start, setStart] = useState(true);\n  const [logo, setLogo] = useState(true);\n\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setLogo(false);\n    }, 3500);\n\n    return () => clearTimeout(timer);\n  }, []);\n\n  return (\n    start ? (\n      <div>\n        <div className=\"intro-animation\"/>\n        {!logo && (\n          <>\n            <StartHere start={start} showApp={() => setStart(false)}/>\n            <br/>\n            <br/>\n            <br/>\n            <br/>\n            <Footer/>\n          </>\n        )}\n      </div>\n    ) : (\n      <div>\n        {(mode === 'Home') ? (\n          <Fade in={(mode === 'Home')}>\n            <>\n              <SimBar setSection={setMode}/>\n              <Footer/>\n            </>\n          </Fade>\n        ) : (\n          <SimulationContainer mode={mode} setMode={setMode}/>\n        )}\n      </div>\n    )\n  );\n}\n","import './styles/App.css';\nimport SimulationMenu from './components/SimulationMenu.js';\n\nexport default function App() {\n  return (\n    <div className=\"wrapper\">\n      <SimulationMenu/>\n    </div>\n  );\n}\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\n/* eslint-disable */\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\"\n    // [::1] is the IPv6 localhost address.\n    || window.location.hostname === \"[::1]\"\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    || window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n    ),\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (!isLocalhost) {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl); //eslint-disable-line\n      } else {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl); //eslint-disable-line\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log(\"New content is available; please refresh.\");\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404\n        || response.headers.get(\"content-type\").indexOf(\"javascript\") === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\",\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","import ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport App from './App';\n// import registerServiceWorker from './registerServiceWorker';\nimport { unregister } from './registerServiceWorker';\n\nunregister();\n\nReactDOM.render(<App />, document.getElementById(\"root\")); // eslint-disable-line\n// registerServiceWorker();\n"],"sourceRoot":""}